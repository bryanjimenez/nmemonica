{"version":3,"file":"496.2856b808.js","sources":["webpack://nmemonica/./src/components/Input/PlusMinus.tsx","webpack://nmemonica/./src/components/Input/ThresholdFilterSlider.tsx","webpack://nmemonica/./src/components/Settings/SettingsKanji.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { faChevronDown, faChevronUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport classNames from \"classnames\";\nconst infinity = String.fromCharCode(parseInt(\"0x221e\", 16));\nexport default function PlusMinus(props) {\n    const { label = null, value, multiplier = 1, children = null } = props;\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: classNames({\n            \"d-flex flex-row justify-content-end\": true\n        }),\n        children: [\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-column justify-content-center\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        children: label\n                    }),\n                    children\n                ]\n            }),\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-column\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"clickable px-3 text-center\",\n                        onClick: ()=>{\n                            props.onChange((value ?? 0) + Number(multiplier), value ?? 0);\n                        },\n                        children: /*#__PURE__*/ _jsx(FontAwesomeIcon, {\n                            icon: faChevronUp\n                        })\n                    }),\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: classNames({\n                            \"text-center px-2\": true\n                        }),\n                        children: value ?? infinity\n                    }),\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"clickable px-3 text-center\",\n                        onClick: ()=>{\n                            props.onChange(value !== undefined ? Math.max(0, value - Number(multiplier)) : 0, value ?? 0);\n                        },\n                        children: /*#__PURE__*/ _jsx(FontAwesomeIcon, {\n                            icon: faChevronDown\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Slider } from \"@mui/material\";\nimport { SortAscIcon, SortDescIcon } from \"@primer/octicons-react\";\nimport { useCallback, useState } from \"react\";\nimport { heatMap } from \"../../helper/colorHelper\";\nimport { DIFFICULTY_THRLD, MEMORIZED_THRLD } from \"../../helper/sortHelper\";\nexport function ThresholdFilterSlider(props) {\n    const { threshold, setThreshold } = props;\n    const [defaultValue] = useState(Math.abs(threshold));\n    const c = heatMap(Math.abs(threshold) / 100, 0.75);\n    const difficultyMarks = [\n        {\n            value: MEMORIZED_THRLD\n        },\n        {\n            value: DIFFICULTY_THRLD\n        }\n    ];\n    const flipThresholdCB = useCallback(()=>{\n        setThreshold(-1 * threshold);\n    }, [\n        setThreshold,\n        threshold\n    ]);\n    return /*#__PURE__*/ _jsx(_Fragment, {\n        children: /*#__PURE__*/ _jsxs(\"div\", {\n            className: \"w-100 d-flex flex-column\",\n            children: [\n                /*#__PURE__*/ _jsx(\"div\", {\n                    className: \"text-nowrap fs-x-small text-start\",\n                    children: `Difficulty filter: ${threshold}`\n                }),\n                /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"d-flex\",\n                    children: [\n                        /*#__PURE__*/ _jsx(Slider, {\n                            sx: {\n                                color: c\n                            },\n                            defaultValue: defaultValue,\n                            marks: difficultyMarks,\n                            track: threshold < 0 ? undefined : \"inverted\",\n                            onChangeCommitted: (e, newValue)=>{\n                                const sign = threshold < 0 ? -1 : 1;\n                                if (typeof newValue === \"number\") {\n                                    if (newValue === 0) {\n                                        setThreshold(Number(sign));\n                                    } else {\n                                        setThreshold(sign * newValue);\n                                    }\n                                }\n                            },\n                            valueLabelDisplay: \"auto\"\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mt-2 ms-3 \",\n                            onClick: flipThresholdCB,\n                            children: threshold < 0 ? /*#__PURE__*/ _jsx(SortAscIcon, {}) : /*#__PURE__*/ _jsx(SortDescIcon, {})\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { buildAction } from \"../../helper/eventHandlerHelper\";\nimport { labelOptions } from \"../../helper/gameHelper\";\nimport { useConnectKanji } from \"../../hooks/useConnectKanji\";\nimport { useConnectVocabulary } from \"../../hooks/useConnectVocabulary\";\nimport { getKanji, setMemorizedThreshold, setSpaRepMaxItemReview, toggleIncludeNew, toggleIncludeReviewed, toggleKanjiActiveTag, toggleKanjiOrdering } from \"../../slices/kanjiSlice\";\nimport { TermSortBy, TermSortByLabel } from \"../../slices/settingHelper\";\nimport { getVocabulary } from \"../../slices/vocabularySlice\";\nimport SimpleListMenu from \"../Form/SimpleListMenu\";\nimport PlusMinus from \"../Input/PlusMinus\";\nimport SettingsSwitch from \"../Input/SettingsSwitch\";\nimport { ThresholdFilterSlider } from \"../Input/ThresholdFilterSlider\";\nimport { NotReady } from \"../Pages/NotReady\";\nimport { SetTermTagList } from \"../Pages/SetTermTagList\";\nexport default function SettingsKanji() {\n    const dispatch = useDispatch();\n    const { vocabList: vocabulary } = useConnectVocabulary();\n    const { filterType: kanjiFilterREF, sortMethod, difficultyThreshold, activeTags: kanjiActive, kanjiList: kanji, kanjiTagObj: kanjiTags, spaRepMaxReviewItem, includeNew, includeReviewed } = useConnectKanji();\n    const kanjiFilter = kanjiFilterREF.current;\n    const kanjiOrder = sortMethod;\n    useEffect(()=>{\n        if (vocabulary.length === 0) {\n            void dispatch(getVocabulary());\n        }\n        if (Object.keys(kanjiTags).length === 0) {\n            void dispatch(getKanji());\n        }\n    // react-hooks/exhaustive-deps **mount only**\n    // eslint-disable-next-line\n    }, []);\n    if (kanji.length < 1 || Object.keys(kanjiTags).length < 1) return /*#__PURE__*/ _jsx(NotReady, {\n        addlStyle: \"vocabulary-settings\"\n    });\n    const kanjiSelectedTags = Object.values(kanji).filter((k)=>k.tags.some((aTag)=>kanjiActive.includes(aTag)));\n    const el = /*#__PURE__*/ _jsx(\"div\", {\n        className: \"outer\",\n        children: /*#__PURE__*/ _jsxs(\"div\", {\n            className: \"d-flex flex-row justify-content-between\",\n            children: [\n                /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"column-1\",\n                    children: [\n                        /*#__PURE__*/ _jsx(\"span\", {\n                            className: \"fs-5 fw-light\",\n                            children: labelOptions(kanjiFilter, [\n                                \"Kanji Group\",\n                                \"Tags\"\n                            ])\n                        }),\n                        /*#__PURE__*/ _jsx(SetTermTagList, {\n                            selectedCount: kanjiSelectedTags.length === 0 ? Object.values(kanji).length : kanjiSelectedTags.length,\n                            termsTags: kanjiTags,\n                            termsActive: kanjiActive,\n                            toggleTermActive: buildAction(dispatch, toggleKanjiActiveTag)\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"column-2 setting-block\",\n                    children: [\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SimpleListMenu, {\n                                title: \"Sort by:\",\n                                options: TermSortByLabel,\n                                allowed: [\n                                    TermSortBy.DIFFICULTY,\n                                    TermSortBy.RANDOM,\n                                    TermSortBy.VIEW_DATE,\n                                    TermSortBy.RECALL\n                                ],\n                                initial: kanjiOrder,\n                                onChange: (index)=>{\n                                    return buildAction(dispatch, toggleKanjiOrdering)(index);\n                                }\n                            })\n                        }),\n                        kanjiOrder === TermSortBy.RECALL && /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsxs(PlusMinus, {\n                                value: spaRepMaxReviewItem,\n                                onChange: (value)=>{\n                                    dispatch(setSpaRepMaxItemReview(value));\n                                },\n                                children: [\n                                    /*#__PURE__*/ _jsx(\"div\", {\n                                        className: \"text-nowrap\",\n                                        children: \"Max review items\"\n                                    }),\n                                    /*#__PURE__*/ _jsxs(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ _jsxs(\"span\", {\n                                                className: \"clickable\",\n                                                onClick: ()=>{\n                                                    dispatch(setSpaRepMaxItemReview(0));\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ _jsx(\"b\", {\n                                                        children: \"m\"\n                                                    }),\n                                                    \"in\"\n                                                ]\n                                            }),\n                                            \" \",\n                                            \"-\",\n                                            \" \",\n                                            /*#__PURE__*/ _jsxs(\"span\", {\n                                                className: \"clickable\",\n                                                onClick: ()=>{\n                                                    dispatch(setSpaRepMaxItemReview(undefined));\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ _jsx(\"b\", {\n                                                        children: \"M\"\n                                                    }),\n                                                    \"ax\"\n                                                ]\n                                            })\n                                        ]\n                                    })\n                                ]\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"d-flex justify-content-end\",\n                            children: /*#__PURE__*/ _jsx(ThresholdFilterSlider, {\n                                threshold: difficultyThreshold,\n                                setThreshold: buildAction(dispatch, setMemorizedThreshold)\n                            })\n                        }),\n                        kanjiOrder === TermSortBy.VIEW_DATE && /*#__PURE__*/ _jsxs(_Fragment, {\n                            children: [\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                        active: includeNew,\n                                        action: buildAction(dispatch, toggleIncludeNew),\n                                        statusText: \"Staleness +New\"\n                                    })\n                                }),\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                        active: includeReviewed,\n                                        action: buildAction(dispatch, toggleIncludeReviewed),\n                                        statusText: \"Staleness +Reviewed\"\n                                    })\n                                })\n                            ]\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n    return el;\n}\n"],"names":["infinity","String","parseInt","PlusMinus","props","label","value","multiplier","children","Number","undefined","Math","ThresholdFilterSlider","threshold","setThreshold","defaultValue","c","difficultyMarks","flipThresholdCB","e","newValue","sign","SettingsKanji","dispatch","vocabulary","kanjiFilterREF","sortMethod","difficultyThreshold","kanjiActive","kanji","kanjiTags","spaRepMaxReviewItem","includeNew","includeReviewed","kanjiFilter","Object","kanjiSelectedTags","k","aTag","index","kanjiOrder"],"mappings":"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"}