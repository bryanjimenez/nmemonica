"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[196],{4196:(e,s,i)=>{i.r(s),i.d(s,{default:()=>R});var t=i(5893),a=i(195),l=i(5529),n=i(4184),r=i.n(n),c=i(7294),o=i(743),d=i(9983),m=i(8670),u=i(5507),x=i(4133),b=i(7891),v=i(4567),h=i(1557),j=i(6537),p=i(7567),f=i(5834),g=i(6867),N=i(2440),y=i(9334),C=i(1664),M=i(7182),w=i(5697),k=i.n(w);function T(e){const[s,i]=(0,c.useState)(null),[a,n]=(0,c.useState)(e.initial),o=(0,c.useMemo)((()=>e.options),[]);(0,c.useMemo)((()=>{n(e.initial)}),[e.initial]);const d=Boolean(s),m=e=>{i(e.currentTarget)};return(0,t.jsxs)("div",{className:r()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,t.jsx)(N.Z,{component:"nav",disablePadding:!0,children:(0,t.jsx)(f.Z,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":d?"true":void 0,onClick:m,children:(0,t.jsx)(y.Z,{primary:e.title,secondary:o[a],secondaryTypographyProps:{color:"unset"}})})}),(0,t.jsx)(C.Z,{id:"filter-menu",anchorEl:s,open:d,onClose:()=>{i(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:o.map(((s,l)=>(0,t.jsx)(M.Z,{selected:l===a,onClick:s=>((s,t)=>{n(t),i(null),e.onChange(t)})(0,l),children:s},s)))}),(0,t.jsx)(g.Z,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:m,children:(0,t.jsx)(l.Ui8,{size:"medium",className:r()({"rotate-transition":!0,"rotate-90":d})})})]})}T.propTypes={disabled:k().bool,flip:k().bool,title:k().string,options:k().arrayOf(k().string),initial:k().number,onChange:k().func};var Z=i(245);function F(e){const[s]=(0,c.useState)(e.initial),i=Math.min(e.max,s),l=e.max;let n=[],r={};for(let e=0;e<l+1;e++){const s=(e-0)/(l-0)*100;n=[...n,{value:s,raw:e}],r["r"+s]=e,r["s"+e]=s}const o=e=>r["r"+e],d=e=>{const s=o(e),i=Math.trunc(l/2);let t="",a=i+Math.abs(i-s);return l%2!=0&&s<=i&&(a++,t=a+""),l%2==0&&s===i||(t=s<i+1?a+" "+(l-a):l-a+" "+a),t};return(0,t.jsxs)("div",{className:"verb-form-slider-root",children:[(0,t.jsx)(Z.Z,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,t.jsx)(a.ZP,{defaultValue:(m=i,r["s"+m]),valueLabelFormat:d,getAriaValueText:d,"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:n,onChangeCommitted:(s,t)=>{"number"==typeof t&&(s=>{const t=i,a=o(s);a!==t&&e.setChoiceN(a)})(t)}})]});var m}function R(){const e=(0,o.I0)(),{vocabulary:s,vocabGroups:i,vocabOrder:n,vocabRomaji:f,showBareKanji:g,vocabHint:N,vocabActive:y,autoVerbView:C,verbColSplit:M,vocabFilter:w,memoThreshold:k,vocabRep:Z,vocabReinforce:R,verbFormsOrder:G}=(0,u.nF)(),[E]=(0,c.useState)(Math.abs(k));0===Object.keys(i).length&&e((0,b.Rz)());const L=(0,c.useMemo)((()=>Object.keys(Z).filter((e=>{var s;return!0===(null===(s=Z[e])||void 0===s?void 0:s.rein)}))),[Z]),[S,V]=(0,c.useMemo)((()=>{const e=b.E3.setting.verbFormsOrder,s=G.reduce(((s,i)=>(e.includes(i)&&(s=[...s,i]),s)),[]),i=e.reduce(((e,i)=>(s.includes(i)||(e=[...e,i]),e)),[]);return[s,i]}),[G]);if(s.length<1||Object.keys(i).length<1)return(0,t.jsx)(j.n,{addlStyle:"vocabulary-settings"});const O=(0,d.wG)(i,y);if(O.length>0)throw new Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:O}});return(0,t.jsx)("div",{className:"outer",children:(0,t.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,t.jsxs)("div",{className:"column-1",children:[(0,t.jsx)(T,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:w,onChange:(0,m.cM)(e,b.ZZ)}),w===x.Lx.GROUP&&(0,t.jsx)(h.P,{termsGroups:i,termsActive:y,toggleTermActiveGrp:(0,m.cM)(e,b.sG)}),w===x.Lx.FREQUENCY&&0===L.length&&(0,t.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),w===x.Lx.FREQUENCY&&L.length>0&&(0,t.jsx)(v.a,{termsActive:y,termsFreq:L,terms:s,removeFrequencyTerm:(0,m.cM)(e,b.xz),toggleTermActiveGrp:(0,m.cM)(e,b.sG)})]}),(0,t.jsxs)("div",{className:"column-2 setting-block",children:[(0,t.jsx)(T,{title:"Sort by:",options:x.iU,initial:n,onChange:(0,m.cM)(e,b.wf)}),n===x.vl.DIFFICULTY&&(0,t.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,t.jsx)(a.ZP,{defaultValue:E,track:k<0?"inverted":void 0,onChangeCommitted:(s,i)=>{const t=k<0?-1:1;"number"==typeof i&&e((0,b._4)(t*i))},valueLabelDisplay:"auto"}),(0,t.jsx)("div",{className:"mt-2 ms-3 ",onClick:(0,m.cM)(e,b._4,-1*k),children:k<0?(0,t.jsx)(l.k6S,{}):(0,t.jsx)(l.aoE,{})})]}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(p.Z,{active:R,action:(0,m.cM)(e,b.gl),disabled:w===x.Lx.FREQUENCY,statusText:"Reinforcement"})}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(p.Z,{active:f,action:(0,m.cM)(e,b.VX),statusText:"Romaji"})}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(p.Z,{active:g,action:(0,m.cM)(e,b.Vb),statusText:"English+Kanji"})}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(p.Z,{active:N,action:(0,m.cM)(e,b.Tn),statusText:"Hint"})}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(p.Z,{active:C,action:(0,m.cM)(e,b.eK),statusText:"Auto Verb View"})}),C&&(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,t.jsx)("div",{children:[S.map(((s,i)=>(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsx)("div",{className:r()({"me-3":!0,"disabled-color":0===i}),onClick:()=>{if(i>0){const s=S.slice(0,i-1),t=S[i-1],a=S[i],l=S.slice(i+1);e((0,b.Hi)([...s,a,t,...l]))}},children:(0,t.jsx)(l.g8U,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,t.jsx)("span",{className:"w-100 text-start",children:s}),(0,t.jsx)("div",{onClick:()=>{if(S.length>1){const s=[...S.slice(0,i),...S.slice(i+1)];e((0,b.Hi)(s))}},children:(0,t.jsx)(l.oOx,{className:r()({"mt-1 ms-3":!0,"incorrect-color":S.length>1,"disabled-color":1===S.length}),size:"small","aria-label":"remove"})})]},s))),V.map(((s,i)=>(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsx)("div",{className:"me-3 invisible",children:(0,t.jsx)(l.g8U,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,t.jsx)("span",{className:"w-100 text-start disabled-color",children:s}),(0,t.jsx)("div",{onClick:(0,m.cM)(e,b.Hi,[...S,V[i]]),children:(0,t.jsx)(l.wl8,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},s)))]})})}),C&&(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,t.jsx)(F,{initial:M,setChoiceN:(0,m.cM)(e,b.oG),max:G.length,statusText:"Column layout"})})})]})]})})}F.propTypes={statusText:k().string,initial:k().number.isRequired,max:k().number.isRequired,setChoiceN:k().func.isRequired}}}]);