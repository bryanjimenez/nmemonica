"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[52],{2052:(e,s,l)=>{l.r(s),l.d(s,{default:()=>p});var a=l(5893),i=l(5529),n=l(7294),c=l(743),t=l(6537),d=l(9983),r=l(6278),h=l(158),x=l(4933),j=l(8673),m=l(7652),o=l(7891),u=l(3295);function p(){const e=(0,c.I0)(),[s,l]=(0,n.useState)(!1),{vocabList:p,repetition:k}=(0,x.Z)(),{phraseList:g,repetition:v}=(0,h.Q)(),{kanjiList:b,repetition:f}=(0,r.R)(),{keys:N,list:y}=(0,n.useMemo)((()=>(0,d.XQ)(k,p,"[Stale Vocabulary]")),[p,k]),{keys:w,list:S}=(0,n.useMemo)((()=>(0,d.XQ)(v,g,"[Stale Phrase]")),[g,v]),{keys:M,list:C}=(0,n.useMemo)((()=>(0,d.XQ)(f,b,"[Stale Kanji]")),[b,f]),X=(0,n.useMemo)((()=>new Set([...N,...w,...M])),[N,w,M]),J=(0,n.useMemo)((()=>{return(e=[...y,...S,...C]).reduce(((s,l,i)=>{const n=(0,a.jsx)("hr",{},`stale-meta-${l.uid}`),c=(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("span",{className:"col p-0",children:l.key}),(0,a.jsx)("span",{className:"col p-0",children:l.english}),(0,a.jsx)("span",{className:"col p-0 app-sm-fs-xx-small",children:(0,a.jsx)("div",{children:l.uid})})]},l.uid);return s.length>0&&i<e.length?[...s,n,c]:[...s,c]}),[]);var e}),[y,S,C]),Q=(0,n.useMemo)((()=>C.reduce(((e,s)=>"uid"===s.key?[...e,s.uid]:e),[])),[C]),z=(0,n.useMemo)((()=>S.reduce(((e,s)=>"uid"===s.key?[...e,s.uid]:e),[])),[S]),H=(0,n.useMemo)((()=>y.reduce(((e,s)=>"uid"===s.key?[...e,s.uid]:e),[])),[y]),I=(0,n.useCallback)((()=>{z.length>0&&e((0,m.Ic)(z))}),[e,z]),K=(0,n.useCallback)((()=>{H.length>0&&e((0,o.Yp)(H))}),[e,H]),L=(0,n.useCallback)((()=>{Q.length>0&&e((0,j.jY)(Q))}),[e,Q]);return(0,a.jsxs)(a.Fragment,{children:[(z.length>0||H.length>0||Q.length>0)&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h5",{children:"Stale Metadata UID"}),(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsx)("div",{className:"column-1"}),(0,a.jsx)("div",{className:"column-2",children:(0,a.jsxs)("div",{className:"setting-block",children:[z.length>0&&(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsxs)("span",{children:["Phrase: ",z.length]}),(0,a.jsx)("div",{className:"ps-4",onClick:I,children:(0,a.jsx)(i.XHJ,{className:"clickable",size:"small","aria-label":"delete"})})]}),H.length>0&&(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsxs)("span",{children:["Vocabulary: ",H.length]}),(0,a.jsx)("div",{className:"ps-4",onClick:K,children:(0,a.jsx)(i.XHJ,{className:"clickable",size:"small","aria-label":"delete"})})]}),Q.length>0&&(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsxs)("span",{children:["Kanji: ",Q.length]}),(0,a.jsx)("div",{className:"ps-4",onClick:L,children:(0,a.jsx)(i.XHJ,{className:"clickable",size:"small","aria-label":"delete"})})]})]})})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,a.jsx)("h5",{children:"Stale Space Repetition"}),(0,u.collapseExpandToggler)(s,l)]}),(0,a.jsxs)("div",{children:[z.length>0&&(0,a.jsxs)("div",{onClick:I,children:["Stale Phrase Metadata: ",z.length]}),H.length>0&&(0,a.jsxs)("div",{onClick:K,children:["Stale Vocab Metadata: ",H.length]}),Q.length>0&&(0,a.jsxs)("div",{onClick:L,children:["Stale Kanji Metadata: ",Q.length]})]}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)("span",{children:"keys: "+JSON.stringify(Array.from(X))})}),s&&(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)(t.n,{addlStyle:"failed-spacerep-view"}),children:(0,a.jsx)("div",{className:"failed-spacerep-view container mt-2 p-0",children:J})})]})]})}}}]);