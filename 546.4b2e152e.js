"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[546],{1546:(e,d,s)=>{s.r(d),s.d(d,{default:()=>m});var n=s(5893),r=s(7294),l=s(5863),c=s(4953);function t(e,d){const s=Object.keys(e).map((d=>{var s;const n=null===(s=e[d])||void 0===s?void 0:s.lastView;return void 0===n?-1:(0,l.O5)(n)}));let n=new Array(d);return n.fill(0),s.forEach((e=>{e>-1&&e<d&&(n[e]=n[e]?n[e]+1:1)})),n}function i(e){let d={wrong:0,overdue:0,due:0,pending:0,unPlayed:0};return Object.keys(e).map((s=>{var n;const{lastView:r,lastReview:t,accuracyP:i,daysBetweenReviews:a}=null!==(n=e[s])&&void 0!==n?n:{},h=!(!r||0!==(0,l.O5)(r)),j=!(!t||0!==(0,l.O5)(t));if(!t||j||h||"number"!=typeof i)return j?0:(d.unPlayed=d.unPlayed+1,-1);{const e=(0,l.O5)(t),s=(0,c.ct)({accuracy:i/100,daysBetweenReviews:a,daysSinceReview:e});return i<100*c._9?d.wrong+=1:2===s?d.overdue+=1:s>1?d.due+=1:s>0&&(d.pending+=1),s}})),d}function a(e){const d={range:0,unPlayed:0,min:Number.MAX_SAFE_INTEGER,max:-1,mean:Number.NaN,q1:Number.NaN,q2:Number.NaN,q3:Number.NaN};let s=0;const n=Object.keys(e).reduce(((n,r)=>{var c;const t=null===(c=e[r])||void 0===c?void 0:c.lastView;if(void 0!==t){const e=(0,l.O5)(t);return d.min=d.min>e?e:d.min,d.max=d.max<e?e:d.max,s+=e,[...n,e]}return d.unPlayed+=1,n}),[]),r=[...n].sort(((e,d)=>e-d));return d.range=n.length,d.mean=s/n.length,d.q1=r[Math.round(.25*n.length)-1],d.q3=r[Math.round(.75*n.length)-1],n.length%2==0?d.q2=(r[Math.round(.5*n.length)-1]+r[Math.round(.5*n.length)])/2:d.q2=r[Math.round(.5*n.length)-1],d}function h(e){let d=0,s=new Array(10);return s.fill(0),Object.keys(e).map((n=>{var r;const l=null===(r=e[n])||void 0===r?void 0:r.difficultyP;if(void 0===l)return d+=1,-1;{const e=l/10-1;return s[e]=s[e]+1,l}})),s}var j=s(6278),x=s(158),o=s(4933);function m(){const{repetition:e}=(0,x.Q)(),{repetition:d}=(0,o.Z)(),{repetition:s}=(0,j.R)(),{phraseC:l,vocabC:c,kanjiC:m,phraseR:u,vocabR:p,kanjiR:v,phraseQ:N,vocabQ:b,kanjiQ:w,phraseD:y,vocabD:g,kanjiD:f}=(0,r.useMemo)((()=>({phraseC:t(e,5),vocabC:t(d,5),kanjiC:t(s,5),phraseR:i(e),vocabR:i(d),kanjiR:i(s),phraseQ:a(e),vocabQ:a(d),kanjiQ:a(s),phraseD:h(e),vocabD:h(d),kanjiD:h(s)})),[e,d,s]),q=l.map(((e,d)=>new Date(Date.now()-864e5*d).toLocaleString("en-us",{weekday:"short"})));return(0,n.jsxs)("div",{className:"outer",children:[(0,n.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between",children:[(0,n.jsx)("div",{className:"column-1 text-end",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Recall"}),(0,n.jsx)("td",{className:"p-1",children:"-1"}),(0,n.jsx)("td",{className:"p-1",children:"2.0"}),(0,n.jsx)("td",{className:"p-1",children:"(1,2)"}),(0,n.jsx)("td",{className:"p-1",children:"(0,1]"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),(0,n.jsx)("td",{children:u.wrong}),(0,n.jsx)("td",{children:u.overdue}),(0,n.jsx)("td",{children:u.due}),(0,n.jsx)("td",{children:u.pending})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),(0,n.jsx)("td",{children:p.wrong}),(0,n.jsx)("td",{children:p.overdue}),(0,n.jsx)("td",{children:p.due}),(0,n.jsx)("td",{children:p.pending})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),(0,n.jsx)("td",{children:v.wrong}),(0,n.jsx)("td",{children:v.overdue}),(0,n.jsx)("td",{children:v.due}),(0,n.jsx)("td",{children:v.pending})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:u.wrong+p.wrong+v.wrong}),(0,n.jsx)("td",{children:u.overdue+p.overdue+v.overdue}),(0,n.jsx)("td",{children:u.due+p.due+v.due}),(0,n.jsx)("td",{children:u.pending+p.pending+v.pending})]})]})]})}),(0,n.jsx)("div",{className:"column-2 setting-block",children:(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Viewed"}),q.map(((e,d)=>(0,n.jsx)("td",{className:"p-1",children:0===d?"Today":e},`${d} ${e}`)))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),l.map(((e,d)=>(0,n.jsx)("td",{children:e},`${d} ${e}`)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),c.map(((e,d)=>(0,n.jsx)("td",{children:e},`${d} ${e}`)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),m.map(((e,d)=>(0,n.jsx)("td",{children:e},`${d} ${e}`)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{}),l.map(((e,d)=>{var s,r,t;return(0,n.jsx)("td",{children:(null!==(s=l[d])&&void 0!==s?s:0)+(null!==(r=c[d])&&void 0!==r?r:0)+(null!==(t=m[d])&&void 0!==t?t:0)},`total-${q[d]}-${d}`)}))]})]})]})})})]}),(0,n.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between",children:[(0,n.jsx)("div",{className:"column-1 text-end",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"lastView"}),(0,n.jsx)("td",{className:"p-1",children:"new"}),(0,n.jsx)("td",{className:"p-1",children:"mean"}),(0,n.jsx)("td",{className:"p-1",children:"q0"}),(0,n.jsx)("td",{className:"p-1",children:"q1"}),(0,n.jsx)("td",{className:"p-1",children:"q2"}),(0,n.jsx)("td",{className:"p-1",children:"q3"}),(0,n.jsx)("td",{className:"p-1",children:"q4"})]})}),N.range>0&&(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),(0,n.jsx)("td",{children:N.unPlayed}),(0,n.jsx)("td",{children:N.mean.toFixed(1)}),(0,n.jsx)("td",{children:N.min}),(0,n.jsx)("td",{children:N.q1}),(0,n.jsx)("td",{children:N.q2}),(0,n.jsx)("td",{children:N.q3}),(0,n.jsx)("td",{children:N.max})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),(0,n.jsx)("td",{children:b.unPlayed}),(0,n.jsx)("td",{children:b.mean.toFixed(1)}),(0,n.jsx)("td",{children:b.min}),(0,n.jsx)("td",{children:b.q1}),(0,n.jsx)("td",{children:b.q2}),(0,n.jsx)("td",{children:b.q3}),(0,n.jsx)("td",{children:b.max})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),(0,n.jsx)("td",{children:w.unPlayed}),(0,n.jsx)("td",{children:w.mean.toFixed(1)}),(0,n.jsx)("td",{children:w.min}),(0,n.jsx)("td",{children:w.q1}),(0,n.jsx)("td",{children:w.q2}),(0,n.jsx)("td",{children:w.q3}),(0,n.jsx)("td",{children:w.max})]})]})]})}),(0,n.jsx)("div",{className:"column-2 setting-block",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"difficultyP"}),(0,n.jsx)("td",{className:"p-1",children:"0-10"}),(0,n.jsx)("td",{className:"p-1",children:"11-20"}),(0,n.jsx)("td",{className:"p-1",children:"21-30"}),(0,n.jsx)("td",{className:"p-1",children:"31-40"}),(0,n.jsx)("td",{className:"p-1",children:"41-50"}),(0,n.jsx)("td",{className:"p-1",children:"51-60"}),(0,n.jsx)("td",{className:"p-1",children:"61-70"}),(0,n.jsx)("td",{className:"p-1",children:"71-80"}),(0,n.jsx)("td",{className:"p-1",children:"81-90"}),(0,n.jsx)("td",{className:"p-1",children:"91-100"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),y.map(((e,d)=>(0,n.jsx)("td",{children:e},`${d} ${e}`)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),g.map(((e,d)=>(0,n.jsx)("td",{children:e},`${d} ${e}`)))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),f.map(((e,d)=>(0,n.jsx)("td",{children:e},`${d} ${e}`)))]})]})]})})]})]})}}}]);