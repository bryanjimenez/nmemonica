{"version":3,"file":"voice-worker-en.js","sources":["webpack://nmemonica/./src/workers/index.ts","webpack://nmemonica/./src/workers/voiceWorker-en.ts","webpack://nmemonica/./node_modules/@nmemonica/voice-en/voice_en.js","webpack://nmemonica/./node_modules/@nmemonica/voice-en/voice_en_bg.js","webpack://nmemonica/webpack/runtime/async_module","webpack://nmemonica/webpack/runtime/define_property_getters","webpack://nmemonica/webpack/runtime/global","webpack://nmemonica/webpack/runtime/has_own_property","webpack://nmemonica/webpack/runtime/rspack_version","webpack://nmemonica/webpack/runtime/async_wasm_loading","webpack://nmemonica/webpack/runtime/auto_public_path","webpack://nmemonica/webpack/runtime/rspack_unique_id"],"sourcesContent":["export const AUDIO_WORKER_JA_NAME = \"./voice-worker-ja.js\";\nexport const AUDIO_WORKER_EN_NAME = \"./voice-worker-en.js\";\n/**\n * Parse error stack for originating file\n * @param error\n * @returns Origin of error\n */ export function getStackInitial(error) {\n    var _error_stack_split_slice_pop, _error_stack;\n    return ((_error_stack = error.stack) === null || _error_stack === void 0 ? void 0 : (_error_stack_split_slice_pop = _error_stack.split(\"\\n\").slice(-1).pop()) === null || _error_stack_split_slice_pop === void 0 ? void 0 : _error_stack_split_slice_pop.split(\"/\").slice(-1).pop()) ?? \"\";\n}\nexport function isVoiceErrorObject(m) {\n    const test = m;\n    return (test.name === \"Error\" || test.name === \"RuntimeError\") && typeof test.message === \"string\" && typeof test.cause === \"object\";\n}\n/**\n * Convert an unknown exception into Error\n */ export function exceptionToErrorObj(exception, origin) {\n    let error = {\n        name: \"Error\",\n        message: \"Unknown exception\" + origin !== undefined ? ` at ${origin}` : \"\",\n        cause: {}\n    };\n    if (typeof exception === \"string\" && exception.length > 0) {\n        try {\n            // parse a serialized error\n            error = JSON.parse(exception);\n        } catch  {\n            error.message = exception;\n        }\n    } else if (exception instanceof Error || typeof exception === \"object\" && exception !== null) {\n        if (\"name\" in exception) {\n            error.name = exception.name ?? \"Error\";\n        }\n        if (\"message\" in exception) {\n            error.message = exception.message;\n        }\n        if (\"stack\" in exception) {\n            error.stack = exception.stack;\n        }\n        if (\"cause\" in exception && exception.cause !== null && typeof exception.cause === \"object\") {\n            if (\"code\" in exception.cause && typeof exception.cause.code === \"string\") {\n                error.cause.code = exception.cause.code;\n            }\n            if (\"module\" in exception.cause && typeof exception.cause.module === \"string\") {\n                error.cause.module = exception.cause.module;\n            }\n        }\n    }\n    return error;\n}\n","import { buildSpeech as eBuildSpeech } from \"@nmemonica/voice-en\";\nimport { exceptionToErrorObj } from \".\";\nconst wSelf = globalThis.self;\nwSelf.addEventListener(\"message\", messageHandler);\nfunction messageHandler(event) {\n    const data = event.data;\n    const { uid, index, tl: language, q: query, AbortController, englishVoice } = data;\n    if (language === \"en\" && query !== null && typeof eBuildSpeech === \"function\") {\n        let voice_model;\n        switch(englishVoice){\n            case \"default\":\n            case undefined:\n                voice_model = \"Robot Male\";\n                break;\n            default:\n                voice_model = englishVoice;\n        }\n        try {\n            const { uid: resUid, index: resIndex, buffer: resBuffer } = eBuildSpeech(uid, index, query, voice_model);\n            const response = {\n                uid: resUid,\n                index: resIndex,\n                buffer: resBuffer\n            };\n            wSelf.postMessage(response);\n        } catch (exception) {\n            const error = exceptionToErrorObj(exception, \"voice-worker-en\");\n            wSelf.postMessage(error);\n        }\n    }\n}\n","import * as wasm from \"./voice_en_bg.wasm\";\nexport * from \"./voice_en_bg.js\";\nimport { __wbg_set_wasm } from \"./voice_en_bg.js\";\n__wbg_set_wasm(wasm);\nwasm.__wbindgen_start();\n","let wasm;\nexport function __wbg_set_wasm(val) {\n    wasm = val;\n}\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\nlet cachedTextDecoder = new lTextDecoder('utf-8', {\n    ignoreBOM: true,\n    fatal: true\n});\ncachedTextDecoder.decode();\nlet cachedUint8ArrayMemory0 = null;\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\nfunction getArrayU8FromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return getUint8ArrayMemory0().subarray(ptr / 1, ptr / 1 + len);\n}\nfunction addToExternrefTable0(obj) {\n    const idx = wasm.__externref_table_alloc();\n    wasm.__wbindgen_export_3.set(idx, obj);\n    return idx;\n}\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        const idx = addToExternrefTable0(e);\n        wasm.__wbindgen_exn_store(idx);\n    }\n}\nlet WASM_VECTOR_LEN = 0;\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\nlet cachedTextEncoder = new lTextEncoder('utf-8');\nconst encodeString = typeof cachedTextEncoder.encodeInto === 'function' ? function(arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n} : function(arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n};\nfunction passStringToWasm0(arg, malloc, realloc) {\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8ArrayMemory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n    const mem = getUint8ArrayMemory0();\n    let offset = 0;\n    for(; offset < len; offset++){\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8ArrayMemory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\nlet cachedDataViewMemory0 = null;\nfunction getDataViewMemory0() {\n    if (cachedDataViewMemory0 === null || cachedDataViewMemory0.buffer.detached === true || cachedDataViewMemory0.buffer.detached === undefined && cachedDataViewMemory0.buffer !== wasm.memory.buffer) {\n        cachedDataViewMemory0 = new DataView(wasm.memory.buffer);\n    }\n    return cachedDataViewMemory0;\n}\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1, 1) >>> 0;\n    getUint8ArrayMemory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\nexport function run() {\n    wasm.run();\n}\nfunction takeFromExternrefTable0(idx) {\n    const value = wasm.__wbindgen_export_3.get(idx);\n    wasm.__externref_table_dealloc(idx);\n    return value;\n}\n/**\n * Synthesize audio from text in english (tts)\n * @param {string} key\n * @param {number | null | undefined} index\n * @param {string} usr_query\n * @param {EnglishVoice | null} [voice]\n * @returns {QueryResult}\n */ export function buildSpeech(key, index, usr_query, voice) {\n    const ptr0 = passStringToWasm0(key, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len0 = WASM_VECTOR_LEN;\n    const ptr1 = passStringToWasm0(usr_query, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    const ret = wasm.buildSpeech(ptr0, len0, isLikeNone(index) ? 0x100000001 : index >>> 0, ptr1, len1, isLikeNone(voice) ? 3 : (__wbindgen_enum_EnglishVoice.indexOf(voice) + 1 || 3) - 1);\n    if (ret[2]) {\n        throw takeFromExternrefTable0(ret[1]);\n    }\n    return QueryResult.__wrap(ret[0]);\n}\nconst __wbindgen_enum_EnglishVoice = [\n    \"Robot Male\",\n    \"Human Female\"\n];\nconst QueryResultFinalization = typeof FinalizationRegistry === 'undefined' ? {\n    register: ()=>{},\n    unregister: ()=>{}\n} : new FinalizationRegistry((ptr)=>wasm.__wbg_queryresult_free(ptr >>> 0, 1));\nexport class QueryResult {\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(QueryResult.prototype);\n        obj.__wbg_ptr = ptr;\n        QueryResultFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        QueryResultFinalization.unregister(this);\n        return ptr;\n    }\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_queryresult_free(ptr, 0);\n    }\n    /**\n     * @returns {string}\n     */ get uid() {\n        let deferred1_0;\n        let deferred1_1;\n        try {\n            const ret = wasm.__wbg_get_queryresult_uid(this.__wbg_ptr);\n            deferred1_0 = ret[0];\n            deferred1_1 = ret[1];\n            return getStringFromWasm0(ret[0], ret[1]);\n        } finally{\n            wasm.__wbindgen_free(deferred1_0, deferred1_1, 1);\n        }\n    }\n    /**\n     * @param {string} arg0\n     */ set uid(arg0) {\n        const ptr0 = passStringToWasm0(arg0, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.__wbg_set_queryresult_uid(this.__wbg_ptr, ptr0, len0);\n    }\n    /**\n     * @returns {number | undefined}\n     */ get index() {\n        const ret = wasm.__wbg_get_queryresult_index(this.__wbg_ptr);\n        return ret === 0x100000001 ? undefined : ret;\n    }\n    /**\n     * @param {number | null} [arg0]\n     */ set index(arg0) {\n        wasm.__wbg_set_queryresult_index(this.__wbg_ptr, isLikeNone(arg0) ? 0x100000001 : arg0 >>> 0);\n    }\n    /**\n     * @returns {Uint8Array}\n     */ get buffer() {\n        const ret = wasm.__wbg_get_queryresult_buffer(this.__wbg_ptr);\n        var v1 = getArrayU8FromWasm0(ret[0], ret[1]).slice();\n        wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);\n        return v1;\n    }\n    /**\n     * @param {Uint8Array} arg0\n     */ set buffer(arg0) {\n        const ptr0 = passArray8ToWasm0(arg0, wasm.__wbindgen_malloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.__wbg_set_queryresult_buffer(this.__wbg_ptr, ptr0, len0);\n    }\n}\nexport function __wbg_error_7534b8e9a36f1ab4(arg0, arg1) {\n    let deferred0_0;\n    let deferred0_1;\n    try {\n        deferred0_0 = arg0;\n        deferred0_1 = arg1;\n        console.error(getStringFromWasm0(arg0, arg1));\n    } finally{\n        wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n    }\n}\nexport function __wbg_getRandomValues_3c9c0d586e575a16() {\n    return handleError(function(arg0, arg1) {\n        globalThis.crypto.getRandomValues(getArrayU8FromWasm0(arg0, arg1));\n    }, arguments);\n}\nexport function __wbg_log_84025bed9fa5013d(arg0, arg1) {\n    console.log(getStringFromWasm0(arg0, arg1));\n}\nexport function __wbg_new_8a6f238a6ece86ea() {\n    const ret = new Error();\n    return ret;\n}\nexport function __wbg_stack_0ed75d68575b0f3c(arg0, arg1) {\n    const ret = arg1.stack;\n    const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    getDataViewMemory0().setInt32(arg0 + 4 * 1, len1, true);\n    getDataViewMemory0().setInt32(arg0 + 4 * 0, ptr1, true);\n}\nexport function __wbindgen_init_externref_table() {\n    const table = wasm.__wbindgen_export_3;\n    const offset = table.grow(4);\n    table.set(0, undefined);\n    table.set(offset + 0, undefined);\n    table.set(offset + 1, null);\n    table.set(offset + 2, true);\n    table.set(offset + 3, false);\n    ;\n}\nexport function __wbindgen_string_new(arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return ret;\n}\nexport function __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n}\n","var hasSymbol = typeof Symbol === \"function\";\nvar rspackQueues = hasSymbol ? Symbol(\"rspack queues\") : \"__rspack_queues\";\nvar rspackExports = __webpack_require__.aE = hasSymbol ? Symbol(\"rspack exports\") : \"__webpack_exports__\";\nvar rspackError = hasSymbol ? Symbol(\"rspack error\") : \"__rspack_error\";\nvar rspackDone = hasSymbol ? Symbol(\"rspack done\") : \"__rspack_done\";\nvar rspackDefer = __webpack_require__.zS = hasSymbol ? Symbol(\"rspack defer\") : \"__rspack_defer\";\nvar resolveQueue = (queue) => {\n  if (queue && queue.d < 1) {\n    queue.d = 1;\n    queue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => {\n\treturn deps.map((dep) => {\n\t\tif (dep !== null && typeof dep === \"object\") {\n\t\t\tif(!dep[rspackQueues] && dep[rspackDefer]) {\n\t\t\t\tvar asyncDeps = dep[rspackDefer];\n\t\t\t\tvar hasUnresolvedAsyncSubgraph = asyncDeps.some((id) => {\n\t\t\t\t\tvar cache = __webpack_module_cache__[id];\n\t\t\t\t\treturn !cache || cache[rspackDone] === false;\n\t\t\t\t});\n\t\t\t\tif (hasUnresolvedAsyncSubgraph) {\n\t\t\t\t\tvar d = dep;\n\t\t\t\t\tdep = {\n\t\t\t\t\t\tthen(callback) {\n\t\t\t\t\t\t\tPromise.all(asyncDeps.map(__webpack_require__)).then(() => (callback(d)))\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t} else return dep;\n\t\t\t}\n\t\t\tif (dep[rspackQueues]) return dep;\n\t\t\tif (dep.then) {\n\t\t\t\tvar queue = [];\n\t\t\t\tqueue.d = 0;\n\t\t\t\tdep.then((r) => {\n\t\t\t\t\tobj[rspackExports] = r;\n\t\t\t\t\tresolveQueue(queue);\n\t\t\t\t},(e) => {\n\t\t\t\t\tobj[rspackError] = e;\n\t\t\t\t\tresolveQueue(queue);\n\t\t\t\t});\n\t\t\t\tvar obj = {};\n\t\t\t\tobj[rspackDefer] = false;\n\t\t\t\tobj[rspackQueues] = (fn) => (fn(queue));\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t}\n\t\tvar ret = {};\n\t\tret[rspackQueues] = () => {};\n\t\tret[rspackExports] = dep;\n\t\treturn ret;\n\t});\n};\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[rspackExports] = exports;\n\tpromise[rspackQueues] = (fn) => { queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](() => {}); };\n\tmodule.exports = promise;\n\tvar handle = (deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => {\n\t\t\treturn currentDeps.map((d) => {\n\t\t\t\tif(d[rspackDefer]) return d;\n\t\t\t\tif (d[rspackError]) throw d[rspackError];\n\t\t\t\treturn d[rspackExports];\n\t\t\t});\n\t\t}\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[rspackDefer] || dep[rspackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t};\n\tvar done = (err) => ((err ? reject(promise[rspackError] = err) : outerResolve(exports)), resolveQueue(queue), promise[rspackDone] = true);\n\tbody(handle, done);\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.g = (() => {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.rv = () => (\"1.7.5\")","\n    __webpack_require__.v = function(exports, wasmModuleId, wasmModuleHash, importsObj) {\n      \n      var req = fetch(__webpack_require__.p + \"\" + wasmModuleHash + \".module.wasm\");\n      var fallback = function() {\n        return req\n          .then(function(x) { return x.arrayBuffer();})\n          .then(function(bytes) { return WebAssembly.instantiate(bytes, importsObj);})\n          .then(function(res) { return Object.assign(exports, res.instance.exports);});\n\n      }\n      \n      return req.then(function(res) {\n        if (typeof WebAssembly.instantiateStreaming === \"function\") {\n          return WebAssembly.instantiateStreaming(res, importsObj)\n            .then(\n              function(res) { return Object.assign(exports, res.instance.exports);},\n              function(e) {\n                if(res.headers.get(\"Content-Type\") !== \"application/wasm\") {\n                  console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n                  return fallback();\n                }\n                throw e;\n              }\n            );\n        }\n        return fallback();\n      });\n\n    };\n","var scriptUrl;\n\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n  // Technically we could use `document.currentScript instanceof window.HTMLScriptElement`,\n  // but an attacker could try to inject `<script>HTMLScriptElement = HTMLImageElement</script>`\n  // and use `<img name=\"currentScript\" src=\"https://attacker.controlled.server/\"></img>`\n  if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT') scriptUrl = document.currentScript.src;\n  if (!scriptUrl) {\n    var scripts = document.getElementsByTagName(\"script\");\n    if (scripts.length) {\n      var i = scripts.length - 1;\n      while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n    }\n  }\n}\n\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\",\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.',\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n\n__webpack_require__.p = scriptUrl;\n","__webpack_require__.ruid = \"bundler=rspack@1.7.5\";"],"names":["e","JSON","Error","globalThis","TextDecoder","module","Uint8Array","c","TextEncoder","r","g","DataView","FinalizationRegistry","Object","console","arguments","Symbol","Set","Promise","Function","window","fetch","WebAssembly"],"mappings":"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"}