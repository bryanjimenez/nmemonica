(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["405"],{63085:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return j}});var d=s("73909"),t=s("28697"),l=s("25148"),r=s("2079"),i=s("23150"),c=s("87309"),a=s("98190");let h=(0,t.lazy)(()=>s.el("24978").then(s.bind(s,"24978"))),x=(0,t.lazy)(()=>s.el("79178").then(s.bind(s,"79178")));function j(){let{repetition:e}=(0,c.useConnectPhrase)(),{repetition:n}=(0,a.useConnectVocabulary)(),{repetition:s}=(0,i.useConnectKanji)(),{phraseC:j,vocabC:u,kanjiC:o,phraseR:m,vocabR:g,kanjiR:p,phraseQ:N,vocabQ:f,kanjiQ:y,phraseD:b,vocabD:w,kanjiD:v}=(0,t.useMemo)(()=>({phraseC:(0,r.getLastViewCounts)(e,5),vocabC:(0,r.getLastViewCounts)(n,5),kanjiC:(0,r.getLastViewCounts)(s,5),phraseR:(0,r.getRecallCounts)(e),vocabR:(0,r.getRecallCounts)(n),kanjiR:(0,r.getRecallCounts)(s),phraseQ:(0,r.getStalenessCounts)(e),vocabQ:(0,r.getStalenessCounts)(n),kanjiQ:(0,r.getStalenessCounts)(s),phraseD:(0,r.getDifficultyCounts)(e),vocabD:(0,r.getDifficultyCounts)(n),kanjiD:(0,r.getDifficultyCounts)(s)}),[e,n,s]),C=j.map((e,n)=>new Date(Date.now()-864e5*n).toLocaleString("en-us",{weekday:"short"})),S=(0,d.jsxs)("div",{className:"outer",children:[(0,d.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between",children:[(0,d.jsx)("div",{className:"column-1 text-end",children:(0,d.jsxs)("table",{className:"w-50",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Recall"}),(0,d.jsx)("td",{className:"p-1",children:"(0,1)"}),(0,d.jsx)("td",{className:"p-1",children:"[1,2)"}),(0,d.jsx)("td",{className:"p-1",children:"2.0"}),(0,d.jsx)("td",{className:"p-1",children:"-1"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Phrases:"}),(0,d.jsx)("td",{children:m.pending}),(0,d.jsx)("td",{children:m.due}),(0,d.jsx)("td",{children:m.overdue}),(0,d.jsx)("td",{children:m.wrong})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Vocabulary:"}),(0,d.jsx)("td",{children:g.pending}),(0,d.jsx)("td",{children:g.due}),(0,d.jsx)("td",{children:g.overdue}),(0,d.jsx)("td",{children:g.wrong})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Kanji:"}),(0,d.jsx)("td",{children:p.pending}),(0,d.jsx)("td",{children:p.due}),(0,d.jsx)("td",{children:p.overdue}),(0,d.jsx)("td",{children:p.wrong})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{}),(0,d.jsx)("td",{children:m.pending+g.pending+p.pending}),(0,d.jsx)("td",{children:m.due+g.due+p.due}),(0,d.jsx)("td",{children:m.overdue+g.overdue+p.overdue}),(0,d.jsx)("td",{children:m.wrong+g.wrong+p.wrong})]})]})]})}),(0,d.jsx)("div",{className:"column-2 setting-block",children:(0,d.jsx)("div",{className:"mb-2",children:(0,d.jsxs)("table",{className:"w-50",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Viewed"}),C.map((e,n)=>(0,d.jsx)("td",{className:"p-1",children:0===n?"Today":e},`${n.toString()} ${e}`))]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Phrases:"}),j.map((e,n)=>(0,d.jsx)("td",{children:e},`${n.toString()} ${e}`))]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Vocabulary:"}),u.map((e,n)=>(0,d.jsx)("td",{children:e},`${n.toString()} ${e}`))]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Kanji:"}),o.map((e,n)=>(0,d.jsx)("td",{children:e},`${n.toString()} ${e}`))]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{}),j.map((e,n)=>(0,d.jsx)("td",{children:(j[n]??0)+(u[n]??0)+(o[n]??0)},`total-${C[n]}-${n.toString()}`))]})]})]})})})]}),(0,d.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between mb-2",children:[(0,d.jsx)("div",{className:"column-1 text-end",children:(0,d.jsxs)("table",{className:"w-50",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"lastView"}),(0,d.jsx)("td",{className:"p-1",children:"new"}),(0,d.jsx)("td",{className:"p-1",children:"mean"}),(0,d.jsx)("td",{className:"p-1",children:"q0"}),(0,d.jsx)("td",{className:"p-1",children:"q1"}),(0,d.jsx)("td",{className:"p-1",children:"q2"}),(0,d.jsx)("td",{className:"p-1",children:"q3"}),(0,d.jsx)("td",{className:"p-1",children:"q4"})]})}),(0,d.jsxs)("tbody",{children:[N.range>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Phrases:"}),(0,d.jsx)("td",{children:N.unPlayed}),(0,d.jsx)("td",{children:N.mean.toFixed(1)}),(0,d.jsx)("td",{children:N.min}),(0,d.jsx)("td",{children:N.q1}),(0,d.jsx)("td",{children:N.q2}),(0,d.jsx)("td",{children:N.q3}),(0,d.jsx)("td",{children:N.max})]}),f.range>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Vocabulary:"}),(0,d.jsx)("td",{children:f.unPlayed}),(0,d.jsx)("td",{children:f.mean.toFixed(1)}),(0,d.jsx)("td",{children:f.min}),(0,d.jsx)("td",{children:f.q1}),(0,d.jsx)("td",{children:f.q2}),(0,d.jsx)("td",{children:f.q3}),(0,d.jsx)("td",{children:f.max})]}),y.range>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Kanji:"}),(0,d.jsx)("td",{children:y.unPlayed}),(0,d.jsx)("td",{children:y.mean.toFixed(1)}),(0,d.jsx)("td",{children:y.min}),(0,d.jsx)("td",{children:y.q1}),(0,d.jsx)("td",{children:y.q2}),(0,d.jsx)("td",{children:y.q3}),(0,d.jsx)("td",{children:y.max})]})]})]})}),(0,d.jsx)("div",{className:"column-2 setting-block"})]}),(0,d.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between mb-2",children:[(0,d.jsx)("div",{className:"column-1 text-end",children:(0,d.jsxs)("table",{className:"w-50",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"difficultyP"}),(0,d.jsx)("td",{className:"p-1",children:"0"}),(0,d.jsx)("td",{className:"p-1",children:"11"}),(0,d.jsx)("td",{className:"p-1",children:"21"}),(0,d.jsx)("td",{className:"p-1",children:"31"}),(0,d.jsx)("td",{className:"p-1",children:"41"}),(0,d.jsx)("td",{className:"p-1",children:"51"}),(0,d.jsx)("td",{className:"p-1",children:"61"}),(0,d.jsx)("td",{className:"p-1",children:"71"}),(0,d.jsx)("td",{className:"p-1",children:"81"}),(0,d.jsx)("td",{className:"p-1",children:"91"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Phrases:"}),b.map((e,n)=>(0,d.jsx)("td",{children:e},`${n.toString()} ${e}`))]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Vocabulary:"}),w.map((e,n)=>(0,d.jsx)("td",{children:e},`${n.toString()} ${e}`))]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Kanji:"}),v.map((e,n)=>(0,d.jsx)("td",{children:e},`${n.toString()} ${e}`))]})]})]})}),(0,d.jsx)("div",{className:"column-2 setting-block"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(t.Suspense,{fallback:(0,d.jsx)(l.NotReady,{addlStyle:"failed-spacerep-view"}),children:(0,d.jsx)(h,{})}),(0,d.jsx)(t.Suspense,{fallback:(0,d.jsx)(l.NotReady,{addlStyle:"failed-furigana-view"}),children:(0,d.jsx)(x,{})})]})]});return S}},2079:function(e,n,s){"use strict";s.r(n),s.d(n,{getLastViewCounts:function(){return l},getRecallCounts:function(){return r},getStalenessCounts:function(){return i},getDifficultyCounts:function(){return c}});var d=s("90800"),t=s("16391");function l(e,n){let s=Object.keys(e).map(n=>{let s=e[n]?.lastView;return void 0===s?-1:(0,d.daysSince)(s)}),t=Array(n);return t.fill(0),s.forEach(e=>{e>-1&&e<n&&(t[e]=t[e]?t[e]+1:1)}),t}function r(e){let n={wrong:0,overdue:0,due:0,pending:0,unPlayed:0};return Object.keys(e).map(s=>{let{lastView:l,lastReview:r,accuracyP:i,daysBetweenReviews:c}=e[s]??{},a=!!l&&0===(0,d.daysSince)(l),h=!!r&&0===(0,d.daysSince)(r);if(!r||h||a||"number"!=typeof i)return h?0:(n.unPlayed=n.unPlayed+1,-1);{let e=(0,d.daysSince)(r),s=(0,t.getPercentOverdue)({accuracy:i/100,daysBetweenReviews:c,daysSinceReview:e});return i<100*t.SR_CORRECT_TRESHHOLD?n.wrong+=1:2===s?n.overdue+=1:s>=1?n.due+=1:s>0&&(n.pending+=1),s}}),n}function i(e){let n={range:0,unPlayed:0,min:Number.MAX_SAFE_INTEGER,max:-1,mean:Number.NaN,q1:Number.NaN,q2:Number.NaN,q3:Number.NaN},s=0,t=Object.keys(e).reduce((t,l)=>{let r=e[l]?.lastView;if(void 0===r)n.unPlayed+=1;else{let e=(0,d.daysSince)(r);return n.min=n.min>e?e:n.min,n.max=n.max<e?e:n.max,s+=e,[...t,e]}return t},[]),l=[...t].sort((e,n)=>e-n);return n.range=t.length,n.mean=s/t.length,n.q1=l[Math.round(.25*t.length)-1],n.q3=l[Math.round(.75*t.length)-1],t.length%2==0?n.q2=(l[Math.round(.5*t.length)-1]+l[Math.round(.5*t.length)])/2:n.q2=l[Math.round(.5*t.length)-1],n}function c(e){let n=0,s=Array(10);return s.fill(0),Object.keys(e).map(d=>{let t=e[d]?.difficultyP;if(void 0===t)return n+=1,-1;{let e=t/10-1;return s[e]=s[e]+1,t}}),s}}}]);