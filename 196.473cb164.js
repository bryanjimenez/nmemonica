"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[196],{4196:(e,i,t)=>{t.r(i),t.d(i,{default:()=>G});var s=t(5893),a=t(195),n=t(5529),r=t(4184),l=t.n(r),c=t(7294),o=t(743),d=t(9983),u=t(8670),m=t(5507),v=t(4133),x=t(7891),b=t(4567),f=t(1557),h=t(6537),j=t(7567),p=t(5834),y=t(6867),g=t(2440),N=t(9334),C=t(1664),M=t(7182),w=t(5697),k=t.n(w);function T(e){var i=(0,c.useState)(null),t=i[0],a=i[1],r=(0,c.useState)(e.initial),o=r[0],d=r[1],u=(0,c.useMemo)((function(){return e.options}),[]);(0,c.useMemo)((function(){d(e.initial)}),[e.initial]);var m=Boolean(t),v=function(e){a(e.currentTarget)};return(0,s.jsxs)("div",{className:l()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,s.jsx)(g.Z,{component:"nav",disablePadding:!0,children:(0,s.jsx)(p.Z,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":m?"true":void 0,onClick:v,children:(0,s.jsx)(N.Z,{primary:e.title,secondary:u[o],secondaryTypographyProps:{color:"unset"}})})}),(0,s.jsx)(C.Z,{id:"filter-menu",anchorEl:t,open:m,onClose:function(){a(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:u.map((function(i,t){return(0,s.jsx)(M.Z,{selected:t===o,onClick:function(i){return function(i,t){d(t),a(null),e.onChange(t)}(0,t)},children:i},i)}))}),(0,s.jsx)(y.Z,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:v,children:(0,s.jsx)(n.Ui8,{size:"medium",className:l()({"rotate-transition":!0,"rotate-90":m})})})]})}T.propTypes={disabled:k().bool,flip:k().bool,title:k().string,options:k().arrayOf(k().string),initial:k().number,onChange:k().func};var Z=t(245),F=function(e,i,t){if(t||2===arguments.length)for(var s,a=0,n=i.length;a<n;a++)!s&&a in i||(s||(s=Array.prototype.slice.call(i,0,a)),s[a]=i[a]);return e.concat(s||Array.prototype.slice.call(i))};function R(e){for(var i=(0,c.useState)(e.initial)[0],t=Math.min(e.max,i),n=e.max,r=[],l={},o=0;o<n+1;o++){var d=(o-0)/(n-0)*100;r=F(F([],r,!0),[{value:d,raw:o}],!1),l["r"+d]=o,l["s"+o]=d}var u,m=function(e){return l["r"+e]},v=function(e){var i=m(e),t=Math.trunc(n/2),s="",a=t+Math.abs(t-i);return n%2!=0&&i<=t&&(s=++a+""),n%2==0&&i===t||(s=i<t+1?a+" "+(n-a):n-a+" "+a),s};return(0,s.jsxs)("div",{className:"verb-form-slider-root",children:[(0,s.jsx)(Z.Z,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,s.jsx)(a.ZP,{defaultValue:(u=t,l["s"+u]),valueLabelFormat:v,getAriaValueText:v,"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:r,onChangeCommitted:function(i,s){"number"==typeof s&&function(i){var s=t,a=m(i);a!==s&&e.setChoiceN(a)}(s)}})]})}R.propTypes={statusText:k().string,initial:k().number.isRequired,max:k().number.isRequired,setChoiceN:k().func.isRequired};var A=function(e,i,t){if(t||2===arguments.length)for(var s,a=0,n=i.length;a<n;a++)!s&&a in i||(s||(s=Array.prototype.slice.call(i,0,a)),s[a]=i[a]);return e.concat(s||Array.prototype.slice.call(i))};function G(){var e=(0,o.I0)(),i=(0,m.nF)(),t=i.vocabulary,r=i.vocabGroups,p=i.vocabOrder,y=i.vocabRomaji,g=i.showBareKanji,N=i.vocabHint,C=i.vocabActive,M=i.autoVerbView,w=i.verbColSplit,k=i.vocabFilter,Z=i.memoThreshold,F=i.vocabRep,G=i.vocabReinforce,E=i.verbFormsOrder,L=(0,c.useState)(Math.abs(Z))[0];0===Object.keys(r).length&&e((0,x.Rz)());var S=(0,c.useMemo)((function(){return Object.keys(F).filter((function(e){var i;return!0===(null===(i=F[e])||void 0===i?void 0:i.rein)}))}),[F]),V=(0,c.useMemo)((function(){var e=x.E3.setting.verbFormsOrder,i=E.reduce((function(i,t){return e.includes(t)&&(i=A(A([],i,!0),[t],!1)),i}),[]),t=e.reduce((function(e,t){return i.includes(t)||(e=A(A([],e,!0),[t],!1)),e}),[]);return[i,t]}),[E]),O=V[0],U=V[1];if(t.length<1||Object.keys(r).length<1)return(0,s.jsx)(h.n,{addlStyle:"vocabulary-settings"});var z=(0,d.wG)(r,C);if(z.length>0)throw new Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:z}});return(0,s.jsx)("div",{className:"outer",children:(0,s.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,s.jsxs)("div",{className:"column-1",children:[(0,s.jsx)(T,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:k,onChange:(0,u.cM)(e,x.ZZ)}),k===v.Lx.GROUP&&(0,s.jsx)(f.P,{termsGroups:r,termsActive:C,toggleTermActiveGrp:(0,u.cM)(e,x.sG)}),k===v.Lx.FREQUENCY&&0===S.length&&(0,s.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),k===v.Lx.FREQUENCY&&S.length>0&&(0,s.jsx)(b.a,{termsActive:C,termsFreq:S,terms:t,removeFrequencyTerm:(0,u.cM)(e,x.xz),toggleTermActiveGrp:(0,u.cM)(e,x.sG)})]}),(0,s.jsxs)("div",{className:"column-2 setting-block",children:[(0,s.jsx)(T,{title:"Sort by:",options:v.iU,initial:p,onChange:(0,u.cM)(e,x.wf)}),p===v.vl.DIFFICULTY&&(0,s.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,s.jsx)(a.ZP,{defaultValue:L,track:Z<0?"inverted":void 0,onChangeCommitted:function(i,t){var s=Z<0?-1:1;"number"==typeof t&&e((0,x._4)(s*t))},valueLabelDisplay:"auto"}),(0,s.jsx)("div",{className:"mt-2 ms-3 ",onClick:(0,u.cM)(e,x._4,-1*Z),children:Z<0?(0,s.jsx)(n.k6S,{}):(0,s.jsx)(n.aoE,{})})]}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(j.Z,{active:G,action:(0,u.cM)(e,x.gl),disabled:k===v.Lx.FREQUENCY,statusText:"Reinforcement"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(j.Z,{active:y,action:(0,u.cM)(e,x.VX),statusText:"Romaji"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(j.Z,{active:g,action:(0,u.cM)(e,x.Vb),statusText:"English+Kanji"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(j.Z,{active:N,action:(0,u.cM)(e,x.Tn),statusText:"Hint"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(j.Z,{active:M,action:(0,u.cM)(e,x.eK),statusText:"Auto Verb View"})}),M&&(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,s.jsx)("div",{children:[O.map((function(i,t){return(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("div",{className:l()({"me-3":!0,"disabled-color":0===t}),onClick:function(){if(t>0){var i=O.slice(0,t-1),s=O[t-1],a=O[t],n=O.slice(t+1);e((0,x.Hi)(A(A(A([],i,!0),[a,s],!1),n,!0)))}},children:(0,s.jsx)(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,s.jsx)("span",{className:"w-100 text-start",children:i}),(0,s.jsx)("div",{onClick:function(){if(O.length>1){var i=A(A([],O.slice(0,t),!0),O.slice(t+1),!0);e((0,x.Hi)(i))}},children:(0,s.jsx)(n.oOx,{className:l()({"mt-1 ms-3":!0,"incorrect-color":O.length>1,"disabled-color":1===O.length}),size:"small","aria-label":"remove"})})]},i)})),U.map((function(i,t){return(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("div",{className:"me-3 invisible",children:(0,s.jsx)(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,s.jsx)("span",{className:"w-100 text-start disabled-color",children:i}),(0,s.jsx)("div",{onClick:(0,u.cM)(e,x.Hi,A(A([],O,!0),[U[t]],!1)),children:(0,s.jsx)(n.wl8,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},i)}))]})})}),M&&(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,s.jsx)(R,{initial:w,setChoiceN:(0,u.cM)(e,x.oG),max:E.length,statusText:"Column layout"})})})]})]})})}}}]);