(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["802"],{58245:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var r=i("73909"),n=i("43549"),s=i("25148"),l=i("77397"),c=i("62942"),a=i("59940"),o=i("31959"),u=i("30858"),d=i("72834"),m=i("23150"),g=i("98190"),j=i("39160"),h=i("35225"),v=i("72176"),T=i("40868"),b=i("60661");function f(){let e=(0,n.useDispatch)(),{vocabList:t}=(0,g.useConnectVocabulary)(),{filterType:i,orderType:f,difficultyThreshold:x,reinforce:y,activeTags:p,kanjiList:A,repetition:N,kanjiTagObj:S,spaRepMaxReviewItem:F,includeNew:L,includeReviewed:C}=(0,m.useConnectKanji)(),E=i.current,R=f.current;if(0===t.length&&e((0,v.getVocabulary)()),0===Object.keys(S).length&&e((0,j.getKanji)()),A.length<1||Object.keys(S).length<1)return(0,r.jsx)(s.NotReady,{addlStyle:"vocabulary-settings"});let B=Object.values(A).filter(e=>e.tags.some(e=>p.includes(e))),I=B.map(e=>e.uid),w=Object.keys(N).filter(e=>N[e]?.rein===!0),k=w.filter(e=>!I.includes(e)),K=(0,r.jsx)("div",{className:"outer",children:(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,r.jsxs)("div",{className:"column-1",children:[(0,r.jsx)("h4",{children:(0,d.labelOptions)(E,["Kanji Group","Frequency List","Tags"])}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(c.default,{active:E%2==0,action:(0,u.buildAction)(e,j.toggleKanjiFilter),color:"default",statusText:"Filter by"})}),E===h.TermFilterBy.FREQUENCY&&0===w.length&&(0,r.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),E===h.TermFilterBy.TAGS&&(0,r.jsx)(b.SetTermTagList,{selectedCount:0===B.length?Object.values(A).length:B.length,termsTags:S,termsActive:p,toggleTermActive:(0,u.buildAction)(e,j.toggleKanjiActiveTag)}),E===h.TermFilterBy.FREQUENCY&&w.length>0&&(0,r.jsx)(T.SetTermGFList,{termsActive:p,termsFreq:w,terms:A,removeFrequencyTerm:(0,u.buildAction)(e,j.removeFrequencyKanji),toggleTermActiveGrp:(0,u.buildAction)(e,j.toggleKanjiActiveGrp)})]}),(0,r.jsxs)("div",{className:"column-2 setting-block",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(a.default,{title:"Sort by:",options:h.TermSortByLabel,allowed:[h.TermSortBy.DIFFICULTY,h.TermSortBy.RANDOM,h.TermSortBy.VIEW_DATE,h.TermSortBy.RECALL],initial:R,onChange:t=>(h.TermSortBy.RECALL===t&&e((0,j.toggleKanjiReinforcement)(!1)),(0,u.buildAction)(e,j.toggleKanjiOrdering)(t))})}),R===h.TermSortBy.RECALL&&(0,r.jsx)(l.default,{label:"Max review items ",value:F,onChange:t=>{e((0,j.setSpaRepMaxItemReview)(t))}}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(o.ThresholdFilterSlider,{threshold:x,setThreshold:(0,u.buildAction)(e,j.setMemorizedThreshold)})}),R===h.TermSortBy.VIEW_DATE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(c.default,{active:L,action:(0,u.buildAction)(e,j.toggleIncludeNew),statusText:"Staleness +New"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(c.default,{active:C,action:(0,u.buildAction)(e,j.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(c.default,{active:y.current,action:(0,u.buildAction)(e,j.toggleKanjiReinforcement),disabled:E===h.TermFilterBy.FREQUENCY||R===h.TermSortBy.RECALL,statusText:(y?`(+${k.length} ) `:"")+"Reinforcement"})})]})]})});return K}},60661:function(e,t,i){"use strict";i.r(t),i.d(t,{isGroupLevel:function(){return m},SetTermTagList:function(){return g}});var r=i("73909"),n=i("59953"),s=i.n(n),l=i("62103"),c=i.n(l),a=i("73959"),o=i.n(a),u=i("28697"),d=i("44440");function m(e){return e.includes("_")&&Number.isInteger(parseInt(e.split("_")[1],10))}function g(e){let{termsActive:t,termsTags:i,toggleTermActive:n,selectedCount:l}=e;(0,u.useEffect)(()=>{t.forEach(e=>{!i.includes(e)&&n(e)})},[t,i,n]);let[a,o]=c(i,e=>m(e)),g=Object.values(a.reduce((e,t)=>{let i=t.split("_")[0];return e[i]?e[i]=[...e[i],t]:e[i]=[t],e},{})),j=[...s(o),...g.reduce((e,t)=>{let i=s(t,e=>{let[,t]=e.split("_");return Number.isInteger(parseInt(t,10))?parseInt(t,10):e});return[...e,...i]},[])];return(0,r.jsxs)("div",{children:[(0,r.jsxs)("h5",{children:["Tag List ",l&&l>0&&"("+l+")"||""]},0),j.map((e,i)=>(0,r.jsx)("div",{children:(0,r.jsx)(d.GroupItem,{active:t.includes(e),onClick:()=>{n(e)},children:e},i)},i+1))]})}g.propTypes={termsTags:o.array,termsActive:o.array,toggleTermActive:o.func,selectedCount:o.number}}}]);