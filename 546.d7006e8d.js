"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[546],{1546:(e,n,d)=>{d.r(n),d.d(n,{default:()=>o});var s=d(5893),r=d(7294),l=d(5863),t=d(4953);function c(e,n){const d=Object.keys(e).map((n=>{var d;const s=null===(d=e[n])||void 0===d?void 0:d.lastView;return void 0===s?-1:(0,l.O5)(s)}));let s=new Array(n);return s.fill(0),d.forEach((e=>{e>-1&&e<n&&(s[e]=s[e]?s[e]+1:1)})),s}function i(e){let n={wrong:0,overdue:0,due:0,pending:0,unPlayed:0};return Object.keys(e).map((d=>{var s;const{lastView:r,lastReview:c,accuracyP:i,daysBetweenReviews:a}=null!==(s=e[d])&&void 0!==s?s:{},h=!(!r||0!==(0,l.O5)(r)),x=!(!c||0!==(0,l.O5)(c));if(!c||x||h||"number"!=typeof i)return x?0:(n.unPlayed=n.unPlayed+1,-1);{const e=(0,l.O5)(c),d=(0,t.ct)({accuracy:i/100,daysBetweenReviews:a,daysSinceReview:e});return i<100*t._9?n.wrong+=1:2===d?n.overdue+=1:d>1?n.due+=1:d>0&&(n.pending+=1),d}})),n}function a(e){const n={range:0,unPlayed:0,min:Number.MAX_SAFE_INTEGER,max:-1,mean:Number.NaN,q1:Number.NaN,q2:Number.NaN,q3:Number.NaN};let d=0;const s=Object.keys(e).reduce(((s,r)=>{var t;const c=null===(t=e[r])||void 0===t?void 0:t.lastView;if(void 0!==c){const e=(0,l.O5)(c);return n.min=n.min>e?e:n.min,n.max=n.max<e?e:n.max,d+=e,[...s,e]}return n.unPlayed+=1,s}),[]);return n.range=s.length,n.mean=d/s.length,n.q1=s[Math.round(.25*s.length)-1],n.q3=s[Math.round(.75*s.length)-1],s.length%2==0?n.q2=(s[Math.round(.5*s.length)-1]+s[Math.round(.5*s.length)])/2:n.q2=s[Math.round(.5*s.length)-1],n}var h=d(6278),x=d(158),j=d(4933);function o(){const{repetition:e}=(0,x.Q)(),{repetition:n}=(0,j.Z)(),{repetition:d}=(0,h.R)(),{phraseC:l,vocabC:t,kanjiC:o,phraseR:u,vocabR:m,kanjiR:v,phraseQ:p,vocabQ:N,kanjiQ:w}=(0,r.useMemo)((()=>({phraseC:c(e,5),vocabC:c(n,5),kanjiC:c(d,5),phraseR:i(e),vocabR:i(n),kanjiR:i(d),phraseQ:a(e),vocabQ:a(n),kanjiQ:a(d)})),[e,n,d]),b=l.map(((e,n)=>new Date(Date.now()-864e5*n).toLocaleString("en-us",{weekday:"short"})));return(0,s.jsxs)("div",{className:"outer",children:[(0,s.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between",children:[(0,s.jsx)("div",{className:"column-1 text-end",children:(0,s.jsxs)("table",{className:"w-50",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Recall"}),(0,s.jsx)("td",{className:"p-1",children:"-1"}),(0,s.jsx)("td",{className:"p-1",children:"2.0"}),(0,s.jsx)("td",{className:"p-1",children:"(1,2)"}),(0,s.jsx)("td",{className:"p-1",children:"(0,1]"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Phrases:"}),(0,s.jsx)("td",{children:u.wrong}),(0,s.jsx)("td",{children:u.overdue}),(0,s.jsx)("td",{children:u.due}),(0,s.jsx)("td",{children:u.pending})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Vocabulary:"}),(0,s.jsx)("td",{children:m.wrong}),(0,s.jsx)("td",{children:m.overdue}),(0,s.jsx)("td",{children:m.due}),(0,s.jsx)("td",{children:m.pending})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Kanji:"}),(0,s.jsx)("td",{children:v.wrong}),(0,s.jsx)("td",{children:v.overdue}),(0,s.jsx)("td",{children:v.due}),(0,s.jsx)("td",{children:v.pending})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),(0,s.jsx)("td",{children:u.wrong+m.wrong+v.wrong}),(0,s.jsx)("td",{children:u.overdue+m.overdue+v.overdue}),(0,s.jsx)("td",{children:u.due+m.due+v.due}),(0,s.jsx)("td",{children:u.pending+m.pending+v.pending})]})]})]})}),(0,s.jsx)("div",{className:"column-2 setting-block",children:(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsxs)("table",{className:"w-50",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Viewed"}),b.map(((e,n)=>(0,s.jsx)("td",{className:"p-1",children:0===n?"Today":e},`${n} ${e}`)))]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Phrases:"}),l.map(((e,n)=>(0,s.jsx)("td",{children:e},`${n} ${e}`)))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Vocabulary:"}),t.map(((e,n)=>(0,s.jsx)("td",{children:e},`${n} ${e}`)))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Kanji:"}),o.map(((e,n)=>(0,s.jsx)("td",{children:e},`${n} ${e}`)))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),l.map(((e,n)=>{var d,r,c;return(0,s.jsx)("td",{children:(null!==(d=l[n])&&void 0!==d?d:0)+(null!==(r=t[n])&&void 0!==r?r:0)+(null!==(c=o[n])&&void 0!==c?c:0)},`total-${b[n]}-${n}`)}))]})]})]})})})]}),(0,s.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between",children:[(0,s.jsx)("div",{className:"column-1 text-end",children:(0,s.jsxs)("table",{className:"w-50",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"lastView"}),(0,s.jsx)("td",{className:"p-1",children:"new"}),(0,s.jsx)("td",{className:"p-1",children:"q0"}),(0,s.jsx)("td",{className:"p-1",children:"q1"}),(0,s.jsx)("td",{className:"p-1",children:"q2"}),(0,s.jsx)("td",{className:"p-1",children:"mean"}),(0,s.jsx)("td",{className:"p-1",children:"q3"}),(0,s.jsx)("td",{className:"p-1",children:"q4"})]})}),p.range>0&&(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Phrases:"}),(0,s.jsx)("td",{children:p.unPlayed}),(0,s.jsx)("td",{children:p.min}),(0,s.jsx)("td",{children:p.q2}),(0,s.jsx)("td",{children:p.mean}),(0,s.jsx)("td",{children:p.q3}),(0,s.jsx)("td",{children:p.max})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Vocabulary:"}),(0,s.jsx)("td",{children:N.unPlayed}),(0,s.jsx)("td",{children:N.min}),(0,s.jsx)("td",{children:N.q2}),(0,s.jsx)("td",{children:N.mean}),(0,s.jsx)("td",{children:N.q3}),(0,s.jsx)("td",{children:N.max})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Kanji:"}),(0,s.jsx)("td",{children:w.unPlayed}),(0,s.jsx)("td",{children:w.min}),(0,s.jsx)("td",{children:w.q2}),(0,s.jsx)("td",{children:w.mean}),(0,s.jsx)("td",{children:w.q3}),(0,s.jsx)("td",{children:w.max})]})]})]})}),(0,s.jsx)("div",{className:"column-2 setting-block",children:(0,s.jsx)("div",{className:"mb-2"})})]})]})}}}]);