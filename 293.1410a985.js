(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["293"],{53085:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s("73909"),i=s("43549"),l=s("25148"),a=s("77397"),n=s("62942"),c=s("59940"),o=s("31959"),d=s("30858"),m=s("72834"),h=s("87309"),u=s("91267"),g=s("35225"),v=s("40868"),x=s("9446");function j(){let e=(0,i.useDispatch)(),{phraseList:t,phraseGroups:s,sortMethod:j,romajiActive:T,difficultyThreshold:f,activeGroup:b,filterType:p,repetition:y,reinforce:A,spaRepMaxReviewItem:N,includeNew:S,includeReviewed:R}=(0,h.useConnectPhrase)(),E=p.current,F=j.current,L=T.current,P=A.current;0===t.length&&e((0,u.getPhrase)());let w=Object.keys(y).filter(e=>y[e]?.rein===!0);if(t.length<1||Object.keys(s).length<1)return(0,r.jsx)(l.NotReady,{addlStyle:"phrases-settings"});let B=(0,m.getStaleGroups)(s,b);if(B.length>0){let e=Error("Stale phrases active group",{cause:{code:"StalePhraseActiveGrp",value:B}});throw e}let C=(0,r.jsx)("div",{className:"outer",children:(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,r.jsxs)("div",{className:"column-1",children:[(0,r.jsx)("h4",{children:(0,m.labelOptions)(E,["Phrases Group","Frequency List","NOT_USED_Tags"])}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(n.default,{active:E%2==0,action:(0,d.buildAction)(e,u.togglePhrasesFilter),color:"default",statusText:"Filter by"})}),E===g.TermFilterBy.GROUP&&(0,r.jsx)(x.SetTermGList,{termsGroups:s,termsActive:b,toggleTermActiveGrp:t=>e((0,u.togglePhraseActiveGrp)(t))}),E===g.TermFilterBy.FREQUENCY&&0===w.length&&(0,r.jsx)("div",{className:"fst-italic",children:"No phrases have been chosen"}),E===g.TermFilterBy.FREQUENCY&&w.length>0&&(0,r.jsx)(v.SetTermGFList,{termsActive:b,termsFreq:w,terms:t,removeFrequencyTerm:t=>e((0,u.removeFrequencyPhrase)(t)),toggleTermActiveGrp:t=>e((0,u.togglePhraseActiveGrp)(t))})]}),(0,r.jsxs)("div",{className:"column-2 setting-block",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(c.default,{title:"Sort by:",options:g.TermSortByLabel,initial:F,allowed:[g.TermSortBy.RANDOM,g.TermSortBy.VIEW_DATE,g.TermSortBy.RECALL],onChange:t=>(g.TermSortBy.RECALL===t&&e((0,u.togglePhrasesReinforcement)(!1)),(0,d.buildAction)(e,u.togglePhrasesOrdering)(t))})}),F===g.TermSortBy.RECALL&&(0,r.jsx)(a.default,{label:"Max review items ",value:N,onChange:t=>{e((0,u.setSpaRepMaxItemReview)(t))}}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(o.ThresholdFilterSlider,{threshold:f,setThreshold:(0,d.buildAction)(e,u.setMemorizedThreshold)})}),F===g.TermSortBy.VIEW_DATE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(n.default,{active:S,action:(0,d.buildAction)(e,u.toggleIncludeNew),statusText:"Staleness +New"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(n.default,{active:R,action:(0,d.buildAction)(e,u.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(n.default,{active:P,action:(0,d.buildAction)(e,u.togglePhrasesReinforcement),disabled:E===g.TermFilterBy.FREQUENCY||F===g.TermSortBy.RECALL,statusText:"Reinforcement"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(n.default,{active:L,action:(0,d.buildAction)(e,u.togglePhrasesRomaji),statusText:"Romaji"})})]})]})});return C}}}]);