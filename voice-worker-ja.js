(()=>{"use strict";var e={28097(e,t,r){r.d(t,{Kk:()=>n}),Object.freeze({MODULE_LOAD_ERROR:"Failed to load module",MAX_RETRY:"Maximum retries exceeded",DUPLICATE_REQUEST:"Duplicate request",UNREACHABLE:"Module panicked",BAD_INPUT:"Invalid Input"});let n=Object.freeze({HAPPY:"happy",ANGRY:"angry",SAD:"sad",NEUTRAL:"neutral"});Object.freeze({HUMAN_FEMALE:"Human Female",ROBOT_MALE:"Robot Male"})},44530(e,t,r){r.d(t,{q8:()=>n});function n(e,t){let r={name:"Error",message:` at ${t}`,cause:{}};if("string"==typeof e&&e.length>0)try{r=JSON.parse(e)}catch{r.message=e}else(e instanceof Error||"object"==typeof e&&null!==e)&&("name"in e&&(r.name=e.name??"Error"),"message"in e&&(r.message=e.message),"stack"in e&&(r.stack=e.stack),"cause"in e&&null!==e.cause&&"object"==typeof e.cause&&("code"in e.cause&&"string"==typeof e.cause.code&&(r.cause.code=e.cause.code),"module"in e.cause&&"string"==typeof e.cause.module&&(r.cause.module=e.cause.module)));return r}},76106(e,t,r){r.a(e,async function(e,t){try{var n=r(29272),a=r(28097),i=r(44530),o=e([n]);n=(o.then?(await o)():o)[0];let s=globalThis.self;s.addEventListener("message",function(e){let{uid:t,index:r,tl:o,q:u,japaneseVoice:_}=e.data;if("ja"===o&&null!==u&&"function"==typeof n.jD){let e;switch(_){case"default":case void 0:e=a.Kk.NEUTRAL;break;default:e=_}try{let{uid:a,index:i,buffer:o}=(0,n.jD)(t,r,u,e);s.postMessage({uid:a,index:i,buffer:o})}catch(t){let e=(0,i.q8)(t,"voice-worker-ja");s.postMessage(e)}}}),t()}catch(e){t(e)}})},29272(e,t,r){r.a(e,async function(e,n){try{r.d(t,{jD:()=>i.jD});var a=r(75719),i=r(84004),o=e([a]);a=(o.then?(await o)():o)[0],(0,i.lI)(a),a.__wbindgen_start(),n()}catch(e){n(e)}})},84004(e,t,r){let n;function a(e){n=e}r.d(t,{$P:()=>m,Qn:()=>k,WY:()=>h,bL:()=>x,jD:()=>g,lI:()=>a,x$:()=>v,yc:()=>E});let i=new("u"<typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let o=null;function s(){return(null===o||0===o.byteLength)&&(o=new Uint8Array(n.memory.buffer)),o}function u(e,t){return e>>>=0,i.decode(s().subarray(e,e+t))}let _=0,l=new("u"<typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder)("utf-8"),c="function"==typeof l.encodeInto?function(e,t){return l.encodeInto(e,t)}:function(e,t){let r=l.encode(e);return t.set(r),{read:e.length,written:r.length}};function f(e,t,r){if(void 0===r){let r=l.encode(e),n=t(r.length,1)>>>0;return s().subarray(n,n+r.length).set(r),_=r.length,n}let n=e.length,a=t(n,1)>>>0,i=s(),o=0;for(;o<n;o++){let t=e.charCodeAt(o);if(t>127)break;i[a+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),a=r(a,n,n=o+3*e.length,1)>>>0;let t=c(e,s().subarray(a+o,a+n));o+=t.written,a=r(a,n,o,1)>>>0}return _=o,a}let d=null;function b(){return(null===d||!0===d.buffer.detached||void 0===d.buffer.detached&&d.buffer!==n.memory.buffer)&&(d=new DataView(n.memory.buffer)),d}function g(e,t,r,a){var i;let o=f(e,n.__wbindgen_malloc,n.__wbindgen_realloc),s=_,u=f(r,n.__wbindgen_malloc,n.__wbindgen_realloc),l=_,c=n.buildSpeech(o,s,null==t?0x100000001:t>>>0,u,l,null==a?5:(p.indexOf(a)+1||5)-1);if(c[2]){let e;throw i=c[1],e=n.__wbindgen_export_3.get(i),n.__externref_table_dealloc(i),e}return y.__wrap(c[0])}let p=["neutral","angry","happy","sad"],w="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_queryresult_free(e>>>0,1));class y{static __wrap(e){e>>>=0;let t=Object.create(y.prototype);return t.__wbg_ptr=e,w.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_queryresult_free(e,0)}get uid(){let e,t;try{let r=n.__wbg_get_queryresult_uid(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}set uid(e){let t=f(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=_;n.__wbg_set_queryresult_uid(this.__wbg_ptr,t,r)}get index(){let e=n.__wbg_get_queryresult_index(this.__wbg_ptr);return 0x100000001===e?void 0:e}set index(e){n.__wbg_set_queryresult_index(this.__wbg_ptr,null==e?0x100000001:e>>>0)}get buffer(){let e=n.__wbg_get_queryresult_buffer(this.__wbg_ptr);var t,r,a=(t=e[0],r=e[1],t>>>=0,s().subarray(t/1,t/1+r)).slice();return n.__wbindgen_free(e[0],+e[1],1),a}set buffer(e){let t,r=(t=(0,n.__wbindgen_malloc)(+e.length,1)>>>0,s().set(e,t/1),_=e.length,t),a=_;n.__wbg_set_queryresult_buffer(this.__wbg_ptr,r,a)}}function h(e,t){let r,a;try{r=e,a=t,console.error(u(e,t))}finally{n.__wbindgen_free(r,a,1)}}function m(){return Error()}function v(e,t){let r=f(t.stack,n.__wbindgen_malloc,n.__wbindgen_realloc),a=_;b().setInt32(e+4,a,!0),b().setInt32(e+0,r,!0)}function x(){let e=n.__wbindgen_export_3,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function E(e,t){return u(e,t)}function k(e,t){throw Error(u(e,t))}},75719(e,t,r){var n=r(84004);e.exports=r.v(t,e.id,"2282910712ff38a9",{"./voice_ja_bg.js":{__wbindgen_string_new:n.yc,__wbg_new_8a6f238a6ece86ea:n.$P,__wbg_stack_0ed75d68575b0f3c:n.x$,__wbg_error_7534b8e9a36f1ab4:n.WY,__wbindgen_throw:n.Qn,__wbindgen_init_externref_table:n.bL}})}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}a=(n="function"==typeof Symbol)?Symbol("rspack queues"):"__rspack_queues",i=r.aE=n?Symbol("rspack exports"):"__webpack_exports__",o=n?Symbol("rspack error"):"__rspack_error",s=n?Symbol("rspack done"):"__rspack_done",u=r.zS=n?Symbol("rspack defer"):"__rspack_defer",_=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},r.a=(e,n,l)=>{l&&((c=[]).d=-1);var c,f,d,b,g=new Set,p=e.exports,w=new Promise((e,t)=>{b=t,d=e});w[i]=p,w[a]=e=>{c&&e(c),g.forEach(e),w.catch(()=>{})},e.exports=w,n(e=>{f=e.map(e=>{if(null!==e&&"object"==typeof e){if(!e[a]&&e[u]){var n=e[u];if(!n.some(e=>{var r=t[e];return!r||!1===r[s]}))return e;var l=e;e={then(e){Promise.all(n.map(r)).then(()=>e(l))}}}if(e[a])return e;if(e.then){var c=[];c.d=0,e.then(e=>{f[i]=e,_(c)},e=>{f[o]=e,_(c)});var f={};return f[u]=!1,f[a]=e=>e(c),f}}var d={};return d[a]=()=>{},d[i]=e,d});var n,l=()=>f.map(e=>{if(e[u])return e;if(e[o])throw e[o];return e[i]}),d=new Promise(e=>{(n=()=>e(l)).r=0;var t=e=>e!==c&&!g.has(e)&&(g.add(e),e&&!e.d&&(n.r++,e.push(n)));f.map(e=>e[u]||e[a](t))});return n.r?d:l()},e=>(e?b(w[o]=e):d(p),_(c),w[s]=!0)),c&&c.d<0&&(c.d=0)},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.rv=()=>"1.7.5",r.v=function(e,t,n,a){var i=fetch(r.p+""+n+".module.wasm"),o=function(){return i.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,a)}).then(function(t){return Object.assign(e,t.instance.exports)})};return i.then(function(t){return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,a).then(function(t){return Object.assign(e,t.instance.exports)},function(e){if("application/wasm"!==t.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),o();throw e}):o()})},r.g.importScripts&&(l=r.g.location+"");var n,a,i,o,s,u,_,l,c=r.g.document;if(!l&&c&&(c.currentScript&&"SCRIPT"===c.currentScript.tagName.toUpperCase()&&(l=c.currentScript.src),!l)){var f=c.getElementsByTagName("script");if(f.length)for(var d=f.length-1;d>-1&&(!l||!/^http(s?):/.test(l));)l=f[d--].src}if(!l)throw Error("Automatic publicPath is not supported in this browser");r.p=l=l.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.ruid="bundler=rspack@1.7.5",r(76106)})();
//# sourceMappingURL=voice-worker-ja.js.map