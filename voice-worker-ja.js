(()=>{"use strict";var e={15522:function(e,t,r){r.d(t,{op:()=>n}),Object.freeze({MODULE_LOAD_ERROR:"Failed to load module",MAX_RETRY:"Maximum retries exceeded",DUPLICATE_REQUEST:"Duplicate request",UNREACHABLE:"Module panicked",BAD_INPUT:"Invalid Input"});let n=Object.freeze({HAPPY:"happy",ANGRY:"angry",SAD:"sad",NEUTRAL:"neutral"});Object.freeze({HUMAN_FEMALE:"Human Female",ROBOT_MALE:"Robot Male"})},13973:function(e,t,r){r.d(t,{qm:()=>n});function n(e,t){let r={name:"Error",message:` at ${t}`,cause:{}};if("string"==typeof e&&e.length>0)try{r=JSON.parse(e)}catch{r.message=e}else(e instanceof Error||"object"==typeof e&&null!==e)&&("name"in e&&(r.name=e.name??"Error"),"message"in e&&(r.message=e.message),"stack"in e&&(r.stack=e.stack),"cause"in e&&null!==e.cause&&"object"==typeof e.cause&&("code"in e.cause&&"string"==typeof e.cause.code&&(r.cause.code=e.cause.code),"module"in e.cause&&"string"==typeof e.cause.module&&(r.cause.module=e.cause.module)));return r}},57215:function(e,t,r){r.a(e,async function(e,t){try{var n=r(27985),i=r(15522),o=r(13973),a=e([n]);n=(a.then?(await a)():a)[0];let u=globalThis.self;u.addEventListener("message",function(e){let{uid:t,index:r,tl:a,q:_,japaneseVoice:s}=e.data;if("ja"===a&&null!==_&&"function"==typeof n.mG){let e;switch(s){case"default":case void 0:e=i.op.NEUTRAL;break;default:e=s}try{let{uid:i,index:o,buffer:a}=(0,n.mG)(t,r,_,e);u.postMessage({uid:i,index:o,buffer:a})}catch(t){let e=(0,o.qm)(t,"voice-worker-ja");u.postMessage(e)}}}),t()}catch(e){t(e)}})},27985:function(e,t,r){r.a(e,async function(e,n){try{r.d(t,{mG:()=>o.mG});var i=r(45884),o=r(75359),a=e([i]);i=(a.then?(await a)():a)[0],(0,o.oT)(i),i.__wbindgen_start(),n()}catch(e){n(e)}})},75359:function(e,t,r){let n;function i(e){n=e}r.d(t,{L:()=>h,MX:()=>v,Or:()=>A,Qr:()=>m,h4:()=>E,mG:()=>g,oT:()=>i,xQ:()=>x});let o=new("undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let a=null;function u(){return(null===a||0===a.byteLength)&&(a=new Uint8Array(n.memory.buffer)),a}function _(e,t){return e>>>=0,o.decode(u().subarray(e,e+t))}let s=0,c=new("undefined"==typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder)("utf-8"),l="function"==typeof c.encodeInto?function(e,t){return c.encodeInto(e,t)}:function(e,t){let r=c.encode(e);return t.set(r),{read:e.length,written:r.length}};function f(e,t,r){if(void 0===r){let r=c.encode(e),n=t(r.length,1)>>>0;return u().subarray(n,n+r.length).set(r),s=r.length,n}let n=e.length,i=t(n,1)>>>0,o=u(),a=0;for(;a<n;a++){let t=e.charCodeAt(a);if(t>127)break;o[i+a]=t}if(a!==n){0!==a&&(e=e.slice(a)),i=r(i,n,n=a+3*e.length,1)>>>0;let t=l(e,u().subarray(i+a,i+n));a+=t.written,i=r(i,n,a,1)>>>0}return s=a,i}let d=null;function b(){return(null===d||!0===d.buffer.detached||void 0===d.buffer.detached&&d.buffer!==n.memory.buffer)&&(d=new DataView(n.memory.buffer)),d}function g(e,t,r,i){let o=f(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=s,u=f(r,n.__wbindgen_malloc,n.__wbindgen_realloc),_=s,c=n.buildSpeech(o,a,null==t?0x100000001:t>>>0,u,_,null==i?5:(p.indexOf(i)+1||5)-1);if(c[2])throw function(e){let t=n.__wbindgen_export_3.get(e);return n.__externref_table_dealloc(e),t}(c[1]);return y.__wrap(c[0])}let p=["neutral","angry","happy","sad"],w="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_queryresult_free(e>>>0,1));class y{static __wrap(e){e>>>=0;let t=Object.create(y.prototype);return t.__wbg_ptr=e,w.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_queryresult_free(e,0)}get uid(){let e,t;try{let r=n.__wbg_get_queryresult_uid(this.__wbg_ptr);return e=r[0],t=r[1],_(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}set uid(e){let t=f(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=s;n.__wbg_set_queryresult_uid(this.__wbg_ptr,t,r)}get index(){let e=n.__wbg_get_queryresult_index(this.__wbg_ptr);return 0x100000001===e?void 0:e}set index(e){n.__wbg_set_queryresult_index(this.__wbg_ptr,null==e?0x100000001:e>>>0)}get buffer(){let e=n.__wbg_get_queryresult_buffer(this.__wbg_ptr);var t,r,i=(t=e[0],r=e[1],t>>>=0,u().subarray(t/1,t/1+r)).slice();return n.__wbindgen_free(e[0],+e[1],1),i}set buffer(e){let t=function(e,t){let r=t(+e.length,1)>>>0;return u().set(e,r/1),s=e.length,r}(e,n.__wbindgen_malloc),r=s;n.__wbg_set_queryresult_buffer(this.__wbg_ptr,t,r)}}function h(e,t){let r,i;try{r=e,i=t,console.error(_(e,t))}finally{n.__wbindgen_free(r,i,1)}}function m(){return Error()}function v(e,t){let r=f(t.stack,n.__wbindgen_malloc,n.__wbindgen_realloc),i=s;b().setInt32(e+4,i,!0),b().setInt32(e+0,r,!0)}function x(){let e=n.__wbindgen_export_3,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function E(e,t){return _(e,t)}function A(e,t){throw Error(_(e,t))}},45884:function(e,t,r){var n=r(75359);e.exports=r.v(t,e.id,"2147b8ee7e2c3df8",{"./voice_ja_bg.js":{__wbindgen_string_new:n.h4,__wbg_new_8a6f238a6ece86ea:n.Qr,__wbg_stack_0ed75d68575b0f3c:n.MX,__wbg_error_7534b8e9a36f1ab4:n.L,__wbindgen_throw:n.Or,__wbindgen_init_externref_table:n.xQ}})}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{var e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},o=r=>r.map(r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var o=[];o.d=0,r.then(e=>{a[t]=e,i(o)},e=>{a[n]=e,i(o)});var a={};return a[e]=e=>e(o),a}}var u={};return u[e]=function(){},u[t]=r,u});r.a=(r,a,u)=>{u&&((_=[]).d=-1);var _,s,c,l,f=new Set,d=r.exports,b=new Promise((e,t)=>{l=t,c=e});b[t]=d,b[e]=e=>{_&&e(_),f.forEach(e),b.catch(function(){})},r.exports=b,a(r=>{s=o(r);var i,a=()=>s.map(e=>{if(e[n])throw e[n];return e[t]}),u=new Promise(t=>{(i=()=>t(a)).r=0;var r=e=>e!==_&&!f.has(e)&&(f.add(e),e&&!e.d&&(i.r++,e.push(i)));s.map(t=>t[e](r))});return i.r?u:a()},e=>(e?l(b[n]=e):c(d),i(_))),_&&_.d<0&&(_.d=0)}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.rv=()=>"1.3.15",r.v=function(e,t,n,i){var o=fetch(r.p+""+n+".module.wasm"),a=function(){return o.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,i)}).then(function(t){return Object.assign(e,t.instance.exports)})};return o.then(function(t){return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,i).then(function(t){return Object.assign(e,t.instance.exports)},function(e){if("application/wasm"!==t.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),a();throw e}):a()})},(()=>{r.g.importScripts&&(e=r.g.location+"");var e,t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw Error("Automatic publicPath is not supported in this browser");r.p=e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")})(),r.ruid="bundler=rspack@1.3.15",r(57215)})();
//# sourceMappingURL=voice-worker-ja.js.map