/*! For license information please see main.b5b42260.js.LICENSE.txt */
"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[179],{7508:(e,t,r)=>{r.d(t,{qe:()=>o,vT:()=>i});const n="nmemonica-9d977",o={apiKey:"AIzaSyD0R3dzI2GREIuA0irO3dMT0n4CP59-GjQ",authDomain:n+".firebaseapp.com",databaseURL:"https://"+n+".firebaseio.com",projectId:n,storageBucket:n+".appspot.com",messagingSenderId:"839840260761",appId:"1:839840260761:web:6d72438c4131e3ce368e08"},i="https://us-east1-"+n+".cloudfunctions.net/g_translate_pronounce"},6456:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(7294),o=r(5697),i=r.n(o),a=r(5529),c=r(7508),l=r(7672),u=r(8090);function s(e){var t,r=e.word;return n.createElement("div",{className:"clickable",onTouchStart:e.visible?function(){t=Date.now(),e.onPushedPlay&&"function"==typeof e.onPushedPlay&&e.onPushedPlay()}:void 0,onTouchEnd:e.visible?function(){var n=~~(Date.now()-t)<500&&!e.reCache?"":"/override_cache",o=(0,l.b1)(c.vT+n,r);(0,u.R$)(o)}:void 0},e.visible&&n.createElement(a.Ibz,{size:"medium","aria-label":"pronunciation"}))}s.defaultProps={visible:!1},s.propTypes={word:i().shape({tl:i().string.isRequired,q:i().string.isRequired,uid:i().string.isRequired}).isRequired,reCache:i().bool,onPushedPlay:i().func,visible:i().bool}},9886:(e,t,r)=>{r.d(t,{Qp:()=>h,Vv:()=>y,e2:()=>m});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(5529),u=r(7625),s=r(6024);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return e.visible?null:n.createElement("div",{className:"loop-btn loop-setting-btn clickable","aria-label":"Loop repeat settings button",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()}},n.createElement(l.reW,{className:i()({"rotate-135":!0,"disabled-color":!e.active}),size:"small"}),e.active&&n.createElement("span",{className:"notification"},e.loop))}function h(e){var t=e.className;return e.visible?null:n.createElement("div",{className:i()(v({"loop-btn loop-start-btn clickable":!0},t||{})),"aria-label":"Loop start button"},n.createElement(u.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:s.aQ}),null!=e.countDown&&n.createElement("span",{className:"notification"},e.countDown))}function y(e){var t=e.className;return e.visible?null:n.createElement("div",{className:i()(v({"loop-btn loop-stop-btn clickable":!0},t||{})),"aria-label":"Loop stop button"},n.createElement(u.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:s.oD}))}m.propTypes={visible:c().bool,active:c().bool,loop:c().number,onClick:c().func},h.propTypes={visible:c().bool,onClick:c().func,className:c().object,countDown:c().number},y.propTypes={visible:c().bool,onClick:c().func,className:c().object}},5231:(e,t,r)=>{r.d(t,{Z:()=>b});var n=r(5697),o=r.n(n),i=r(7294),a=r(4184),c=r.n(a),l=r(6706),u=r(2022);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=[],r=0;return e.forEach((function(n,o){if(o>0&&n.msg===e[o-1].msg)r++;else if(r>0){var i=t.slice(0,-1),a=t.slice(-1)[0];t=[].concat(m(i),[v(v({},a),{},{msg:a.msg+" "+(r+1)+"+"}),n]),r=0}else t=[].concat(m(t),[n])})),t}function b(e){var t=!0===e.connected,r=(0,l.v9)((function(r){var n=r.global;return!t&&e.messages?{messages:e.messages,debug:u.x6.DEBUG}:v({messages:n.console},n)})),n=r.messages,o=r.debug,a=f((0,i.useState)(6),2),s=a[0],p=a[1],m=f((0,i.useState)(0),2),h=m[0],y=m[1],b=f((0,i.useState)(g(n)),2),w=b[0],E=b[1],j=(0,i.useRef)();(0,i.useMemo)((function(){if(o===u.x6.OFF)y(0),E([]);else{var e=g(n);if(y(0),E(e),p(6),void 0!==j.current&&clearTimeout(j.current),t){var r=setTimeout((function(){p(3),j.current=void 0}),3e3);j.current=Number(r)}}}),[t,o,n]);var S=-s-h,O=h>0?-1*h:void 0,k=w.slice(S,O),x=(0,i.useCallback)((function(){var e=w.length-s>-1?w.length-s:0;if(h<e){p(6),y((function(e){return e+1})),void 0!==j.current&&clearTimeout(j.current);var t=setTimeout((function(){p(3),y(0),j.current=void 0}),1e4);j.current=Number(t)}}),[s,h,w]);return i.createElement("div",{className:c()({"console p-1":!0,"position-absolute":!0===e.connected,"mw-50":!0===e.connected})},k.map((function(e,t){var r=c()(v(v({"app-sm-fs-xx-small":!0},e.css?d({},e.css,!0):{}),{},{"correct-color":e.lvl===u.x6.DEBUG,"question-color":e.lvl===u.x6.WARN,"incorrect-color":e.lvl===u.x6.ERROR}));return i.createElement("div",{key:t,className:r,onClick:x},e.msg)})))}b.propTypes={connected:o().bool,messages:o().array}},6892:(e,t,r)=>{r.d(t,{M:()=>f});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(5529);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t,r=i()((s(t={},""+e.addlStyle,!!e.addlStyle),s(t,"p-0 px-2",!0),s(t,"font-weight-bold",e.active),t));return n.createElement("div",{className:r,onClick:e.onClick},n.createElement("span",{className:"p-1"},e.active?n.createElement(l.oOx,{className:"clickable incorrect-color",size:"small","aria-label":"remove"}):n.createElement(l.wl8,{className:"clickable",size:"small","aria-label":"add"})),n.createElement("span",{className:"p-1"},e.children))}f.propTypes={addlStyle:c().string,active:c().bool,onClick:c().func,children:c().string}},7588:(e,t,r)=>{r.d(t,{R:()=>l});var n=r(7294),o=r(5697),i=r.n(o),a=r(5529),c=r(1816);function l(e){var t="error";return n.createElement("div",{className:"d-flex justify-content-between h-100"},n.createElement(c.Z,{color:t,ariaLabel:"Previous",action:e.prev},n.createElement(a.wyc,{size:16})),e.children,n.createElement(c.Z,{color:t,ariaLabel:"Next",action:e.next},n.createElement(a.XCv,{size:16})))}l.propTypes={prev:i().func,next:i().func,color:i().string,children:i().object}},1741:(e,t,r)=>{r.d(t,{n:()=>s});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t,r=i()((u(t={},e.addlStyle,!0),u(t,"d-flex flex-column justify-content-around text-center h-100",!0),t));return n.createElement("div",{className:r},n.createElement("div",null,"Awaiting data ..."))}s.propTypes={addlStyle:c().string}},3653:(e,t,r)=>{r.d(t,{A:()=>p,D4:()=>E,Qp:()=>j,R_:()=>d,Ro:()=>b,lh:()=>S,nK:()=>m,ph:()=>g,uY:()=>w,y8:()=>y});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(5529),u=r(7625),s=r(1436),f=r(2613);function p(e){var t=e.active,r=e.toggle,o=e.toggleFurigana,a=e.vocabulary;return!1===e.visible?null:n.createElement("div",{className:i()({clickable:t,"sm-icon-grp":!0,"sm-kanji":t}),onClick:t?function(){return o(a.uid)}:void 0,"aria-label":"Toggle furigana"},t?n.createElement("ruby",null,"漢",n.createElement("rt",{className:i()({"disabled disabled-color":!r})},"ふりがな")):n.createElement("span",{className:"disabled disabled-color"},"あ"))}function v(e){var t=(0,n.useRef)(0),r=e.addFrequencyTerm,o=e.removeFrequencyTerm,a=e.toggle,c=e.term,u=e.count,s=void 0===u?t.current:u,p=(0,f.oU)(),v=t.current===s;return(0,n.useEffect)((function(){t.current=void 0!==s?s:0,!1===v&&p()}),[s,v,p]),!1===e.visible?null:n.createElement("div",{"aria-label":a?"Remove term":"Add term",className:"sm-icon-grp clickable",onClick:function(){a?o(c.uid):r(c.uid)}},a?n.createElement(l.oOx,{size:"small"}):n.createElement(l.wl8,{size:"small"}),void 0!==s&&s>-1&&n.createElement("span",{className:i()({notification:!0,"notification-fade":v})},s))}p.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,toggleFurigana:c().func,hasFurigana:c().bool,vocabulary:c().object},v.propTypes={visible:c().bool,active:c().bool,addFrequencyTerm:c().func,removeFrequencyTerm:c().func,toggle:c().bool,term:c().object,count:c().number};var d=(0,n.memo)(v),m=(0,n.memo)(v,h);function h(e,t){var r=e.toggle===t.toggle,n=e.count===t.count&&e.toggle===t.toggle||e.count===t.count&&e.toggle!==t.toggle||e.count!==t.count&&e.toggle===t.toggle,o=e.term.uid===t.term.uid&&e.active===t.active&&e.visible===t.visible&&e.addFrequencyTerm===t.addFrequencyTerm&&e.removeFrequencyTerm===t.removeFrequencyTerm;return(void 0!==t.count?n:r)&&o}function y(e){var t=e.active,r=e.setShowHint;return e.visible?n.createElement("div",{className:i()({"sm-icon-grp":!0,clickable:t,"disabled disabled-color":!t}),onClick:t?function(){r(!0),setTimeout((function(){r(!1)}),1500)}:void 0,"aria-label":t?"Show hint":"Hint unavailable"},n.createElement(l.OgN,{size:"small"})):null}function g(e){var t=e.toggleAutoVerbView,r=e.autoVerbView;return e.visible?n.createElement("div",{className:"sm-icon-grp clickable",onClick:function(){return t()},"aria-label":"Toggle auto verb view"},n.createElement(u.G,{icon:r?s.gPx:s.Bxq})):null}function b(e){var t=e.active,r=e.action;return!1===e.visible?null:n.createElement("div",{className:i()({clickable:!0,"sm-icon-grp":!0,"disabled-color":t}),onClick:function(){"function"==typeof r&&r()},"aria-label":"Override audio"},n.createElement(u.G,{icon:s.TZC}))}function w(e){var t=e.action,r=e.toggle;return!1===e.visible?null:n.createElement("div",{"aria-label":"Toggle practice side"},n.createElement(u.G,{className:"clickable",onClick:t,icon:r?s.dzc:s.UJf}),n.createElement("span",{className:"notification"},n.createElement(u.G,{icon:r?s.UJf:s.dzc})))}function E(e){var t=e.action,r=e.toggle;return e.visible?n.createElement("div",{className:i()({clickable:!0,"sm-icon-grp":!0,"info-color":r}),onClick:function(){"function"==typeof t&&t()},"aria-label":"Literal english translation"},n.createElement(l.Rg1,{size:"small"})):null}function j(e){return e.visible?n.createElement("div",null,n.createElement(u.G,{icon:s.RJo})):null}function S(e){return e.visible?n.createElement(n.Fragment,null,n.createElement("div",{key:0,className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onIncorrect&&e.onIncorrect()}},n.createElement("span",{className:i()({"border-bottom":"incorrect"===e.hover})},"-1")),n.createElement("div",{key:1,className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onPronunciation&&e.onPronunciation()}},n.createElement("span",{className:i()({"border-bottom":"pronunciation"===e.hover||"reset"!==e.hover&&!0===e.prevMissPronu})},"P")),n.createElement("div",{key:2,className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onReset&&e.onReset()}},n.createElement("span",{className:i()({"border-bottom":"reset"===e.hover})},"0"))):null}y.propTypes={visible:c().bool,active:c().bool,setShowHint:c().func},g.propTypes={visible:c().bool,active:c().bool,toggleAutoVerbView:c().func,autoVerbView:c().bool},b.propTypes={visible:c().bool,active:c().bool,action:c().func},w.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},E.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},j.propTypes={visible:c().bool},S.propTypes={visible:c().bool,hover:c().string,onClick:c().func,onIncorrect:c().func,onPronunciation:c().func,onReset:c().func,prevMissPronu:c().bool}},3307:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(7294),o=r(5697),i=r.n(o),a=r(4184),c=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t,r;e.children&&(t=e.children,r=e.children),e.largeValue&&(t=e.largeValue),e.smallValue&&(r=e.smallValue);var o=void 0!==e.rootClassName&&c()(e.rootClassName)||void 0,i=void 0!==e.className&&e.className||{},a="d-none d-"+e.breakPoint+"-inline"+(void 0!==e.largeClassName?" "+c()(e.largeClassName):""),l="d-inline d-"+e.breakPoint+"-none"+(void 0!==e.smallClassName?" "+c()(e.smallClassName):""),u=function(){"function"==typeof e.onClick&&e.onClick()},p=[n.createElement("span",{key:0,"data-name":"large",className:c()(s(s(f({},a,!0),i),{},{clickable:"function"==typeof e.onClick}))||void 0,onClick:u},t),n.createElement("span",{key:1,"data-name":"small",className:c()(s(s(f({},l,!0),i),{},{clickable:"function"==typeof e.onClick}))||void 0,onClick:u},r)];return!0===e.fragment?n.createElement(n.Fragment,null,p):n.createElement("div",{className:o},p)}p.propTypes={fragment:i().bool,breakPoint:i().string,rootClassName:i().object,className:i().object,largeClassName:i().object,smallClassName:i().object,onClick:i().func,children:i().oneOfType([i().string,i().element]),largeValue:i().oneOfType([i().string,i().element]),smallValue:i().oneOfType([i().string,i().element])}},1816:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(7294),o=r(5697),i=r.n(o),a=r(6914);function c(e){return n.createElement(a.Z,{size:"small",color:e.color,"aria-label":e.ariaLabel,sx:{color:e.color?void 0:"unset"},onClick:e.action},e.children)}c.propTypes={action:i().func.isRequired,color:i().string,ariaLabel:i().string.isRequired,children:i().object.isRequired};const l=c},9897:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(7294),o=r(5697),i=r.n(o),a=r(4184),c=r.n(a),l=r(5529),u=r(1816);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r,o=(0,n.useReducer)((function(e,t){return v(v({},e),t)}),{showMeaning:!1,incorrect:[],correct:!1}),i=(r=2,function(e){if(Array.isArray(e))return e}(t=o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||m(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1],p=function(){s({showMeaning:!1,correct:!1,incorrect:[]})},d=e.question,h=e.choices,y=void 0!==d.english?"[English]":"";return void 0===e.hint?a.showMeaning&&d.english&&(y=d.english):y=a.showMeaning&&d.english?d.english:e.hint,n.createElement("div",{key:0,className:"pick4game main-panel h-100"},n.createElement("div",{className:"d-flex justify-content-between h-100"},n.createElement(u.Z,{ariaLabel:"Previous",action:function(){p(),e.gotoPrev()}},n.createElement(l.wyc,{size:16})),n.createElement("div",{className:c()({"question d-flex flex-column justify-content-center text-center w-50":!0})},n.createElement("h1",null,d.toHTML(a.correct)),n.createElement("span",{className:c()({invisible:!e.qRomaji})},d.romaji),void 0!==y&&n.createElement("span",{className:"clickable",onClick:function(){s({showMeaning:!a.showMeaning})}},y)),n.createElement("div",{className:"choices d-flex justify-content-around flex-wrap w-50"},h.map((function(t,r){var o=e.isCorrect(h[r])&&a.correct,i=a.incorrect.includes(r),l=c()({"w-50 h-50 pt-3 d-flex flex-column justify-content-evenly text-center clickable":!0,"correct-color":o,"incorrect-color":i});return n.createElement("div",{key:r,className:l,onClick:function(){!function(t,r){e.isCorrect(t)?(s({correct:!0,showMeaning:!0}),setTimeout((function(){p(),e.gotoNext()}),1e3)):2===a.incorrect.length?(s({incorrect:[].concat(f(a.incorrect),[r]),correct:!0,showMeaning:!0}),setTimeout((function(){p(),e.gotoNext()}),1e3)):s({incorrect:[].concat(f(a.incorrect),[r])})}(t,r)}},n.createElement("div",null,n.createElement("h4",null,t.toHTML()),o&&n.createElement("div",null,t.english),n.createElement("span",{className:c()({invisible:!e.aRomaji})},t.romaji)))}))),n.createElement(u.Z,{ariaLabel:"Next",action:function(){p(),e.gotoNext()}},n.createElement(l.XCv,{size:16}))))}y.propTypes={question:i().object,hint:i().string,isCorrect:i().func.isRequired,choices:i().array,gotoNext:i().func.isRequired,gotoPrev:i().func.isRequired,qRomaji:i().bool,aRomaji:i().bool};const g=y},3151:(e,t,r)=>{r.r(t),r.d(t,{KanjiGameMeta:()=>A,default:()=>N,oneFromList:()=>T});var n=r(9041),o=r(4184),i=r.n(o),a=r(7294),c=r(6706),l=r(9655),u=r(5412),s=r(7),f=r(3058),p=r(7641),v=r(9252),d=r(609),m=r(1741),h=r(3653),y=r(9897),g=r(5045),b=r(4410),w=r(1080);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A={location:"/kanji-game/",label:"Kanji Game"};function T(e){var t=e,r=e.split(",");if(r.length>1){var n=r[Math.floor(Math.random()*r.length)].trim();t=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}return t}function N(){var e,t=(0,c.I0)(),r=(0,w.Aq)(),o=r.rawKanjis,E=r.activeTags,k=r.filterType,P=r.reinforce,A=r.repetitionObj;(0,a.useMemo)((function(){0===o.length&&t((0,u.tk)())}),[]);var N=(0,a.useRef)([]),L=j((0,a.useState)(0),2),C=L[0],I=L[1],M=(0,a.useMemo)((function(){return A}),[A]),D=(0,v.n)(M,o,P,k,E);N.current=(0,a.useMemo)((function(){return(0,f.tq)(D)}),[D]);var R=j((0,a.useState)(!1),2),F=R[0],_=R[1],G=(0,p.e)(M,D),q=(0,b.h)(F,G,D),V=j((0,d.D)(F,q,D.length,I),2),W=V[0],U=V[1],Z=(W=(0,a.useMemo)((function(){var e;return null!==(e=W)&&void 0!==e?e:D[N.current[C]]}),[W,D,C]))&&!0===(null===(e=M[W.uid])||void 0===e?void 0:e.rein),z=(0,a.useMemo)((function(){return function(e,t){if(e&&0!==t.length){var r=e.uid,n=e.kanji,o=e.on,c=e.kun;return{question:{toHTML:function(e){return a.createElement("div",null,a.createElement("div",{className:i()({"correct-color":e})},a.createElement("span",null,n)),(void 0!==o||void 0!==c)&&a.createElement("div",{className:i()({"d-flex flex-column mt-3 h4":!0,invisible:!e,"correct-color":e})},a.createElement("span",null,o),a.createElement("span",null,c)))}},answer:r,choices:function(e,t){for(var r=function(e){return e.split(",").map((function(e){return e.trim()}))},n=[x(x({},e),{},{english:T(e.english)})],o=r(e.english);n.length<4;){var i=t[Math.floor(Math.random()*t.length)],a=r(i.english);a.every((function(e){return o.every((function(t){return t!==e}))}))&&a.every((function(e){return n.every((function(t){return e!==t.english}))}))&&(n=[].concat(function(e){if(Array.isArray(e))return O(e)}(c=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||S(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[x(x({},i),{},{english:T(i.english)})]))}var c;return(0,s.Sy)(n),n}(e,t).map((function(e){return{compare:e.uid,toHTML:function(){return e.english}}}))}}}(W,o)}),[W,o]),K=(0,a.useCallback)((function(e){t((0,u.Mh)(e))}),[t]),H=(0,a.useCallback)((function(e){t((0,u.SI)(e))}),[t]);if(void 0===z)return a.createElement(m.n,{addlStyle:"main-panel"});var J=D.length,B=(C+1)/J*100;return a.createElement(a.Fragment,null,a.createElement(y.Z,{question:z.question,isCorrect:function(e){return e.compare===z.answer},choices:z.choices,gotoPrev:function(){_(!1),U((function(e){return e-1}))},gotoNext:function(){var e=P&&Math.random()<1/3;_(e),U((function(e){return e+1}))}}),a.createElement("div",{className:"options-bar mb-3 flex-shrink-1"},a.createElement("div",{className:"row opts-max-h"},a.createElement("div",{className:"col"},a.createElement("div",{className:"d-flex justify-content-start"},a.createElement(l.rU,{to:g.KanjiGridMeta.location},a.createElement(h.uY,{toggle:!0,action:function(){}})))),a.createElement("div",{className:"col text-center"},a.createElement(h.Qp,{visible:Z&&W.uid!==D[N.current[C]].uid})),a.createElement("div",{className:"col"},a.createElement("div",{className:"d-flex justify-content-end"},a.createElement(h.R_,{addFrequencyTerm:K,removeFrequencyTerm:H,toggle:Z,term:W}))))),a.createElement("div",{className:"progress-line flex-shrink-1"},a.createElement(n.Z,{variant:"determinate",value:B,color:Z?"secondary":"primary"})))}},5045:(e,t,r)=>{r.r(t),r.d(t,{KanjiGridMeta:()=>_,default:()=>G});var n=r(2409),o=r(8301),i=r(9041),a=r(4184),c=r.n(a),l=r(7294),u=r(6706),s=r(9655),f=r(3058),p=r(7641),v=r(2613),d=r(9252),m=r(4410),h=r(609),y=r(1080),g=r(5412),b=r(1741),w=r(3653),E=r(3151),j=r(5529),S=r(5697),O=r.n(S),k=r(1816);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e){var t=(0,l.useReducer)((function(e,t){return T(T({},e),t)}),{showMeaning:!1,incorrect:[],correct:-1}),r=L(t,2),n=r[0],o=r[1],i=(0,l.useCallback)((function(){o({showMeaning:!1,correct:-1,incorrect:[]})}),[o]),a=e.isCorrect,u=e.choices,s=e.gotoNext,f=e.gotoPrev,p=(0,l.useCallback)((function(){i(),f()}),[i,f]),v=(0,l.useCallback)((function(){i(),s()}),[i,s]),d=c()({"pickXgame main-panel h-100":!0});return l.createElement("div",{key:0,className:d},l.createElement("div",{className:"d-flex justify-content-between h-100"},l.createElement(k.Z,{ariaLabel:"Previous",action:p},l.createElement(j.wyc,{size:16})),l.createElement("div",{className:"choices d-flex justify-content-around flex-wrap w-100"},u.map((function(e,t){return r=t,f=u.length,p=n.incorrect.includes(r),v=n.correct===r,d=c()({clickable:!0,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":v,"incorrect-color":p}),m=c()({"mb-0":!0}),h=Math.trunc(1/Math.ceil(Math.sqrt(f))*.75*100)+"%",l.createElement("div",{key:r,onClick:function(){return e=u[r],t=r,l=(c=L(a(e),2))[0],f=c[1],void(l?(o({correct:t,showMeaning:!0}),setTimeout((function(){i(),s()}),1e3)):2===n.incorrect.length?(o({incorrect:[].concat(P(n.incorrect),[t]),correct:f,showMeaning:!0}),setTimeout((function(){i(),s()}),2500)):o({incorrect:[].concat(P(n.incorrect),[t])}));var e,t,c,l,f},className:d,style:{width:h}},l.createElement("h2",{className:m},u[r].toHTML()));var r,f,p,v,d,m,h}))),l.createElement(k.Z,{ariaLabel:"Next",action:v},l.createElement(j.XCv,{size:16}))))}M.propTypes={question:O().object,isCorrect:O().func.isRequired,choices:O().array,gotoNext:O().func.isRequired,gotoPrev:O().func.isRequired};const D=l.memo(M);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _={location:"/kanji-grid/",label:"Kanji Grid Game"};function G(){var e,t=(0,u.I0)(),r=(0,y.Aq)(),a=r.rawKanjis,j=r.activeTags,S=r.filterType,O=r.reinforce,k=r.choiceN,x=r.repetition;(0,l.useMemo)((function(){0===a.length&&t((0,g.tk)())}),[]);var P=(0,l.useRef)([]),A=R((0,l.useState)(0),2),T=A[0],N=A[1],L=R((0,l.useState)(!1),2),C=L[0],I=L[1],M=(0,d.n)(x,a,O,S,j);P.current=(0,l.useMemo)((function(){return(0,f.tq)(M)}),[M]);var F=R((0,l.useState)(""),2),G=F[0],q=F[1],V=R((0,l.useState)(!1),2),W=V[0],U=V[1],Z=(0,p.e)(x,M),z=(0,m.h)(W,Z,M),K=R((0,h.D)(W,z,M.length,N),2),H=K[0],J=K[1],B=(H=(0,l.useMemo)((function(){var e,t=null!==(e=H)&&void 0!==e?e:M[P.current[T]];if(t){var r=(0,E.oneFromList)(t.english);q(r)}return t}),[H,M,T]))&&!0===(null===(e=x[H.uid])||void 0===e?void 0:e.rein),Y=(0,d.b)(k,"english",H,a),Q=(0,l.useCallback)((function(){var e;if(null!==(e=H)&&void 0!==e&&e.english.includes(",")){for(var t=G;t===G;)t=(0,E.oneFromList)(H.english);q(t)}}),[H,G]),$=(0,l.useMemo)((function(){return function(e,t,r,n,o){if(e&&0!==t.length){var i=e.english,a=e.kanji,u=e.on,s=e.kun,f=e.uid,p=n!==i;return{question:{toHTML:function(e){return r?l.createElement("div",null,l.createElement("div",{className:c()({"correct-color":e})},l.createElement("span",null,a)),(void 0!==u||void 0!==s)&&l.createElement("div",{className:c()({"d-flex flex-column mt-3 h4":!0,"transparent-color":!e,"correct-color":e})},l.createElement("span",null,u),l.createElement("span",null,s))):l.createElement("div",{onClick:p?o:void 0},n+(p?"...":""))}},answer:f,choices:t.map((function(e){return{compare:e.uid,toHTML:function(t){return(null!=t?t:r)?e.english:e.kanji}}}))}}}(H,Y,C,G,Q)}),[H,Y,C,G,Q]),X=(0,l.useRef)(-1),ee=R((0,l.useState)(""),2),te=ee[0],re=ee[1],ne=R((0,l.useState)({w:0,h:0}),2),oe=ne[0],ie=ne[1],ae=(0,v.iP)(),ce=(0,n.YF)({placement:"bottom",middleware:[(0,o.cv)({mainAxis:void 0===ae.height?0:ae.height/2-oe.h,crossAxis:0}),(0,o.uY)()]}),le=ce.x,ue=ce.y,se=ce.strategy,fe=ce.refs,pe=ce.update;(0,l.useEffect)((function(){var e,t,r=null===(e=fe.floating.current)||void 0===e?void 0:e.clientWidth,n=null===(t=fe.floating.current)||void 0===t?void 0:t.clientHeight;te.length>0&&r&&r>0&&n&&n>0&&(ie({w:r,h:n}),pe())}),[te,ie,fe.floating,pe]);var ve=(0,l.useCallback)((function(e){t((0,g.Mh)(e))}),[t]),de=(0,l.useCallback)((function(e){t((0,g.SI)(e))}),[t]),me=(0,l.useCallback)((function(e){var t=e.compare===(null==$?void 0:$.answer),r=(null==$?void 0:$.choices.findIndex((function(e){return e.compare===(null==$?void 0:$.answer)})))||-1;return t||(X.current>-1&&te.length>0?(clearTimeout(X.current),re(""),setTimeout((function(){return re(e.toHTML(!C))}),100)):(re(e.toHTML(!C)),X.current=window.setTimeout((function(){return re("")}),2500))),[t,r]}),[C,$,te]),he=(0,l.useCallback)((function(){U(!1),J((function(e){return e-1}))}),[J]),ye=(0,l.useCallback)((function(){var e=O&&Math.random()<1/3;U(e),J((function(e){return e+1}))}),[J,O]);if(void 0===$)return l.createElement(b.n,{addlStyle:"main-panel"});var ge=(T+1)/M.length*100;return l.createElement(l.Fragment,null,l.createElement("div",{className:"tooltip-anchor",ref:fe.setReference}),l.createElement("div",{ref:fe.setFloating,style:{position:se,top:null!=ue?ue:0,left:null!=le?le:0,width:"max-content",fontWeight:"bold",fontSize:"xxx-large"},className:c()({"dark-mode-color":!0,"notification-fade":te.length>0})},te),l.createElement(D,{question:$.question,isCorrect:me,choices:$.choices,gotoPrev:he,gotoNext:ye}),l.createElement("div",{className:"options-bar mb-3 flex-shrink-1"},l.createElement("div",{className:"row opts-max-h"},l.createElement("div",{className:"col"},l.createElement("div",{className:"d-flex justify-content-start"},l.createElement(s.rU,{to:C?_.location:E.KanjiGameMeta.location},l.createElement(w.uY,{toggle:C,action:(0,v.kP)(I,(function(e){return!e}))})))),l.createElement("div",{className:"col text-center"},l.createElement(w.Qp,{visible:B&&H.uid!==M[P.current[T]].uid})),l.createElement("div",{className:"col"},l.createElement("div",{className:"d-flex justify-content-end"},l.createElement("span",null,$.question.toHTML(!1)),l.createElement(w.R_,{addFrequencyTerm:ve,removeFrequencyTerm:de,toggle:B,term:H}))))),l.createElement("div",{className:"progress-line flex-shrink-1"},l.createElement(i.Z,{variant:"determinate",value:ge,color:B?"secondary":"primary"})))}},2917:(e,t,r)=>{r.r(t),r.d(t,{OppositesGameMeta:()=>j,default:()=>S});var n=r(7294),o=r(6706),i=r(9041),a=r(7),c=r(3058),l=r(1741),u=r(9897),s=r(4184),f=r.n(s),p=r(1513),v=r(2778);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j={location:"/opposites/",label:"Opposites Game"};const S=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.opposite})),r=t.value,s=t.qRomaji,d=t.aRomaji;(0,n.useMemo)((function(){0===r.length&&e((0,v.bt)())}),[]);var h=(0,n.useMemo)((function(){return r}),[r]),g=(0,n.useRef)([]),w=b((0,n.useState)(0),2),E=w[0],j=w[1],S=function(e,t){if(t.length>0){0===g.current.length&&(g.current=(0,c.tq)(t));for(var r=b(t[g.current[e]],2),o=r[0],i=r[1],l=p.TZ.parse(o),u=p.TZ.parse(i),s=y(y({},o),{},{toHTML:function(e){return n.createElement("span",{className:f()({"correct-color":e})},l.toHTML())}}),v=y(y({},i),{},{compare:i.japanese,toHTML:function(){return u.toHTML()}}),d=[v],h=[v.romaji,s.romaji],w=function(){var e=Math.floor(Math.random()*t.length),r=b(t[e],2),n=r[0],o=r[1];if(!h.includes(n.romaji)&&!h.includes(o.romaji))if(0===Math.floor(2*Math.random())){var i=p.TZ.parse(n);d=[].concat(m(d),[y(y({},n),{},{compare:n.japanese,toHTML:function(){return i.toHTML()}})]),h=[].concat(m(h),[n.romaji])}else{var a=p.TZ.parse(o);d=[].concat(m(d),[y(y({},o),{},{compare:o.japanese,toHTML:function(){return a.toHTML()}})]),h=[].concat(m(h),[o.romaji])}};d.length<4;)w();return(0,a.Sy)(d),{question:s,answer:v,choices:d}}}(E,h);if(void 0===S)return n.createElement(l.n,{addlStyle:"main-panel"});var O=(E+1)/h.length*100;return n.createElement(n.Fragment,null,n.createElement(u.Z,{key:0,question:S.question,isCorrect:function(e){return e.compare===S.answer.compare},choices:S.choices,qRomaji:s,aRomaji:d,gotoPrev:function(){var e=h.length,t=E-1;j(t<0?(e+t)%e:t%e)},gotoNext:function(){var e=h.length;j((E+1)%e)}}),n.createElement("div",{key:1,className:"progress-line flex-shrink-1"},n.createElement(i.Z,{variant:"determinate",value:O})))}},3494:(e,t,r)=>{r.r(t),r.d(t,{ParticlesGameMeta:()=>b,default:()=>w});var n=r(7294),o=r(6706),i=r(9041),a=r(7),c=r(7178),l=r(3058),u=r(1741),s=r(9897),f=r(118),p=r(1513);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b={location:"/particles/",label:"Particles Game"};const w=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.particle})).particleGame,r=t.phrases,v=t.particles;(0,n.useMemo)((function(){0===r.length&&e((0,f.aq)())}),[]);var d,h,b=(0,n.useRef)([]),w=(d=(0,n.useState)(0),h=2,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(d,h)||y(d,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=w[0],j=w[1],S=(0,o.v9)((function(e){return e.particle.setting})).aRomaji,O=function(e,t,r){if(0!==t.length&&0!==r.length){0===b.current.length&&(b.current=(0,l.tq)(t));var n=t[b.current[e]],o=n.answer,i=n.question,u=n.english,s=n.literal,f=m(m({},o),{},{toHTML:function(){return o.html}});r=r.map((function(e){return m(m({},e),{},{toHTML:function(){return e.html}})}));var v=function(e,t){for(var r=[e],n=function(){var e=Math.floor(Math.random()*t.length),n=t[e];r.every((function(e){return e.japanese!==n.japanese}))&&(r=[].concat(function(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r),[n]))};r.length<4;)n();return(0,a.Sy)(r),r}(f,r);return{question:{english:u,toHTML:function(e){return function(e,t,r){var n=t.start,o=t.end,i=r?"correct-color":"transparent-font underline";return(0,c.tn)(null==e?void 0:e.parseObj,{hidden:i},n,o)}(p.TZ.parse(i),f,e)}},answer:f,choices:v,literal:s}}}(E,r,v);if(void 0===O)return n.createElement(u.n,{addlStyle:"main-panel"});var k=(E+1)/r.length*100;return n.createElement(n.Fragment,null,n.createElement(s.Z,{key:0,question:O.question,isCorrect:function(e){return e.japanese===O.answer.japanese},hint:O.literal,choices:O.choices,aRomaji:S,gotoPrev:function(){var e=r.length,t=E-1;j(t<0?(e+t)%e:t%e)},gotoNext:function(){var e=r.length;j((E+1)%e)}}),n.createElement("div",{key:1,className:"progress-line flex-shrink-1"},n.createElement(i.Z,{variant:"determinate",value:k})))}},7075:(e,t,r)=>{r.r(t),r.d(t,{KanaGameMeta:()=>x,default:()=>P});var n=r(5529),o=r(4184),i=r.n(o),a=r(7294),c=r(1410),l=r(2613),u=r(2022),s=r(7),f=r(6706);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){return e===u.kS.MIXED?Math.floor(2*Math.random()):e}var E=r(1741),j=r(3653),S=r(1816);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x={location:"/kana/",label:["平仮名 Game","片仮名 Game","仮名 Game"]};function P(){var e=function(){var e=(0,f.v9)((function(e){return{global:e.global,kana:e.kana}})),t=e.global,r=e.kana,n=t.debug,o=r.hiragana,i=r.katakana,a=r.vowels,c=r.consonants,l=r.sounds,u=r.setting,s=u.wideMode,p=u.easyMode,v=u.charSet;return{debug:n,hiragana:o,katakana:i,vowels:a,consonants:c,sounds:l,choiceN:s?31:r.setting.choiceN,wideMode:s,easyMode:p,charSet:v}}(),t=e.hiragana,r=e.katakana,o=e.vowels,p=e.consonants,v=e.sounds,m=e.choiceN,g=e.wideMode,b=e.easyMode,k=e.charSet,x=(0,a.useRef)(o),P=(0,a.useRef)(p),A=(0,a.useRef)(v),T=(0,a.useRef)(t),N=(0,a.useRef)(r),L=O((0,a.useState)(0),2),C=L[0],I=L[1],M=O((0,a.useState)([]),2),D=M[0],R=M[1],F=O((0,a.useState)(!1),2),_=F[0],G=F[1],q=function(e){var t=e.charSet,r=e.choiceN,n=e.wideMode,o=e.vowelsR,i=e.consonantsR,c=e.soundsR,l=e.hiraganaR,f=e.katakanaR,p=e.practiceSide,v=e.reinforce,d=e.selectedIndex,m=h((0,a.useState)("undefined"),2),g=m[0],b=m[1],E=h((0,a.useState)({val:"",hint:"",cSet:u.kS.HIRAGANA}),2),j=E[0],S=E[1],O=h((0,a.useState)([]),2),k=O[0],x=O[1],P=h((0,a.useState)([]),2),A=P[0],T=P[1],N=h((0,a.useState)([]),2),L=N[0],C=N[1],I=h((0,a.useState)(!1),2),M=I[0],D=I[1],R=(0,a.useCallback)((function(){var e,a,m,h=l.current,g=f.current;e=A.length>0?A:function(e){for(var t=[],r=e[0].length,n=e.length,o=0;o<r;o++)for(var i=0;i<n;i++)1==o&&12==i||3==o&&12==i||2==o&&14==i||0!==o&&15==i||(t=[].concat(y(t),[{vowel:o,consonant:i}]));return(0,s.Sy)(t),t}(h);var E,j,O,k,P=Math.random()<1/3,N=(E={vowels:o.current,consonants:i.current,sounds:c.current},j=E.vowels,O=E.consonants,k=E.sounds,function(e,t){var r=O[e]+j[t];return k[r]||r}),L=function(e){var t=e.hiragana,r=e.katakana;return function(e,n,o){return o===u.kS.HIRAGANA?t[e][n]:r[e][n]}}({hiragana:h,katakana:g});if(P&&v.length>0){var I=v[v.length-1];if(p===I.practiceSide)m=I;else{var M=I.val;m={val:I.hint,hint:M,cSet:I.cSet}}}else{var R=e[d],F=R.consonant,_=R.vowel,G=w(t),q=N(F,_),V=L(F,_,G);m=p?{val:V,hint:q,cSet:G}:{val:q,hint:V,cSet:G}}a=m.hint;var W=function(e,t,r){for(var n=e.getPronunciation,o=e.getKanaCharacter,i=e.charSet,a=e.choiceN,c=[t],l=e.practiceSide,u=function(){var e,t=r.length,a=Math.floor(Math.random()*(t-0)+0),u=w(i),s=n(r[a].consonant,r[a].vowel),f=o(r[a].consonant,r[a].vowel,u);e=l?{val:f,hint:s,cSet:u}:{val:s,hint:f,cSet:u},(l&&!c.some((function(t){return t.hint===e.hint}))||!l&&!c.some((function(t){return t.val===e.val})))&&(c=[].concat(y(c),[e]))};c.length<a;)u();return(0,s.Sy)(c),c}({getPronunciation:N,getKanaCharacter:L,charSet:t,choiceN:r,practiceSide:p},m,e);n&&(W=[].concat(y(W),[{val:a,hint:a,cSet:m.cSet,q:!0}])),b(a),S(m),x(W),T(e),C([]),D(!1)}),[t,r,A,n,i,o,c,l,f,p,v,d]);return{prepareGame:R,setWrongs:C,setCorrect:D,answer:j,correct:M,wrongs:L,question:g,choices:k,gameOrder:A}}({charSet:k,choiceN:m,wideMode:g,practiceSide:_,reinforce:D,selectedIndex:C,vowelsR:x,consonantsR:P,soundsR:A,hiraganaR:T,katakanaR:N}),V=q.prepareGame,W=q.setWrongs,U=q.setCorrect,Z=q.answer,z=q.correct,K=q.question,H=q.wrongs,J=q.choices,B=q.gameOrder,Y=(0,a.useCallback)((function(){var e=B.length;I((C+1)%e),W([]),U(!1)}),[U,W,B,C]),Q=(0,a.useCallback)((function(){var e=B.length,t=C-1;I(t<0?(e+t)%e:t%e),W([]),U(!1)}),[U,W,B,C]),$=function(e){var t=e.setCorrect,r=e.setWrongs,n=e.setReinforce,o=e.gotoNext,i=e.answer,c=e.choices,l=e.wrongs,u=e.reinforce,s=e.practiceSide;return{checkAnswer:(0,a.useCallback)((function(e){if(e.val===(null==i?void 0:i.val))t(!0),setTimeout(o,500);else{var a=c.findIndex((function(t){return t.val===e.val}));r([].concat(y(l),[a])),n([].concat(y(u),[d(d({},e),{},{practiceSide:s})]))}}),[t,n,r,o,i,c,l,u,s])}}({setCorrect:U,setWrongs:W,setReinforce:R,gotoNext:Y,practiceSide:_,answer:Z,choices:J,wrongs:H,reinforce:D}),X=function(e){var t=e.checkAnswer,r=e.wideMode,n=e.easyMode,o=e.charSet,l=e.practiceSide,s=e.wrongs,f=e.choices,p=e.answer,v=e.correct,d=e.choiceN;return{choiceButton:(0,a.useCallback)((function(e){var m,h=s.includes(e),y=f[e].val===p.val&&v,g=i()({clickable:!f[e].q,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":y||r&&f[e].q&&v,"incorrect-color":h,"question-color":r&&f[e].q&&!v}),b=i()({"mb-0":r}),w="d-flex justify-content-around",E=i()({"mb-0":!0,invisible:!h}),j=r?3/4:1,S=Math.trunc(1/Math.ceil(Math.sqrt(d))*j*100)+"%",O=!l;return m=!n||n&&!O?n&&!O&&!0!==f[e].q&&o===u.kS.MIXED?a.createElement("div",{className:w},a.createElement("h6",{className:E},f[e].hint),a.createElement("h6",{className:E},(0,c.Vj)(f[e].val))):!0!==f[e].q?a.createElement("div",{className:w},a.createElement("h6",{className:E},f[e].cSet===p.cSet?f[e].hint:(0,c.Vj)(f[e].hint))):a.createElement("div",{className:w},a.createElement("h6",{className:"mb-0 invisible"},(0,c.Vj)(f[e].val))):!0!==f[e].q?a.createElement("div",{className:w},a.createElement("h6",{className:E},f[e].cSet===u.kS.HIRAGANA?f[e].hint:(0,c.Vj)(f[e].hint)),a.createElement("h6",{className:E},f[e].cSet===u.kS.HIRAGANA?(0,c.Vj)(f[e].hint):f[e].hint)):a.createElement("div",{className:w},a.createElement("h6",{className:"mb-0"},(0,c.Vj)(f[e].val))),a.createElement("div",{key:e,onClick:function(){f[e].q||t(f[e])},className:g,style:{width:S}},a.createElement("h2",{className:b},f[e].val),m)}),[t,r,n,o,l,s,f,p,v,d])}}({checkAnswer:$.checkAnswer,wideMode:g,easyMode:b,charSet:k,practiceSide:_,choiceN:m,wrongs:H,choices:J,answer:Z,correct:z}),ee=X.choiceButton;if((0,a.useEffect)((function(){T.current.length>0&&V()}),[C,_,m]),!K)return a.createElement(E.n,{addlStyle:"kana"});var te=i()({"kana main-panel h-100":!0}),re=i()({"choices-row d-flex justify-content-around":!0,"w-50":!g,"w-100":g});return[a.createElement("div",{key:0,className:te},a.createElement("div",{className:"d-flex justify-content-between h-100"},a.createElement(S.Z,{ariaLabel:"Previous",action:Q},a.createElement(n.wyc,{size:16})),!g&&a.createElement("div",{className:i()({"pt-3 d-flex flex-column justify-content-center text-center w-50":!0,"correct-color":z})},a.createElement("h1",{className:"clickable"},K),b&&!_&&a.createElement("div",{className:"d-flex justify-content-around"},a.createElement("h6",null,(0,c.Vj)(K)))),a.createElement("div",{className:re},a.createElement("div",{className:"choices-column w-100 d-flex flex-wrap "},J.map((function(e,t){return ee(t)})))),a.createElement(S.Z,{ariaLabel:"Next",action:Y},a.createElement(n.XCv,{size:16})))),a.createElement("div",{key:1,className:"options-bar mb-2 flex-shrink-1"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(j.uY,{toggle:_,action:(0,l.kP)(G,(function(e){return!e}))})),a.createElement("div",{className:"col"}),a.createElement("div",{className:"col"})))]}},7584:(e,t,r)=>{r.r(t),r.d(t,{KanjiMeta:()=>M,default:()=>D});var n=r(9041),o=r(5529),i=r(4184),a=r.n(i),c=r(5472),l=r.n(c),u=r(7294),s=r(6706),f=r(1513),p=r(1243),v=r(7),d=r(3058),m=r(2613),h=r(5412),y=r(2022),g=r(7679),b=r(1741),w=r(3653),E=r(1816),j=r(1946);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){return function(e){if(Array.isArray(e))return C(e)}(e)||A(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e,t){return I(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||L(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){if(Array.isArray(e))return e}var M={location:"/kanji/",label:"Kanji"};function D(){var e,t,r,i=(0,s.I0)(),c=(0,u.useCallback)((function(e){return i((0,h.Mh)(e))}),[i]),S=(0,u.useCallback)((function(e){return i((0,h.SI)(e))}),[i]),O=function(){var e=(0,s.v9)((function(e){return{global:e.global,kanji:e.kanji,vocabulary:e.vocabulary}})),t=e.global,r=e.kanji,n=e.vocabulary,o=t.swipeThreshold,i=r.setting,a=i.filter,c=i.reinforce,l=i.activeTags,u=i.repetition,f=i.frequency;return{swipeThreshold:o,kanji:r.value,vocabulary:n.value,filterType:a,reinforce:c,activeTags:l,repetition:u,frequency:f}}(),x=O.swipeThreshold,C=O.kanji,M=O.vocabulary,D=O.filterType,R=O.reinforce,F=O.activeTags,_=O.repetition,G=O.frequency,q=(0,u.useRef)(C);C.length!==q.current.length&&(q.current=C);var V=(0,u.useRef)(M);M.length!==V.current.length&&(V.current=M);var W=T((0,u.useState)(0),2),U=W[0],Z=W[1],z=T((0,u.useState)(void 0),2),K=z[0],H=z[1],J=T((0,u.useState)([]),2),B=J[0],Y=J[1],Q=T((0,u.useState)([]),2),$=Q[0],X=Q[1],ee=T((0,u.useState)(!1),2),te=ee[0],re=ee[1],ne=T((0,u.useState)(!1),2),oe=ne[0],ie=ne[1],ae=T((0,u.useState)(!1),2),ce=ae[0],le=ae[1],ue=T((0,u.useState)(!1),2),se=ue[0],fe=ue[1],pe=T((0,u.useState)([]),2),ve=pe[0],de=pe[1],me=T((0,u.useState)([]),2),he=me[0],ye=me[1],ge=T((0,u.useState)({}),2),be=ge[0],we=ge[1],Ee=(0,u.useCallback)((function(){var e=Object.keys(_).reduce((function(e,t){return!0===_[t].rein&&(e=[].concat(P(e),[t])),e}),[]),t=(0,d.Dm)(D,q.current,e,D===y.Lx.TAGS?F:[],(function(){return i((0,h.cy)(y.Lx.TAGS))})),r=(0,d.tq)(t);Y(t),X(e),de(r)}),[i,D,F,_]),je=(0,u.useCallback)((function(){var e=B.length;Z((U+1)%e),H(void 0),re(!1),ie(!1),le(!1),fe(!1)}),[B,U]),Se=(0,u.useCallback)((function(){var e=B;if(R&&D===y.Lx.TAGS){var t=Object.keys(_).reduce((function(e,t){return!0===_[t].rein&&(e=[].concat(P(e),[t])),e}),[]),r=q.current.filter((function(e){return t.includes(e.uid)}));e=[].concat(P(B),P(r))}(0,d.hY)(R,D,$,e,K,H,je,S)}),[je,S,D,B,$,R,K,_]),Oe=(0,u.useCallback)((function(){var e=B.length,t=U-1;Z(t<0?(e+t)%e:t%e),H(void 0),re(!1),ie(!1),le(!1),fe(!1)}),[B,U]),ke=(0,u.useCallback)((function(e){"left"===e?Se():"right"===e&&Oe()}),[Se,Oe]),xe=(0,u.useCallback)((function(e){var t=(0,p.IY)(e,{verticalSwiping:!0,touchThreshold:x});we(t)}),[x]),Pe=(0,u.useCallback)((function(e){if(be){var t=(0,p.Si)(e,be);we(t)}}),[be]),Ae=(0,u.useCallback)((function(e){be&&(0,p.Kd)(e,k(k({},be),{},{onSwipe:ke}))}),[be,ke]);(0,u.useEffect)((function(){0===q.current.length&&i((0,h.tk)()),0===V.current.length&&i((0,g.Rz)())}),[]),(0,u.useEffect)((function(){q.current.length>0&&0===ve.length&&Ee()}),[Ee,ve,q.current.length]),(0,u.useEffect)((function(){if(D===y.Lx.FREQUENCY&&0===G.count)Ee();else{var e=B.map((function(e){return e.uid})).reduce((function(e,t){var r;return!0===(null===(r=_[t])||void 0===r?void 0:r.rein)&&(e=[].concat(P(e),[t])),e}),[]);X(e)}}),[Ee,D,B,G,_]),(0,u.useEffect)((function(){if(ve.length>0){var e=K||(0,d.vr)(U,ve,B),t=(0,d.cc)(e,q.current),r=V.current.filter((function(e){return f.TZ.parse(e).getSpelling().includes(t.kanji)&&e.english.toLowerCase()===t.english.toLowerCase()||f.TZ.parse(e).getSpelling().includes(t.kanji)&&e.english.toLowerCase().includes(t.english.toLowerCase())&&"Verb"===e.grp||f.TZ.parse(e).getSpelling()===t.kanji&&(e.english.toLowerCase().includes(t.english.toLowerCase())||t.english.toLowerCase().includes(e.english.toLowerCase()))})),n=[];if(r.length>0){var o=I(c=l()(r,(function(e){return e.english.length})))||A(c)||L(c)||N(),i=o[0],a=o.slice(1);n=[i].concat(P((0,v.Sy)(a)))}ye(n)}var c}),[U,K,ve,B,$]);var Te=(0,u.useMemo)((function(){if(K||ve.length>0&&B.length>0)return K||(0,d.vr)(U,ve,B)}),[K,U,ve,B]),Ne=(0,u.useMemo)((function(){if(Te&&q.current.length>0)return(0,d.cc)(Te,q.current)}),[Te]);if(B.length<1)return u.createElement(b.n,{addlStyle:"main-panel"});var Le=(null===(e=Ne.tag.find((function(e){return F.includes(e)&&(0,j.F)(e)})))||void 0===e?void 0:e.replace("_"," "))||(null===(t=Ne.tag.find((function(e){return(0,j.F)(e)})))||void 0===t?void 0:t.replace("_"," "))||"",Ce=!0===(null===(r=_[Ne.uid])||void 0===r?void 0:r.rein),Ie=he.slice(0,3).map((function(e,t,r){return u.createElement(u.Fragment,{key:t},e.english+" ",f.TZ.parse(e).toHTML(),t<r.length-1?"; ":"",u.createElement("wbr",null))})),Me=u.createElement("span",null,Ne.english),De=(U+1)/B.length*100;return[u.createElement("div",{key:0,className:"kanji main-panel h-100"},u.createElement("div",{className:"d-flex justify-content-between h-100",onTouchStart:x>0?xe:void 0,onTouchMove:x>0?Pe:void 0,onTouchEnd:x>0?Ae:void 0},u.createElement(E.Z,{ariaLabel:"Previous",action:Oe},u.createElement(o.wyc,{size:16})),u.createElement("div",{className:"grp-info"},u.createElement("div",null,u.createElement("div",null,Ne.grp),u.createElement("div",null,Le))),u.createElement("div",{className:"text-center"},u.createElement("h1",{className:"pt-0"},u.createElement("span",null,Ne.kanji)),Ne.on&&u.createElement("h4",{className:"pt-0",onClick:(0,m.kP)(re,(function(e){return!e}))},u.createElement("span",null,te?Ne.on:"[On]"))||u.createElement("h4",{className:"pt-0"},"."),Ne.kun&&u.createElement("h4",{className:"pt-2",onClick:(0,m.kP)(ie,(function(e){return!e}))},u.createElement("span",null,oe?Ne.kun:"[Kun]"))||u.createElement("h4",{className:"pt-2 mb-0"},"."),u.createElement("div",{className:"d-flex flex-column"},u.createElement("span",{className:a()({"example-blk align-self-center clickable h6 pt-2":!0,"disabled-color":0===Ie.length}),onClick:(0,m.kP)(le,(function(e){return!e}))},u.createElement("span",{className:"text-nowrap"},ce&&Ie.length>0?Ie:"[Examples]")),u.createElement("h4",{className:"align-self-center pt-2 clickable",onClick:(0,m.kP)(fe,(function(e){return!e}))},se?Me:u.createElement("span",null,"[Meaning]")))),u.createElement("div",{className:"right-info"}),u.createElement(E.Z,{ariaLabel:"Next",action:Se},u.createElement(o.XCv,{size:16})))),u.createElement("div",{key:1,className:"options-bar mb-3 flex-shrink-1"},u.createElement("div",{className:"row opts-max-h"},u.createElement("div",{className:"col"},u.createElement("div",{className:"d-flex justify-content-start"})),u.createElement("div",{className:"col text-center"},u.createElement(w.Qp,{visible:void 0!==K&&""!==K})),u.createElement("div",{className:"col"},u.createElement("div",{className:"d-flex justify-content-end"},u.createElement(w.R_,{addFrequencyTerm:c,removeFrequencyTerm:S,toggle:Ce,term:Ne,count:$.length}))))),u.createElement("div",{key:2,className:"progress-line flex-shrink-1"},u.createElement(n.Z,{variant:"determinate",value:De,color:Ce?"secondary":"primary"}))]}},9797:(e,t,r)=>{r.r(t),r.d(t,{PhrasesMeta:()=>q,buildAbortLoop:()=>H,default:()=>V});var n=r(9041),o=r(5529),i=r(7294),a=r(6706),c=r(7508),l=r(1513),u=r(8090),s=r(8602),f=r(3058),p=r(7672),v=r(2613),d=r(1243),m=r(8816);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=r(7835),j=r(5956),S=r(2022),O=r(6456),k=r(9886),x=r(5231),P=r(7588),A=r(1741),T=r(3653),N=r(3307),L=r(1816);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q={location:"/phrases/",label:"Phrases"};function V(){var e,t,r=(0,a.I0)(),h=(0,i.useRef)(),g=(0,i.useRef)(void 0),w=(0,i.useRef)(0),C=F((0,i.useState)(void 0),2),M=C[0],_=C[1],G=F((0,i.useState)([]),2),q=G[0],V=G[1],J=F((0,i.useState)(-1),2),B=J[0],Y=(J[1],F((0,i.useState)(Date.now()),2)),Q=Y[0],$=Y[1],X=(0,i.useRef)((function(){return Date.now()})),ee=F((0,i.useState)(0),2),te=ee[0],re=ee[1],ne=F((0,i.useState)(null),2),oe=ne[0],ie=ne[1],ae=F((0,i.useState)(null),2),ce=ae[0],le=ae[1],ue=F((0,i.useState)(null),2),se=ue[0],fe=ue[1],pe=F((0,i.useState)([]),2),ve=pe[0],de=pe[1],me=F((0,i.useState)(!1),2),he=me[0],ye=me[1],ge=F((0,i.useState)(0),2),be=ge[0],we=ge[1],Ee=F((0,i.useState)(null),2),je=Ee[0],Se=Ee[1],Oe=(0,i.useRef)({}),ke=function(){var e=(0,a.v9)((function(e){return{global:e.global,phrases:e.phrases}})),t=e.global,r=e.phrases,n=t.swipeThreshold,o=r.setting,i=o.filter,c=o.reinforce,l=o.frequency,u=o.romaji,s=o.ordered;return{swipeThreshold:n,practiceSide:o.practiceSide,termsOrder:s,romajiActive:u,filterType:i,frequency:l,reinforce:c}}(),xe=ke.swipeThreshold,Pe=ke.practiceSide,Ae=ke.termsOrder,Te=ke.romajiActive,Ne=ke.filterType,Le=ke.reinforce,Ce=(0,a.v9)((function(e){return{phrases:e.phrases}})).phrases,Ie=(0,i.useMemo)((function(){return Ce.value}),[Ce.version]),Me=(0,i.useRef)({}),De=(0,i.useMemo)((function(){return Ce.setting.repetition}),[Ce.setting.repTID]);!Object.keys(Me.current).length&&Object.keys(Ce.setting.repetition).length&&(Me.current=De);var Re=(0,i.useMemo)((function(){return Ce.setting.activeGroup}),[Ce.setting.activeGroup]);(0,i.useEffect)((function(){return 0===Ie.length&&r((0,j.cC)()),function(){H(h)()}}),[]),(0,i.useEffect)((function(){var e={selectedIndex:w.current,reinforcedUID:g.current,lastNext:X.current};if(M!==e.reinforcedUID||te!==e.selectedIndex){var t=e.reinforcedUID||(0,f.vr)(e.selectedIndex,_e,Fe);if(be>0&&void 0===h.current&&Ze(),(0,f.Zc)(e.lastNext)){var n=(0,f.cc)(t,Ie),o=t!==e.reinforcedUID;r((0,j.s5)({uid:t,shouldIncrement:o})).then((function(o){var i=o.payload,a=i.map,c=i.prevMap,l=c[t]&&c[t].d,u=R({},t,D(D({},a[t]),{},{d:l}));(0,s.Ps)((function(e,t){return r((0,E.kg)(e,t))}),n,u,{frequency:void 0!==e.reinforcedUID})}))}ie(null),le(null),fe(null),V([])}}),[r,Ze,M,te,Ie,_e,Fe,be]);var Fe=(0,i.useMemo)((function(){var e=Me.current;if(0===Ie.length)return[];if(0===Object.keys(e).length)return Ie;var t=Object.keys(e).reduce((function(t,r){return!0===e[r].rein&&(t=[].concat(I(t),[r])),t}),[]),n=(0,f.Dm)(Ne,Ie,t,Re,(0,v.cM)(r,j.f6)),o=n.map((function(e){return e.uid})).reduce((function(t,r){var n;return!0===(null===(n=e[r])||void 0===n?void 0:n.rein)&&(t=[].concat(I(t),[r])),t}),[]);return de(o),n}),[r,Ie,Ne,Re]);(0,i.useEffect)((function(){r((0,E.kg)((0,f.w_)(Ae,["Random","Alphhabetic","View Date"]),S.x6.DEBUG))}),[r,Ae]);var _e=(0,i.useMemo)((function(){var e,t=Me.current;if(0===Fe.length)return[];switch(Ae){case S.vl.RANDOM:e=(0,f.tq)(Fe);break;case S.vl.VIEW_DATE:e=(0,f.EL)(Fe,t);break;default:e=(0,f.fx)(Fe).order}return e}),[Fe,Ae]),Ge=(0,i.useCallback)((function(){var e=Fe.length,t=(te+1)%e;t===B&&(t=(e+t+1)%e),X.current=Q,$(Date.now()),w.current=te,re(t),_(void 0)}),[Fe,te,Q,B]),qe=(0,i.useCallback)((function(){(0,f.hY)(Le,Ne,ve,Fe,M,(function(e){g.current=M,_(e)}),Ge,(0,v.cM)(r,j.gP))}),[r,Le,Ne,ve,Fe,M,Ge]),Ve=(0,i.useCallback)((function(){var e,t=Fe.length;(e=M?te:(t+(te-1))%t)===B&&(e=(t+e-1)%t),X.current=Q,$(Date.now()),w.current=te,re(e),_(void 0)}),[Fe,te,M,Q,B]),We=function(e,t,r,n,o,i,a,s){return function(v,d){var m;if("left"===v)e(),m=Promise.all([Promise.resolve()]);else if("right"===v)t(),m=Promise.all([Promise.resolve()]);else{var h=r||(0,f.vr)(n,i,a),y=(0,f.cc)(h,o),g=s?"/override_cache":"";if("up"===v){var b=(0,l._I)(y),w=(0,p.b1)(c.vT+g,{tl:"ja",q:b,uid:h});m=(0,u.R$)(w,d)}else if("down"===v){var E=y.english,j=(0,p.b1)(c.vT+g,{tl:"en",q:E,uid:y.uid+".en"});m=(0,u.R$)(j,d)}}return m||Promise.reject()}}(qe,Ve,M,te,Ie,_e,Fe,he),Ue=function(e,t){return function(r,n){var o;return e>0&&(o=t(r,n)),o||Promise.reject("loop disabled")}}(be,We),Ze=function(e,t,r,n){return function(){H(t)();var o=new AbortController,i=new AbortController,a=new AbortController,c=new AbortController,l=new AbortController;t.current=[o,i,a,c,l];var u=function(e,t){n((function(r){return null===r||100-r<1?e/t*100:r+e/t*100}))};(0,f.wO)(700,o).then((function(){return(e=i,r("down",e)).catch((function(e){var t;if("UserAborted"===(null===(t=e.cause)||void 0===t?void 0:t.code))throw e}));var e})).then((function(){return(0,f.wO)(3e3,a,u)})).then((function(){return n(null),(o=c,(0,f.nD)(e,(function(){return r("up",o)}),1500,o)).then((function(){return t.current=void 0,r("left")})).catch((function(e){var n;if("UserAborted"!==(null===(n=e.cause)||void 0===n?void 0:n.code))return t.current=void 0,r("left")}));var o})).then((function(){return(0,f.wO)(100,l)})).catch((function(){}))}}(be,h,Ue,Se),ze=H(h);(function(e,t,r){(0,i.useEffect)((function(){var n=function(e,t,r){return function(n){for(var o=0,i=[["ArrowRight",function(){return e("left")}],["ArrowLeft",function(){return e("right")}],["ArrowUp",function(){return e("up")}],["ArrowDown",function(){return e("down")}],["MediaPlayPause",function(){}],[" ",t]];o<i.length;o++){var a=(s=2,function(e){if(Array.isArray(e))return e}(u=i[o])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(u,s)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];if(c===n.key){" "!==c&&(r()||(0,m.gI)("paused")),l();break}}var u,s}}(e,t,r);return document.addEventListener("keydown",n,!0),function(){document.removeEventListener("keydown",n,!0)}}),[e,t,r])})(We,(0,v.cM)(r,j.d1),ze),function(e,t,r,n,o){(0,i.useEffect)((function(){(0,m.$T)(e),(0,m.gI)("paused");var i=[["play",function(){t&&(r(),(0,m.gI)("playing"))}],["pause",function(){t&&(n(),(0,m.gI)("paused"))}],["stop",function(){t&&(n(),(0,m.gI)("paused"))}],["previoustrack",function(){t&&(n(),o("right"))}],["nexttrack",function(){t&&(n(),o("left"))}]];return(0,m.aw)(i),function(){(0,m.CU)()}}),[e,t,r,n,o])}("Phrases Loop",be,Ze,ze,Ue);var Ke=function(e,t,r,n,o,a){var c=(0,i.useRef)(null);return(0,i.useEffect)((function(){var i,l=function(e,t){return function(r){t.current=(0,d.IY)(r,{verticalSwiping:!0,touchThreshold:e})}}(e,t),u=(i=t,function(e){i.current&&(i.current=(0,d.Si)(e,i.current))}),s=function(e,t,r,n,o,i){return function(a){var c=n.current;if(e&&r.current){var l,u=a.target,s=Array.from(document.getElementsByClassName("loop-stop-btn")).some((function(e){return e.contains(u)})),f=Array.from(document.getElementsByClassName("loop-no-interrupt")).some((function(e){return e.contains(u)})),p=void 0===(null==c||null===(l=c.touchObject)||void 0===l?void 0:l.swipeLength)||c.touchObject.swipeLength<c.touchThreshold;if(s)return void t(0);if(f&&p)return;H(r)()||(0,m.gI)("paused")}o(a,b(b({},c),{},{onSwipe:i}))}}(r,n,o,t,d.Kd,a);c.current&&(c.current.addEventListener("touchstart",l),c.current.addEventListener("touchmove",u),c.current.addEventListener("touchend",s));var f=c.current;return function(){null==f||f.removeEventListener("touchstart",l),null==f||f.removeEventListener("touchmove",u),null==f||f.removeEventListener("touchend",s)}}),[e,t,r,n,o,a]),{swipeRef:c}}(xe,Oe,be,we,h,We).swipeRef;if(q.length>0){var He=(0,s.zV)(this.state),Je=(0,s.zV)(this.props),Be=[].concat(I(q),[{msg:"props:",lvl:S.x6.WARN,css:"px-2"},{msg:Je,lvl:S.x6.WARN,css:"px-4"},{msg:"state:",lvl:S.x6.WARN,css:"px-2"},{msg:He,lvl:S.x6.WARN,css:"px-4"}]);return i.createElement(P.R,{next:Ge,prev:Ve},i.createElement("div",{className:"d-flex flex-column justify-content-around"},i.createElement(x.Z,{messages:Be})))}if(Fe.length<1||_e.length<1)return i.createElement(A.n,{addlStyle:"main-panel"});var Ye=function(e,t,r,n){return e||(0,f.vr)(t,r,n)}(M,te,_e,Fe),Qe=function(e,t){return(0,f.cc)(e,t)}(Ye,Ie),$e=function(e,t){return function(e,t){return e?{tl:"en",q:t.english,uid:t.uid+".en"}:{tl:"ja",q:(0,l._I)(t),uid:(0,f.gW)(t)}}(e,t)}(Pe,Qe),Xe=function(e,t,r,n){return i.createElement(O.Z,{visible:0===e&&0===n,word:t,reCache:r})}(xe,$e,he,be),et=function(e){var t=l.TZ.parse(e);return[t,t.toHTML()]}(Qe),tt=F(et,2),rt=tt[0],nt=tt[1],ot=function(e,t,r,n,o){return e>0&&void 0===r?i.createElement(k.Qp,{onClick:n}):e>0&&void 0!==r?i.createElement(k.Vv,{onClick:function(){o(),t(0)}}):void 0}(be,we,h.current,Ze,ze),it=function(e,t,r){return i.createElement("span",{onClick:e.lit?function(){r((function(t){return t?null:e.uid}))}:void 0},t?e.lit:e.english)}(Qe,se,fe),at=function(e,t,r,n,o){return(0,f.JS)(e,t,r,n,o)}(Pe,it,nt,Z,z),ct=at.topValue,lt=at.bottomValue,ut=at.bottomLabel,st=Qe&&((null===(e=Qe.lit)||void 0===e?void 0:e.length)||Qe.english.length)<55,ft=rt&&rt.getSpelling().length<55,pt=function(e,t,r){return D({},R({},e?r?"h1":"h3":t?"h1":"h3",!0))}(Pe,ft,st),vt=function(e,t,r){return D({},R({},e?t?"h1":"h3":r?"h1":"h3",!0))}(Pe,ft,st),dt=!0===(null===(t=De[Qe.uid])||void 0===t?void 0:t.rein),mt=Qe.romaji,ht=(te+1)/Fe.length*100;return i.createElement(i.Fragment,null,i.createElement("div",{key:0,className:"phrases main-panel h-100"},i.createElement("div",{ref:Ke,className:"d-flex justify-content-between h-100"},i.createElement(L.Z,{ariaLabel:"Previous",action:Ve},i.createElement(o.wyc,{size:16})),i.createElement("div",{className:"pt-3 d-flex flex-column justify-content-around text-center"},i.createElement(N.Z,{breakPoint:"md",largeClassName:W,smallClassName:pt},ct),Te&&mt&&i.createElement("h5",null,i.createElement("span",{onClick:(0,v.kP)(le,(function(e){return e?null:Ye})),className:"clickable loop-no-interrupt"},ce===Ye?mt:"[Romaji]")),i.createElement(N.Z,{className:U,breakPoint:"md",onClick:(0,v.kP)(ie,(function(e){return e?null:Ye})),largeClassName:W,smallClassName:vt},oe===Ye?lt:ut),i.createElement("div",{className:"d-flex justify-content-center"},Xe)),i.createElement(L.Z,{ariaLabel:"Next",action:qe},i.createElement(o.XCv,{size:16})))),i.createElement("div",{key:1,className:"options-bar mb-3 flex-shrink-1"},i.createElement("div",{className:"row opts-max-h"},i.createElement("div",{className:"col"},i.createElement("div",{className:"d-flex justify-content-start"},i.createElement(T.uY,{toggle:Pe,action:(0,v.cM)(r,j.d1)}),i.createElement(T.Ro,{active:he,action:K(he,ye)}),i.createElement("div",{className:"sm-icon-grp"},i.createElement(k.e2,{active:be>0,loop:be,onClick:function(){ze(),we((function(e){return e<3?e+1:0}))}})),i.createElement("div",{className:"sm-icon-grp"},ot))),i.createElement("div",{className:"col text-center"},i.createElement(T.Qp,{visible:void 0!==M&&""!==M})),i.createElement("div",{className:"col"},i.createElement("div",{className:"d-flex justify-content-end"},i.createElement(T.D4,{visible:Pe&&void 0!==Qe.lit&&""!==Qe.lit,toggle:se===Ye,action:(0,v.kP)(fe,(function(e){return e?null:Ye}))}),i.createElement(T.R_,{addFrequencyTerm:function(e){de((function(t){return[].concat(I(t),[e])})),(0,v.cM)(r,j.Lp)(e)},removeFrequencyTerm:function(e){de((function(t){return t.filter((function(t){return t!==e}))})),(0,v.cM)(r,j.gP)(e)},toggle:dt,term:Qe,count:ve.length}))))),i.createElement("div",{key:2,className:"progress-line flex-shrink-1"},i.createElement(n.Z,{variant:null===je?"determinate":"buffer",value:null===je?ht:0,valueBuffer:null!=je?je:void 0,color:dt?"secondary":"primary"})))}var W={"fs-display-5":!0},U={"loop-no-interrupt":!0},Z=i.createElement("span",null,"[English]"),z=i.createElement("span",null,"[Japanese]");function K(e,t){return function(){!1===e&&(t(!0),setTimeout((function(){t(!1)}),2e3))}}function H(e){return function(){var t=!1;return Array.isArray(e.current)&&(t=!0,e.current.forEach((function(e){e.abort()})),e.current=void 0),t}}},1946:(e,t,r)=>{r.d(t,{E:()=>h,F:()=>m});var n=r(5472),o=r.n(n),i=r(3174),a=r.n(i),c=r(5697),l=r.n(c),u=r(7294),s=r(6892);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){return e.includes("_")&&Number.isInteger(parseInt(e.split("_")[1],10))}function h(e){var t=e.termsActive,r=e.termsTags,n=e.toggleTermActive,i=e.selectedCount;(0,u.useEffect)((function(){t.forEach((function(e){r.includes(e)||n(e)}))}),[t,r,n]);var c=p(a()(r,(function(e){return m(e)})),2),l=c[0],v=c[1],d=Object.values(l.reduce((function(e,t){var r=t.split("_")[0];return e[r]?e[r]=[].concat(f(e[r]),[t]):e[r]=[t],e}),{})),h=[].concat(f(o()(v)),f(d.reduce((function(e,t){var r=o()(t,(function(e){var t=p(e.split("_"),2)[1];return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}));return[].concat(f(e),f(r))}),[]))),y=i&&i>0&&"("+i+")"||"";return u.createElement("div",null,u.createElement("h5",{key:0},"Tag List ",y),h.map((function(e,r){return u.createElement("div",{key:r+1},u.createElement(s.M,{key:r,active:t.includes(e),onClick:function(){n(e)}},e))})))}h.propTypes={termsTags:l().array,termsActive:l().array,toggleTermActive:l().func,selectedCount:l().number}},334:(e,t,r)=>{r.r(t),r.d(t,{SettingsMeta:()=>de,default:()=>be});var n=r(5529),o=r(4184),i=r.n(o),a=r(7294),c=r(6706),l=r(1513),u=r(8602),s=r(3058),f=r(2613),p=r(7835),v=r(5560),d=r(5412),m=r(2778),h=r(118),y=r(5956),g=r(2022),b=r(7679),w=r(5231),E=r(5697),j=r.n(E),S=r(245),O=r(4793);function k(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){for(var t=(l=(0,a.useState)(e.initial),u=1,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(l,u)||x(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],r=32,n=[],o={},i=4;i<17;i++){var c=(i-4)/13*75;n=[].concat(k(n),[{value:c,raw:i}]),o["r"+c]=i,o["s"+i]=c}var l,u;n=[].concat(k(n),[{value:100,raw:r}]),o.r100=r,o.s32=100;var s,f=function(e){return o["r"+e]};return a.createElement("div",{className:"kana-slider"},a.createElement(S.Z,{id:"discrete-slider-restrict",gutterBottom:!0},"Difficulty"),a.createElement(O.ZP,{defaultValue:(s=t,o["s"+s]),valueLabelFormat:f,getAriaValueText:function(e){return""+f(e)},"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:n,onChangeCommitted:function(t,n){"number"==typeof n&&function(t){var n=e.initial,o=f(t);o!==r&&n!==r&&o!==n||o!==r&&n===r&&o!==n?(e.setChoiceN(o),!0===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide()):o===r&&o!==n&&(e.setChoiceN(o),!1===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide())}(n)}}))}A.propTypes={initial:j().number,wideMode:j().bool,setChoiceN:j().func,toggleWide:j().func};var T=r(1741),N=r(1080);function L(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t,r,o,c){return a.createElement("div",{key:t,className:i()({"p-0 px-2":!0,clickable:e}),onClick:function(){e&&c(r)}},a.createElement("span",{className:"p-1"},e&&a.createElement(n.oOx,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&a.createElement(n.aNF,{size:"small","aria-label":"inactive"})),a.createElement("span",{className:"p-1"},o))}function M(e){var t=[],r=e.termsFreq.reduce((function(r,n){var o=e.terms.find((function(e){return e.uid===n}));return o?r=[].concat(L(r),[o]):t=[].concat(L(t),[n]),r}),[]).reduce((function(e,t){var r=t.grp?t.grp:"undefined";return e[r]?e[r]=[].concat(L(e[r]),[t]):e[r]=[t],e}),{});return a.createElement("div",null,a.createElement("h5",{key:0},"Frequency"),a.createElement("div",{key:1},Object.keys(r).map((function(t,n){var o=e.termsActive.includes(t);return a.createElement("div",{key:n,className:"mb-2"},a.createElement("span",{className:i()({"font-weight-bold":o}),onClick:function(){return e.toggleTermActiveGrp(t)}},t),a.createElement("div",null,r[t].map((function(t,r){return I(o,r,t.uid,t.english,e.removeFrequencyTerm)}))))}))),t.length>0&&a.createElement("div",{className:"mt-5 text-break"},a.createElement("span",{className:"font-weight-bold"},"Manual cleanup"),t.map((function(t,r){return I(!0,r,t,t,e.removeFrequencyTerm)}))))}M.propTypes={termsActive:j().array,termsFreq:j().array,terms:j().array,removeFrequencyTerm:j().func,toggleTermActiveGrp:j().func};var D=r(6892),R=r(5472),F=r.n(R);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e){return a.createElement("div",null,a.createElement("h5",{key:0},"Groups"),Object.keys(e.termsGroups).map((function(t,r){var n=e.termsActive.includes(t);return a.createElement("div",{key:r+1},a.createElement(D.M,{key:r,active:e.termsActive.includes(t),onClick:function(){return e.toggleTermActiveGrp(t)}},t),!n&&F()(e.termsGroups[t],(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("_"),2)[1];return Number.isInteger(parseInt(t,10))?parseInt(t,10):e})).map((function(r,n){return a.createElement(D.M,{key:n,addlStyle:"ms-3",active:e.termsActive.includes(t+"."+r),onClick:function(){e.toggleTermActiveGrp(t+"."+r)}},r)})))})))}G.propTypes={termsGroups:j().object,termsActive:j().array,toggleTermActiveGrp:j().func};var q=r(6259);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(this,arguments)}function W(e){var t={disabled:!!e.disabled||void 0};return a.createElement("div",{className:"settings-switch-root"},a.createElement("p",{className:i()({"disabled-color":t.disabled})},e.statusText),a.createElement(q.Z,V({},t,{checked:e.active,onChange:function(){return e.action()},color:e.color||"primary",inputProps:{"aria-label":e.statusText+" checkbox"}})))}W.propTypes={active:j().bool,action:j().func.isRequired,statusText:j().string.isRequired,color:j().string,disabled:j().bool};const U=W;function Z(){var e=(0,c.I0)(),t=(0,N.JP)(),r=t.phrases,n=t.phraseGroups,o=t.phraseOrder,i=t.phraseRomaji,l=t.phraseReinforce,u=t.phraseActive,p=t.phraseFilter,v=t.phraseRep;0===r.length&&e((0,y.cC)());var d=Object.keys(v).filter((function(e){var t;return!0===(null===(t=v[e])||void 0===t?void 0:t.rein)}));if(r.length<1||Object.keys(n).length<1)return a.createElement(T.n,{addlStyle:"phrases-settings"});var m=(0,s.wG)(n,u);if(m.length>0)throw new Error("Stale phrases active group",{cause:{code:"StalePhraseActiveGrp",value:m}});return a.createElement("div",{className:"outer"},a.createElement("div",{className:"d-flex flex-row justify-content-between"},a.createElement("div",{className:"column-1"},a.createElement("h4",null,(0,s.w_)(p,["Phrases Group","Frequency List","NOT_USED_Tags"])),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:p%2==0,action:(0,f.cM)(e,y.f6),color:"default",statusText:"Filter by"})),p===g.Lx.GROUP&&a.createElement(G,{termsGroups:n,termsActive:u,toggleTermActiveGrp:function(t){return e((0,y.cz)(t))}}),p===g.Lx.FREQUENCY&&0===d.length&&a.createElement("div",{className:"fst-italic"},"No phrases have been chosen"),p===g.Lx.FREQUENCY&&d.length>0&&a.createElement(M,{termsActive:u,termsFreq:d,terms:r,removeFrequencyTerm:function(t){return e((0,y.gP)(t))},toggleTermActiveGrp:function(t){return e((0,y.cz)(t))}})),a.createElement("div",{className:"column-2"},a.createElement("div",{className:"setting-block"},a.createElement("div",{className:"mb-2"},a.createElement(U,{active:o===g.vl.RANDOM,action:(0,f.cM)(e,y.mW),color:"default",statusText:(0,s.w_)(o,g.iU)})),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:l,action:(0,f.cM)(e,y.vy),disabled:p===g.Lx.FREQUENCY,statusText:"Reinforcement"})),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:i,action:(0,f.cM)(e,y.OJ),statusText:"Romaji"}))))))}var z=r(5834),K=r(6867),H=r(2440),J=r(9334),B=r(8238),Y=r(7182);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e){var t=Q((0,a.useState)(null),2),r=t[0],o=t[1],c=Q((0,a.useState)(e.initial),2),l=c[0],u=c[1],s=(0,a.useMemo)((function(){return e.options}),[]);(0,a.useMemo)((function(){u(e.initial)}),[e.initial]);var f=Boolean(r),p=function(e){o(e.currentTarget)};return a.createElement("div",{className:i()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0})},a.createElement(H.Z,{component:"nav",disablePadding:!0},a.createElement(z.Z,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":f?"true":void 0,onClick:p},a.createElement(J.Z,{primary:e.title,secondary:s[l],secondaryTypographyProps:{color:"unset"}}))),a.createElement(B.Z,{id:"filter-menu",anchorEl:r,open:f,onClose:function(){o(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"}},s.map((function(t,r){return a.createElement(Y.Z,{key:t,selected:r===l,onClick:function(t){return function(t,r){u(r),o(null),e.onChange(r)}(0,r)}},t)}))),a.createElement(K.Z,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:p},a.createElement(n.Ui8,{size:"medium",className:i()({"rotate-transition":!0,"rotate-90":f})})))}function ee(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e){for(var t=(u=(0,a.useState)(e.initial),s=1,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(u,s)||te(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],r=Math.min(e.max,t),n=e.max,o=[],i={},c=0;c<n+1;c++){var l=(c-0)/(n-0)*100;o=[].concat(ee(o),[{value:l,raw:c}]),i["r"+l]=c,i["s"+c]=l}var u,s,f,p=function(e){return i["r"+e]},v=function(e){var t=p(e),r=Math.trunc(n/2),o="",i=r+Math.abs(r-t);return n%2!=0&&t<=r&&(o=++i+""),n%2==0&&t===r||(o=t<r+1?i+" "+(n-i):n-i+" "+i),o};return a.createElement("div",{className:"verb-form-slider-root"},a.createElement(S.Z,{id:"discrete-slider-restrict",gutterBottom:!0},e.statusText),a.createElement(O.ZP,{defaultValue:(f=r,i["s"+f]),valueLabelFormat:v,getAriaValueText:v,"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:o,onChangeCommitted:function(t,n){"number"==typeof n&&function(t){var n=r,o=p(t);o!==n&&e.setChoiceN(o)}(n)}}))}function oe(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(){var e=(0,c.I0)(),t=(0,N.nF)(),r=t.vocabulary,o=t.vocabGroups,l=t.vocabOrder,u=t.vocabRomaji,p=t.showBareKanji,v=t.vocabHint,d=t.vocabActive,m=t.autoVerbView,h=t.verbColSplit,y=t.vocabFilter,w=t.memoThreshold,E=t.vocabRep,j=t.vocabReinforce,S=t.verbFormsOrder,k=ie((0,a.useState)(Math.abs(w)),1)[0];0===Object.keys(o).length&&e((0,b.Rz)());var x=(0,a.useMemo)((function(){return Object.keys(E).filter((function(e){var t;return!0===(null===(t=E[e])||void 0===t?void 0:t.rein)}))}),[E]),P=ie((0,a.useMemo)((function(){var e=b.E3.setting.verbFormsOrder,t=S.reduce((function(t,r){return e.includes(r)&&(t=[].concat(oe(t),[r])),t}),[]),r=e.reduce((function(e,r){return t.includes(r)||(e=[].concat(oe(e),[r])),e}),[]);return[t,r]}),[S]),2),A=P[0],L=P[1];if(r.length<1||Object.keys(o).length<1)return a.createElement(T.n,{addlStyle:"vocabulary-settings"});var C=(0,s.wG)(o,d);if(C.length>0)throw new Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:C}});return a.createElement("div",{className:"outer"},a.createElement("div",{className:"d-flex flex-row justify-content-between"},a.createElement("div",{className:"column-1"},a.createElement(X,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:y,onChange:(0,f.cM)(e,b.ZZ)}),y===g.Lx.GROUP&&a.createElement(G,{termsGroups:o,termsActive:d,toggleTermActiveGrp:(0,f.cM)(e,b.sG)}),y===g.Lx.FREQUENCY&&0===x.length&&a.createElement("div",{className:"fst-italic"},"No words have been chosen"),y===g.Lx.FREQUENCY&&x.length>0&&a.createElement(M,{termsActive:d,termsFreq:x,terms:r,removeFrequencyTerm:(0,f.cM)(e,b.xz),toggleTermActiveGrp:(0,f.cM)(e,b.sG)})),a.createElement("div",{className:"column-2 setting-block"},a.createElement(X,{title:"Sort by:",options:g.iU,initial:l,onChange:(0,f.cM)(e,b.wf)}),l===g.vl.DIFFICULTY&&a.createElement("div",{className:"d-flex justify-content-end"},a.createElement(O.ZP,{defaultValue:k,track:w<0?"inverted":void 0,onChangeCommitted:function(t,r){var n=w<0?-1:1;"number"==typeof r&&e((0,b._4)(n*r))},valueLabelDisplay:"auto"}),a.createElement("div",{className:"mt-2 ms-3 ",onClick:(0,f.cM)(e,b._4,-1*w)},w<0?a.createElement(n.k6S,null):a.createElement(n.aoE,null))),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:j,action:(0,f.cM)(e,b.gl),disabled:y===g.Lx.FREQUENCY,statusText:"Reinforcement"})),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:u,action:(0,f.cM)(e,b.VX),statusText:"Romaji"})),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:p,action:(0,f.cM)(e,b.Vb),statusText:"English+Kanji"})),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:v,action:(0,f.cM)(e,b.Tn),statusText:"Hint"})),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:m,action:(0,f.cM)(e,b.eK),statusText:"Auto Verb View"})),m&&a.createElement("div",{className:"mb-2"},a.createElement("div",{className:"d-flex flex-row justify-content-end"},a.createElement("div",null,[A.map((function(t,r){return a.createElement("div",{key:r,className:"d-flex justify-content-between"},a.createElement("div",{className:i()({"me-3":!0,"disabled-color":0===r}),onClick:function(){if(r>0){var t=A.slice(0,r-1),n=A[r-1],o=A[r],i=A.slice(r+1);e((0,b.Hi)([].concat(oe(t),[o,n],oe(i))))}}},a.createElement(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})),a.createElement("span",{className:"w-100 text-start"},t),a.createElement("div",{onClick:function(){if(A.length>1){var t=[].concat(oe(A.slice(0,r)),oe(A.slice(r+1)));e((0,b.Hi)(t))}}},a.createElement(n.oOx,{className:i()({"mt-1 ms-3":!0,"incorrect-color":A.length>1,"disabled-color":1===A.length}),size:"small","aria-label":"remove"})))})),L.map((function(t,r){return a.createElement("div",{key:A.length+r,className:"d-flex justify-content-between"},a.createElement("div",{className:"me-3 invisible"},a.createElement(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})),a.createElement("span",{className:"w-100 text-start disabled-color"},t),a.createElement("div",{onClick:(0,f.cM)(e,b.Hi,[].concat(oe(A),[L[r]]))},a.createElement(n.wl8,{className:"mt-1 ms-3",size:"small","aria-label":"add"})))}))]))),m&&a.createElement("div",null,a.createElement("div",{className:"d-flex justify-content-end p-2"},a.createElement(ne,{initial:h,setChoiceN:(0,f.cM)(e,b.oG),max:S.length,statusText:"Column layout"}))))))}X.propTypes={disabled:j().bool,flip:j().bool,title:j().string,options:j().arrayOf(j().string),initial:j().number,onChange:j().func},ne.propTypes={statusText:j().string,initial:j().number.isRequired,max:j().number.isRequired,setChoiceN:j().func.isRequired};var ue=r(1946);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de={location:"/settings/",label:"Settings"};function me(e,t){var r=t.cause;switch(e((0,p.zA)(g.x6.DEBUG)),null==r?void 0:r.code){case"StaleVocabActiveGrp":var n=r.value;e((0,p.kg)("Error: "+t.message,g.x6.ERROR)),e((0,p.kg)("Group "+JSON.stringify(n)+" Removed",g.x6.ERROR)),e((0,b.sG)(n));break;case"StalePhraseActiveGrp":var o=r.value;e((0,p.kg)("Error: "+t.message,g.x6.ERROR)),e((0,p.kg)("Group "+JSON.stringify(o)+" Removed",g.x6.ERROR)),e((0,y.cz)(o));break;case"DeviceMotionEvent":e((0,p.kg)("Error: "+t.message,g.x6.ERROR)),e((0,p.cv)(0))}}function he(e,t,r){return function(n){try{(0,s.Mm)(n,t,(function(e){r(Number(e.toFixed(2))),setTimeout((function(){r(void 0)}),300)}))}catch(t){t instanceof Error&&me(e,t)}}}function ye(e,t){var r=e?a.createElement(n.oOx,{className:"clickable",size:"medium","aria-label":"collapse"}):a.createElement(n.wl8,{className:"clickable",size:"medium","aria-label":"expand"});return a.createElement("h2",{onClick:function(){return t((function(e){return!e}))}},r)}var ge=i()({"mb-5":!0});function be(){var e=(0,c.I0)(),t=(0,a.useRef)(void 0),r=function(){var e=(0,c.v9)((function(e){return{global:e.global,kanji:e.kanji,opposite:e.opposite,kana:e.kana,particle:e.particle}})),t=e.global,r=e.kanji,n=e.opposite,o=e.kana,i=e.particle,l=t.darkMode,u=t.swipeThreshold,s=t.motionThreshold,f=t.memory,p=t.debug;return(0,a.useMemo)((function(){return{darkMode:l,swipeThreshold:u,motionThreshold:s,memory:f,debug:p,kanjiChoiceN:r.setting.choiceN,kanjiFilter:r.setting.filter,kanjiReinforce:r.setting.reinforce,oppositesQRomaji:n.qRomaji,oppositesARomaji:n.aRomaji,choiceN:o.setting.choiceN,wideMode:o.setting.wideMode,easyMode:o.setting.easyMode,charSet:o.setting.charSet,particlesARomaji:i.setting.aRomaji}}),[l,u,s,f,p,r.setting.choiceN,r.setting.filter,r.setting.reinforce,n,o,i.setting.aRomaji])}(),o=r.darkMode,E=r.swipeThreshold,j=r.motionThreshold,S=r.memory,O=r.debug,k=r.kanjiChoiceN,x=r.kanjiFilter,P=r.kanjiReinforce,N=r.oppositesQRomaji,L=r.oppositesARomaji,C=r.choiceN,I=r.wideMode,D=r.easyMode,R=r.charSet,F=r.particlesARomaji,_=(0,c.v9)((function(e){return{vocabulary:e.vocabulary,phrases:e.phrases,kanji:e.kanji}})),G=_.vocabulary,q=_.phrases,V=_.kanji,W=(0,a.useMemo)((function(){return S}),[S]),z=(0,a.useMemo)((function(){return G.value}),[G.version]),K=(0,a.useMemo)((function(){return q.value}),[q.version]),H=(0,a.useMemo)((function(){return V.value}),[V.version]),J=(0,a.useMemo)((function(){return G.setting.repetition}),[G.setting.repTID]),B=(0,a.useMemo)((function(){return q.setting.repetition}),[q.setting.repTID]),Y=(0,a.useMemo)((function(){return V.setting.repetition}),[V.setting.repTID]),Q=(0,a.useMemo)((function(){return V.setting.activeTags}),[V.setting.activeTags]),$=(0,a.useMemo)((function(){return V.tagObj}),[V.version]),X=se((0,a.useState)(!1),2),ee=X[0],te=X[1],re=se((0,a.useState)(!1),2),ne=re[0],oe=re[1],ie=se((0,a.useState)(!1),2),ae=ie[0],ce=ie[1],pe=se((0,a.useState)(!1),2),ve=pe[0],de=pe[1],be=se((0,a.useState)(!1),2),we=be[0],Ee=be[1],je=se((0,a.useState)(""),2),Se=je[0],Oe=je[1],ke=se((0,a.useState)(""),2),xe=ke[0],Pe=ke[1],Ae=se((0,a.useState)(""),2),Te=Ae[0],Ne=Ae[1],Le=se((0,a.useState)(!1),2),Ce=Le[0],Ie=Le[1],Me=se((0,a.useState)([]),2),De=Me[0],Re=(Me[1],se((0,a.useState)(0),2)),Fe=Re[0],_e=Re[1];(0,a.useEffect)((function(){var r;return e((0,p.M4)()),0===z.length&&e((0,b.Rz)()),0===$.length&&e((0,d.tk)()),0===K.length&&e((0,y.cC)()),navigator.serviceWorker.addEventListener("message",Ge),null===(r=navigator.serviceWorker.controller)||void 0===r||r.postMessage({type:"SW_VERSION"}),function(){navigator.serviceWorker.removeEventListener("message",Ge),t.current&&window.removeEventListener("devicemotion",t.current)}}),[]),(0,a.useEffect)((function(){j>0&&void 0===t.current?(t.current=he(e,j,_e),(0,s.HG)((function(){t.current&&window.addEventListener("devicemotion",t.current)}),(function(t){return me(e,t)}))):0===j&&void 0!==t.current?(window.removeEventListener("devicemotion",t.current),t.current=void 0):(t.current&&window.removeEventListener("devicemotion",t.current),t.current=he(e,j,_e),(0,s.HG)((function(){t.current&&window.addEventListener("devicemotion",t.current)}),(function(t){return me(e,t)})))}),[e,j]);var Ge=(0,a.useCallback)((function(t){if("DO_HARD_REFRESH"===t.data.type){var r=t.data.error;r&&e((0,p.kg)(r,g.x6.ERROR)),setTimeout((function(){te(!1),Ie(r)}),2e3)}else if("SW_VERSION"===t.data.type){var n=t.data,o=n.swVersion,i=n.jsVersion,a=n.bundleVersion;Oe(o),Pe(i),Ne(a)}}),[e]),qe=(0,a.useMemo)((function(){return(0,s.XQ)(J,z,"[Stale Vocabulary]")}),[z,J]),Ve=qe.keys,We=qe.list,Ue=(0,a.useMemo)((function(){return(0,s.XQ)(B,K,"[Stale Phrase]")}),[K,B]),Ze=Ue.keys,ze=Ue.list,Ke=(0,a.useMemo)((function(){return(0,s.XQ)(Y,H,"[Stale Kanji]")}),[H,Y]),He=Ke.keys,Je=Ke.list,Be=(0,a.useMemo)((function(){return(e=[].concat(fe(K),fe(z))).reduce((function(t,r,n){var o=l.TZ.parse(r);if(o.hasFurigana())try{(0,l.Wp)(o.getPronunciation(),o.getSpelling())}catch(l){var i,c;if(l instanceof Error&&("ParseError"===(null===(i=l.cause)||void 0===i?void 0:i.code)||"InputError"===(null===(c=l.cause)||void 0===c?void 0:c.code))){var u,s,f=a.createElement("hr",{key:e.length+n}),p=a.createElement("div",{key:n,className:"row"},a.createElement("span",{className:"col p-0"},o.toHTML()),a.createElement("span",{className:"col p-0"},r.english),a.createElement("span",{className:"col p-0 app-sm-fs-xx-small"},a.createElement("div",null,l.message),a.createElement("div",null,null!==(u=l.cause)&&void 0!==u&&u.info?JSON.stringify(null===(s=l.cause)||void 0===s?void 0:s.info):"")));return t.length>0&&n<e.length-1?[].concat(fe(t),[f,p]):[].concat(fe(t),[p])}}return t}),[]);var e}),[z,K]),Ye=(0,a.useMemo)((function(){return new Set([].concat(fe(Ve),fe(Ze),fe(He)))}),[Ve,Ze,He]),Qe=(0,a.useMemo)((function(){return(e=[].concat(fe(We),fe(ze),fe(Je))).reduce((function(t,r,n){var o=a.createElement("hr",{key:e.length+n}),i=a.createElement("div",{key:n,className:"row"},a.createElement("span",{className:"col p-0"},r.key),a.createElement("span",{className:"col p-0"},r.english),a.createElement("span",{className:"col p-0 app-sm-fs-xx-small"},a.createElement("div",null,r.uid)));return t.length>0&&n<e.length?[].concat(fe(t),[o,i]):[].concat(fe(t),[i])}),[]);var e}),[We,ze,Je]);if(De.length>0){var $e=(0,u.zV)(this.state),Xe=(0,u.zV)(this.props),et=[].concat(fe(De),[{msg:"props:",lvl:g.x6.WARN,css:"px-2"},{msg:Xe,lvl:g.x6.WARN,css:"px-4"},{msg:"state:",lvl:g.x6.WARN,css:"px-2"},{msg:$e,lvl:g.x6.WARN,css:"px-4"}]);return a.createElement("div",null,a.createElement("div",{className:"d-flex flex-column justify-content-around"},a.createElement(w.Z,{messages:et})))}if(z.length<1||K.length<1||$.length<1)return a.createElement(T.n,{addlStyle:"main-panel"});var tt=Object.values(H).filter((function(e){return e.tag.some((function(e){return Q.includes(e)}))})),rt=tt.map((function(e){return e.uid})),nt=Object.keys(Y).filter((function(e){var t;return!0===(null===(t=Y[e])||void 0===t?void 0:t.rein)})),ot=nt.filter((function(e){return!rt.includes(e)}));return a.createElement("div",{className:"settings"},a.createElement("div",{className:"d-flex flex-column justify-content-between px-3"},a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Global"),a.createElement("h2",null)),a.createElement("div",null,a.createElement("div",{className:"d-flex flex-row justify-content-between"},a.createElement("div",{className:"column-1 d-flex flex-column justify-content-end"},a.createElement("div",{className:i()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===E})},a.createElement("div",{className:"clickable px-2 pb-2",onClick:function(){e(E-1<=0?(0,p.nh)(0):(0,p.nh)(E-1))}},"-"),a.createElement("div",{className:"px-2"},E),a.createElement("div",{className:"clickable px-2",onClick:function(){return e((0,p.nh)(E+1))}},"+")),a.createElement("div",{className:i()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===j})},a.createElement("div",{className:"clickable px-2 pb-2",onClick:function(){e(j-.5<=0?(0,p.cv)(0):(0,p.cv)(j-.5))}},"-"),a.createElement("div",{className:i()({"px-2":!0,"correct-color":Fe>j&&Fe<=j+1,"question-color":Fe>j+1&&Fe<=j+2,"incorrect-color":Fe>j+2})},null!=Fe?Fe:j),a.createElement("div",{className:"clickable px-2",onClick:function(){e((0,p.cv)(j+.5))}},"+"))),a.createElement("div",{className:"column-2"},a.createElement("div",{className:"setting-block"},a.createElement(U,{active:o,action:(0,f.cM)(e,p.In),statusText:(o?"Dark":"Light")+" Mode"})),a.createElement("div",{className:"setting-block"},a.createElement(U,{active:E>0,action:function(){e(E>0?(0,p.nh)(0):(0,p.nh)(1))},statusText:"Touch Swipes"})),a.createElement("div",{className:"setting-block"},a.createElement(U,{active:j>0,action:function(){e(0===j?(0,p.cv)(6):(0,p.cv)(0))},statusText:"Accelerometer"})))))),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Phrases"),ye(ve,de)),ve&&a.createElement(Z,null)),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Vocabulary"),ye(ae,ce)),ae&&a.createElement(le,null)),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Kanji"),ye(ne,oe)),ne&&a.createElement("div",{className:"d-flex flex-row justify-content-between"},a.createElement("div",{className:"column-1"},a.createElement("h4",null,(0,s.w_)(x,["Kanji Group","Frequency List","Tags"])),a.createElement("div",{className:"mb-2"},a.createElement(U,{active:x%2==0,action:(0,f.cM)(e,d.cy),color:"default",statusText:"Filter by"})),x===g.Lx.FREQUENCY&&0===nt.length&&a.createElement("div",{className:"fst-italic"},"No words have been chosen"),x===g.Lx.TAGS&&a.createElement(ue.E,{selectedCount:0===tt.length?Object.values(H).length:tt.length,termsTags:$,termsActive:Q,toggleTermActive:(0,f.cM)(e,d.X8)}),x===g.Lx.FREQUENCY&&nt.length>0&&a.createElement(M,{termsActive:Q,termsFreq:nt,terms:H,removeFrequencyTerm:(0,f.cM)(e,d.SI),toggleTermActiveGrp:(0,f.cM)(e,d.LD)})),a.createElement("div",{className:"column-2 setting-block"},a.createElement("div",{className:"mb-2"},a.createElement(U,{active:P,action:(0,f.cM)(e,d.vT),disabled:x===g.Lx.FREQUENCY,statusText:(P?"(+"+ot.length+") ":"")+"Reinforcement"}))))),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Opposites Game")),a.createElement("div",{className:"setting-block"},a.createElement("div",{className:"mb-2"},a.createElement(U,{active:N,action:(0,f.cM)(e,m.Cz),statusText:"Question Romaji"})),a.createElement("div",null,a.createElement(U,{active:L,action:(0,f.cM)(e,m.CO),statusText:"Answer Romaji"})))),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Kana Game")),a.createElement("div",{className:"setting-block"},a.createElement("div",null,a.createElement(U,{active:R===g.kS.HIRAGANA,action:(0,f.cM)(e,v.I_),statusText:(0,s.w_)(R,["Hiragana","Katakana","Mixed"])})),a.createElement("div",{className:"d-flex justify-content-end p-2"},a.createElement(A,{initial:C,wideMode:I,setChoiceN:(0,f.cM)(e,v.Bs),toggleWide:(0,f.cM)(e,v.PD)})),a.createElement("div",null,a.createElement(U,{active:D,action:(0,f.cM)(e,v._S),statusText:"Kana Hints"})))),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Kanji Game")),a.createElement("div",{className:"setting-block"},a.createElement("div",{className:"d-flex justify-content-end p-2"},a.createElement(A,{initial:k,setChoiceN:(0,f.cM)(e,d.ow)})))),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Particles Game")),a.createElement("div",{className:"setting-block"},a.createElement(U,{active:F,action:(0,f.cM)(e,h.ro),statusText:"Answer Romaji"}))),a.createElement("div",{className:ge},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h2",null,"Application")),a.createElement("div",{className:"d-flex flex-row justify-content-between"},a.createElement("div",{className:"column-1"},a.createElement("div",{className:"setting-block mb-2 mt-2"},a.createElement("div",{className:"d-flex flex-row justify-content-between clickable",onClick:function(){Oe(""),Pe(""),Ne(""),setTimeout((function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"SW_VERSION"})}),1e3)}},a.createElement("div",{className:"pe-2"},a.createElement("div",null,"swVersion:"),a.createElement("div",null,"jsVersion:"),a.createElement("div",null,"bundleVersion:")),a.createElement("div",null,a.createElement("div",null,Se),a.createElement("div",null,xe),a.createElement("div",null,Te))))),a.createElement("div",{className:"column-2"},a.createElement("div",{className:"setting-block mb-2"},a.createElement(U,{active:O>g.x6.OFF,action:(0,f.cM)(e,p.zA),color:"default",statusText:(0,s.w_)(O,["Debug","Debug Error","Debug Warn","Debug"])})),a.createElement("div",{className:i()({"d-flex justify-content-end mb-2":!0,"disabled-color":Ce})},a.createElement("p",{id:"hard-refresh",className:"text-right"},"Hard Refresh"),a.createElement("div",{className:i()({"spin-a-bit":ee}),style:{height:"24px"},"aria-labelledby":"hard-refresh",onClick:function(){var e;te(!0),Ie(!1),setTimeout((function(){ee&&(te(!1),Ie(!0))}),3e3),null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"DO_HARD_REFRESH"})}},a.createElement(n.bnu,{className:"clickable",size:24,"aria-label":"Hard Refresh"}))),a.createElement("div",{className:"setting-block mb-2"},a.createElement(U,{active:W.persistent,action:(0,f.cM)(e,p.TJ),disabled:W.persistent,color:"default",statusText:W.persistent?"Persistent "+~~(W.usage/1024/1024)+"/"+~~(W.quota/1024/1024)+"MB":"Persistent off"})))),Qe.length>0&&a.createElement("div",{className:"mb-2"},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("h5",null,"Stale Space Repetition"),ye(we,Ee)),a.createElement("div",{className:"px-4"},a.createElement("span",null,"keys: "+JSON.stringify(Array.from(Ye)))),we&&a.createElement("div",{className:"failed-spacerep-view container mt-2 p-0"},Qe)),Be.length>0&&a.createElement("div",{className:"mb-2"},a.createElement("h5",null,"Failed Furigana Parse"),a.createElement("div",{className:"failed-furigana-view container mt-2 p-0"},Be)))))}},6196:(e,t,r)=>{r.r(t),r.d(t,{VocabularyMeta:()=>Te,default:()=>Le});var n=r(9041),o=r(6514),i=r(8223),a=r(5529),c=r(3174),l=r.n(c),u=r(5697),s=r.n(u),f=r(7294),p=r(6706),v=r(2022),d=r(1513),m=r(1741),h=r(1816),y=r(4793);function g(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){for(var t=(l=(0,f.useState)(e.initial),u=1,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(l,u)||b(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],r=e.list.length,n=Math.min(r,t),o=[],i={},a=1;a<=r;a++){var c=a/r*100;o=[].concat(g(o),[{value:c,raw:a-1}]),i["r"+c]=a-1,i["s"+(a-1)]=c}var l,u,s,p=function(e){return i["r"+e]};return f.createElement("div",{className:"vocabulary-slider"},f.createElement(y.ZP,{defaultValue:(s=n,i["s"+s]),valueLabelFormat:function(t){var r=i["r"+t];return e.list[r].label[0]},getAriaValueText:function(e){return""+p(e)},"aria-label":"Quick card scroll",step:null,valueLabelDisplay:"auto",marks:o,onChangeCommitted:function(t,r){"number"==typeof r&&function(t){var r=n,o=p(t);o!==r&&e.setIndex(o)}(r)}}))}E.propTypes={initial:s().number.isRequired,list:s().array.isRequired,setIndex:s().func.isRequired};var j=r(4184),S=r.n(j),O=r(1423),k=r(3058),x=r(7679);function P(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=r(6456),N=r(3307),L=r(1080);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){var r=Math.trunc(e.length/2)+(e.length%2==0?0:1)-t;return Math.trunc(e.length/2)+r}function G(e){var t=R((0,f.useState)(void 0),2),r=t[0],n=t[1],o=R((0,f.useState)(void 0),2),i=o[0],a=o[1],c=(0,p.I0)(),l=(0,L.xo)(),u=l.verbForm,s=l.repetition,v=l.swipeThreshold,m=l.englishSideUp,h=l.verbFormsOrder,y=l.romajiActive,g=l.hintEnabled,b=l.verbColSplit,w=e.verb,E=e.reCache,j=e.linkToOtherTerm,A=e.showHint;(0,f.useEffect)((function(){r&&w.uid!==r&&n(void 0),i&&w.uid!==i&&a(void 0)}),[w]);var C,I,D=function(e,t){var r=S()({"pt-3 pe-sm-3 flex-shrink-1 d-flex flex-column justify-content-around text-nowrap":!0,"text-end":0!==e}),n=t.map((function(e,t){var r=S()({clickable:!0}),n=S()({invisible:u===e.name});return f.createElement("div",{className:r,key:t,onClick:function(){u===e.name?c((0,x.rZ)("dictionary")):c((0,x.rZ)(e.name))}},f.createElement("span",{className:n},"["),f.createElement("span",null,e.name),f.createElement("span",{className:n},"]"))}));return f.createElement("div",{key:e,className:r},n)},F=(C=w,I=h,(0,f.useMemo)((function(){var e,t,r,n,o,i,a,c,l,u,s,f,p={dictionary:void 0===C?void 0:O.R.parse(C)},v=[{name:"-masu",value:null===(e=p.dictionary)||void 0===e?void 0:e.masuForm()},{name:"-mashou",value:null===(t=p.dictionary)||void 0===t?void 0:t.mashouForm()},{name:"dictionary",value:p.dictionary},{name:"-nai",value:null===(r=p.dictionary)||void 0===r?void 0:r.naiForm()},{name:"-saseru",value:null===(n=p.dictionary)||void 0===n?void 0:n.saseruForm()},{name:"-te",value:null===(o=p.dictionary)||void 0===o?void 0:o.teForm()},{name:"-ta",value:null===(i=p.dictionary)||void 0===i?void 0:i.taForm()}].concat(P(null!==(null===(a=p.dictionary)||void 0===a?void 0:a.chattaForm())?[{name:"-chatta",value:null===(c=p.dictionary)||void 0===c?void 0:c.chattaForm()}]:[]),P(null!==(null===(l=p.dictionary)||void 0===l?void 0:l.reruForm())?[{name:"-reru",value:null===(u=p.dictionary)||void 0===u?void 0:u.reruForm()}]:[]));return I&&I.length>0&&(f=I.reduce((function(e,t){var r=v.find((function(e){return e.name===t}));return void 0!==r&&(e=[].concat(P(e),[r])),e}),[])),null!==(s=f)&&void 0!==s?s:v}),[C,I])),G=function(e,t){var r=_(e,t);return{t1:e.slice(0,r),t2:e.slice(r)}}(F,b),q=G.t1,V=G.t2,W=function(e,t,r){var n=(0,p.I0)(),o=!(t&&t[e]&&!1===t[e].f);return(0,f.useMemo)((function(){return{furigana:{show:o,toggle:!1===r&&function(){n((0,x._n)(e))}||void 0}}}),[n,e,o,r])}(w.uid,s,m),U=function(e,t,r,n,o){var i=e.romaji||".",a=_(t,n),c=t.find((function(e){return e.name===r})),l=c?c.value:t[a].value;return{inJapanese:l.toHTML(o),inEnglish:e.english,romaji:i,japaneseObj:l}}(w,F,u,b,W),Z=U.inJapanese,z=U.inEnglish,K=U.romaji,H=U.japaneseObj,J=(0,f.useMemo)((function(){return O.R.parse(w)}),[w]),B=function(e,t,r,n){return(0,f.useMemo)((function(){var o,i=!e,a=[],c=!1,l=!1;t.constructor.name===O.R.name&&"isExceptionVerb"in t&&(c=t.isExceptionVerb()||3===t.getVerbClass(),l=t.isIntransitive(),o=t.getTransitivePair()||t.getIntransitivePair());var u=t.isNaAdj(),s=t.isSlang(),p=t.isKeigo();return i&&(l||o)&&(a=[].concat(P(a),[f.createElement("span",{key:a.length+1,className:S()({clickable:o,"question-color":o}),onClick:o&&n?function(){n(o)}:void 0},l?"intr":"trans")])),i&&s&&(a=[].concat(P(a),[f.createElement("span",{key:a.length+1},"slang")])),i&&p&&(a=[].concat(P(a),[f.createElement("span",{key:a.length+1},"keigo")])),c&&a.length>0&&(a=[f.createElement("span",{key:a.length+1},"*")].concat(P(a))),a.length>0?f.createElement("span",null,r,u&&f.createElement("span",{className:"opacity-25"}," ","な"),f.createElement("span",{className:"fs-5"},f.createElement("span",null," ("),a.reduce((function(e,t,r){return r>0&&r<a.length?[].concat(P(e),[f.createElement("span",{key:a.length+r}," , "),t]):[].concat(P(e),[t])}),[]),f.createElement("span",null,")"))):c?f.createElement("span",null,r,f.createElement("span",null," ","*")):u?f.createElement("span",null,r,f.createElement("span",{className:"opacity-25"}," ","な")):r}),[e,t,r,n])}(m,J,Z,j),Y=function(e,t,r,n){return(0,f.useMemo)((function(){var o,i=[],a=!1;t.constructor.name===O.R.name&&"isExceptionVerb"in t&&(a=t.isIntransitive(),o=t.getTransitivePair()||t.getIntransitivePair());var c=t.isSlang(),l=t.isKeigo();return e&&(a||o)&&(i=[].concat(P(i),[f.createElement("span",{key:i.length+1,className:S()({clickable:o,"question-color":o}),onClick:o&&n?function(){n(o)}:void 0},a?"intr":"trans")])),e&&c&&(i=[].concat(P(i),[f.createElement("span",{key:i.length+1},"slang")])),e&&l&&(i=[].concat(P(i),[f.createElement("span",{key:i.length+1},"keigo")])),i.length>0?f.createElement("span",null,r,f.createElement("span",null,f.createElement("span",null," ("),i.reduce((function(e,t,r){return r>0&&r<i.length?[].concat(P(e),[f.createElement("span",{key:i.length+r}," , "),t]):[].concat(P(e),[t])}),[]),f.createElement("span",null,")"))):r}),[e,t,r,n])}(m,J,z,j),Q=(0,f.useMemo)((function(){var e=f.createElement("span",null,"[English]"),t=f.createElement(N.Z,{fragment:!0,breakPoint:"sm",smallValue:"[J]",largeValue:"[Japanese]"});if(g&&A)if(m){var r=(0,k.tu)(H);r&&(t=r)}else{var n=(0,k.iz)(w);n&&(e=n)}return{jLabel:t,eLabel:e}}),[g,A,m,H,w]),$=Q.jLabel,X=Q.eLabel,ee=function(e,t,r,n,o){return(0,f.useMemo)((function(){var i,a,c,l;return e?(i=t,a=r,c=n,l=o):(i=r,a=t,c=o,l=n),{topValue:i,topLabel:c,bottomValue:a,bottomLabel:l}}),[e,t,r,n,o])}(m,Y,B,X,$),te=ee.topValue,re=ee.bottomValue,ne=ee.bottomLabel,oe=(0,f.useMemo)((function(){return M(M({},w),{},{japanese:H.toString(),pronounce:w.pronounce&&H.getPronunciation(),form:u})}),[w,H,u]),ie=(0,f.useMemo)((function(){return m?{tl:"en",q:oe.english,uid:oe.uid+".en"}:{tl:"ja",q:(0,d._I)(oe),uid:(0,k.gW)(oe)}}),[m,oe]),ae=f.createElement(T.Z,{visible:0===v,word:ie,reCache:E});return f.createElement(f.Fragment,null,D(0,q),f.createElement("div",{key:1,className:"pt-3 w-100 d-flex flex-column justify-content-around text-center"},f.createElement(N.Z,{breakPoint:"md",smallClassName:M({},m?{h5:!0}:{"fs-display-6":!0}),largeClassName:{"fs-display-6":!0}},te),y&&K&&f.createElement("div",null,f.createElement("span",{className:"clickable loop-no-interrupt",onClick:function(){return a((function(e){return e===w.uid?void 0:w.uid}))}},i===w.uid?K:"[romaji]")),f.createElement(N.Z,{breakPoint:"md",className:{"loop-no-interrupt":!0},smallClassName:M({},m?{"fs-display-6":!0}:{h5:!0}),largeClassName:{"fs-display-6":!0},onClick:function(){return n((function(e){return e===w.uid?void 0:w.uid}))}},r===w.uid?re:ne),f.createElement("div",{className:"d-flex justify-content-center"},ae)),D(2,V))}G.propTypes={verb:s().object.isRequired,reCache:s().bool,linkToOtherTerm:s().func,showHint:s().bool};var q=r(2613);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===V(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e){var t,r=(0,p.I0)(),n=z((0,f.useState)(void 0),2),o=n[0],i=n[1],a=z((0,f.useState)(void 0),2),c=a[0],l=a[1],u=z((0,f.useState)(void 0),2),s=u[0],v=u[1],m=(0,p.v9)((function(e){return{global:e.global,vocabulary:e.vocabulary}})),h=m.global,y=m.vocabulary,g=h.swipeThreshold,b=y.setting,w=b.repetition,E=b.romaji,j=b.practiceSide,S=b.hintEnabled,O=b.bareKanji,P=e.vocabulary,A=e.reCache,L=e.showHint;(0,f.useEffect)((function(){o&&P.uid!==o&&i(void 0),c&&P.uid!==c&&l(void 0)}),[P]);var C=(0,f.useCallback)((function(e){return r((0,x._n)(e))}),[r]),I=(0,f.useMemo)((function(){return(0,k.$q)(P.uid,w,j,C)}),[C,P.uid,w,j]),M=f.createElement("span",null,"[Japanese]"),D=f.createElement("span",null,"[English]"),R=d.TZ.parse(P),F=R.toHTML(I),_=P.english,G=P.romaji,V=(0,k.hF)(j,R,F),W=(0,k.yT)(j,R,_);S&&L&&(j?M=(0,k.tu)(R)||M:D=(0,k.iz)(P)||D);var K=(0,k.JS)(j,W,V,D,M),H=K.topValue,J=K.bottomValue,B=K.bottomLabel,Y=!0===j&&!0===O&&!1===(null===(t=w[P.uid])||void 0===t?void 0:t.f),Q=(0,f.useMemo)((function(){var e=P;if(d.TZ.parse(P).isNaAdj()){var t=d.TZ.parse(P).append(s&&"な");e=U(U({},P),{},{japanese:t.toString(),pronounce:P.pronounce&&t.getPronunciation(),form:s})}return j?{tl:"en",q:P.english,uid:P.uid+".en"}:{tl:j?"en":"ja",q:(0,d._I)(e),uid:(0,k.gW)(e)}}),[P,j,s]),$=(0,f.useCallback)((function(){return v((function(e){return e?void 0:"-na"}))}),[]),X=f.createElement(T.Z,{visible:0===g,word:Q,reCache:A,onPushedPlay:$}),ee=_.length<55;return f.createElement("div",{className:"pt-3 d-flex flex-column justify-content-around text-center"},f.createElement(N.Z,{breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:U({},j?Z({},ee?"fs-display-6":"h3",!0):{"fs-display-6":!0})},H),E&&G&&f.createElement("h5",null,f.createElement("span",{onClick:(0,q.kP)(l,(function(e){return e===P.uid?void 0:P.uid})),className:"clickable loop-no-interrupt"},c===P.uid?G:"[Romaji]")),f.createElement(N.Z,{className:{"loop-no-interrupt":!0},breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:U({},j?{"fs-display-6":!0}:Z({},ee?"fs-display-6":"h3",!0)),onClick:Y?void 0:(0,q.kP)(i,(function(e){return e===P.uid?void 0:P.uid}))},o===P.uid||Y?J:B),f.createElement("div",{className:"d-flex justify-content-center"},X))}H.propTypes={vocabulary:s().object.isRequired,reCache:s().bool,showHint:s().bool};var J=r(7508),B=r(7835),Y=r(1243),Q=r(8090),$=r(8602),X=r(8816),ee=r(7672),te=r(9886),re=r(5231),ne=r(2409),oe=r(8301),ie=r(1436),ae=r(7625),ce=r(7);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e){var t,r,n=void 0!==e.value?e.value:30,o=se((0,f.useState)(n),2),i=o[0],a=o[1];(0,f.useEffect)((function(){a(n)}),[n,a]);var c=i/100,l=[255,(0,ce.t7)(0,255,c),0],u=[(0,ce.t7)(255,0,c),255,0],s=[13,(0,ce.t7)(255,110,c),(0,ce.t7)(0,256,c)],p=[(0,ce.t7)(l[0],u[0],c),(0,ce.t7)(l[1],u[1],c),(0,ce.t7)(l[2],u[2],c)],v=[(0,ce.t7)(u[0],s[0],c),(0,ce.t7)(u[1],s[1],c),(0,ce.t7)(u[2],s[2],c)],d=se([(0,ce.t7)(p[0],v[0],c),(0,ce.t7)(p[1],v[1],c),(0,ce.t7)(p[2],v[2],c)].map((function(e){return Math.floor(e)})),3),m="rgb("+d[0]+","+d[1]+","+d[2]+",0.25)",h=[{value:k.YZ},{value:k.$t}],g=(0,q.iP)(),b=se((0,f.useState)(-1),2),w=b[0],E=b[1],j=(0,f.useRef)(null),O=(0,ne.YF)({placement:"top",middleware:[(0,oe.cv)({mainAxis:8,crossAxis:10}),(0,oe.uY)(),(0,ne.x7)({element:j})]}),x=O.x,P=O.y,A=O.strategy,T=O.refs,N=O.middlewareData,L=O.update;return(0,f.useEffect)((function(){L()}),[L,g.height,g.width,e.manualUpdate]),f.createElement(f.Fragment,null,f.createElement("div",{ref:T.setReference,className:"sm-icon-grp clickable","aria-label":"Set difficulty",onClick:function(){E((function(e){e>0&&clearTimeout(e);var t=setTimeout((function(){return E(-1)}),3500);return Number(t)}))}},f.createElement(ae.G,{icon:ie.scR})),f.createElement("div",{id:"tooltip",ref:T.setFloating,style:{height:"200px",position:A,top:null!=P?P:0,left:null!=x?x:0,width:"max-content"},className:S()(ue({invisible:w<0,"tooltip-fade":w<0},Y.pK,!0))},f.createElement(y.ZP,{sx:{color:m},orientation:"vertical",value:i,onChange:function(e,t){clearTimeout(w),E(0),"number"==typeof t&&a(t)},onChangeCommitted:function(t,r){var n=setTimeout((function(){return E(-1)}),1e3);E(Number(n)),"function"==typeof e.onChange&&"number"==typeof r&&e.onChange(r)},marks:h,step:10,valueLabelFormat:function(e){return e>k.$t?"Pass":"Fail"}}),f.createElement("div",{ref:j,id:"arrow",style:{position:A,height:8,width:8,bottom:-4,left:8+(null!==(t=null===(r=N.arrow)||void 0===r?void 0:r.x)&&void 0!==t?t:0)}})))}pe.propTypes={value:s().number,onChange:s().func,manualUpdate:s().string};var ve=r(7588),de=r(3653);function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oe(n.key),n)}}function Oe(e){var t=function(e,t){if("object"!==me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===me(t)?t:String(t)}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function xe(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var Te={location:"/vocabulary/",label:"Vocabulary"},Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(y,e);var t,r,c,u,s,p=(u=y,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(u);if(s){var r=Ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return xe(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=p.call(this,e)).loopAbortControllers,t.loopQuitTimer,t.loopQuitMs=15e3,t.state={errorMsgs:[],errorSkipIndex:-1,lastNext:Date.now(),selectedIndex:0,showHint:!1,filteredVocab:[],frequency:[],recacheAudio:!1,jbare:[],ebare:[],loop:0,loopQuitCount:t.loopQuitMs/1e3},t.props,t.setState,0===t.props.vocab.length&&t.props.getVocabulary(),t.gotoNext=t.gotoNext.bind(Pe(t)),t.gotoNextSlide=t.gotoNextSlide.bind(Pe(t)),t.gotoPrev=t.gotoPrev.bind(Pe(t)),t.setOrder=t.setOrder.bind(Pe(t)),t.updateReinforcedUID=t.updateReinforcedUID.bind(Pe(t)),t.startMove=t.startMove.bind(Pe(t)),t.inMove=t.inMove.bind(Pe(t)),t.endMove=t.endMove.bind(Pe(t)),t.swipeActionHandler=t.swipeActionHandler.bind(Pe(t)),t.beginLoop=t.beginLoop.bind(Pe(t)),t.looperSwipe=t.looperSwipe.bind(Pe(t)),t.abortLoop=t.abortLoop.bind(Pe(t)),t.arrowKeyPress=t.arrowKeyPress.bind(Pe(t)),t.getElapsedTimedPlay=t.getElapsedTimedPlay.bind(Pe(t)),t}return t=y,c=[{key:"getDerivedStateFromError",value:function(e){var t=void 0!==e.cause&&[{msg:JSON.stringify(e.cause).replaceAll(",",", "),css:"px-4"}]||[];return{errorMsgs:[{msg:e.name+": "+e.message,css:"px-2"}].concat(we(t)).map((function(e){return ge(ge({},e),{},{lvl:v.x6.ERROR})}))}}}],(r=[{key:"componentDidMount",value:function(){var e=this;this.props.vocab&&this.props.vocab.length>0&&this.setOrder(),document.addEventListener("keydown",this.arrowKeyPress,!0),(0,X.$T)("Vocabulary Loop"),(0,X.gI)("paused");var t=[["play",function(){e.state.loop&&(e.beginLoop(),(0,X.gI)("playing"))}],["pause",function(){e.state.loop&&(e.abortLoop()?e.forceUpdate():(0,X.gI)("paused"))}],["stop",function(){e.state.loop&&(e.abortLoop()?e.forceUpdate():(0,X.gI)("paused"))}],["previoustrack",function(){e.state.loop&&(e.abortLoop(),e.looperSwipe("right"))}],["nexttrack",function(){e.state.loop&&(e.abortLoop(),e.looperSwipe("left"))}]];(0,X.aw)(t)}},{key:"componentDidUpdate",value:function(e,t){var r=this;if(this.props.vocab.length!==e.vocab.length&&this.setOrder(),this.props.vocab.length>0&&this.props.termsOrder!=e.termsOrder&&this.setOrder(),(this.props.activeGroup.length!=e.activeGroup.length||this.props.activeGroup.some((function(t){return!e.activeGroup.includes(t)}))||e.activeGroup.some((function(e){return!r.props.activeGroup.includes(e)})))&&this.setOrder(),this.props.frequency.uid!=e.frequency.uid||this.props.frequency.count!=e.frequency.count)if(this.props.filterType===v.Lx.FREQUENCY&&0===this.props.frequency.count)this.setOrder();else{var n=this.state.filteredVocab.map((function(e){return e.uid})).reduce((function(e,t){var n;return!0===(null===(n=r.props.repetition[t])||void 0===n?void 0:n.rein)&&(e=[].concat(we(e),[t])),e}),[]);this.setState({frequency:n})}if(this.state.reinforcedUID!==t.reinforcedUID||this.state.selectedIndex!==t.selectedIndex){var o,i=t.reinforcedUID||(0,k.vr)(t.selectedIndex,this.state.order,this.state.filteredVocab);if(this.state.loop>0&&void 0!==this.state.tpAnswered)if("reset"===this.state.tpBtn)!0===(null===(o=this.props.repetition[i])||void 0===o?void 0:o.pron)&&void 0!==this.state.tpElapsed&&this.props.setWordTPCorrect(i,this.state.tpElapsed,{pronunciation:null});else if(!0===this.state.tpAnswered)void 0!==this.state.tpElapsed&&this.props.setWordTPCorrect(i,this.state.tpElapsed);else{var a={pronunciation:"pronunciation"===this.state.tpBtn||void 0};this.props.setWordTPIncorrect(i,a)}if((0,k.Zc)(t.lastNext)){var c=(0,k.cc)(i,this.props.vocab),l=i!==t.reinforcedUID,u=this.state.tpAnswered,s=void 0!==t.reinforcedUID;this.props.updateSpaceRepWord({uid:i,shouldIncrement:l}).then((function(e){var t=e.payload,n=t.map,o=t.prevMap,a=o&&o[i]&&o[i].d,l=be({},i,ge(ge({},n[i]),{},{d:a}));void 0!==u?(0,$.lP)(r.props.logger,c,l,{frequency:s}):(0,$.Ps)(r.props.logger,c,l,{frequency:s})}))}this.state.loop>0&&void 0===this.loopAbortControllers&&(void 0!==this.loopQuitTimer&&(this.loopQuitTimer.forEach((function(e){clearTimeout(e)})),this.loopQuitTimer=void 0),this.setState({loopQuitCount:this.loopQuitMs/1e3,tpAnswered:void 0,tpBtn:void 0,tpTimeStamp:void 0,tpElapsed:void 0}),(0,k.u3)(t.lastNext)&&this.beginLoop()),this.setState({showHint:!1,errorMsgs:[]})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.arrowKeyPress,!0),this.abortLoop(),(0,X.CU)()}},{key:"componentDidCatch",value:function(e){var t,r,n=this,o=e.cause;switch(o&&o.code){case"InvalidPronunciation":if(this.props.debugLevel!==v.x6.OFF&&this.state.errorSkipIndex<this.state.filteredVocab.length-1){var i;this.props.logger("Error: "+e.message,v.x6.ERROR),this.props.logger("["+(null===(i=o.value)||void 0===i?void 0:i.english)+"] Skipped",v.x6.ERROR),this.abortLoop();var a=this.state.filteredVocab.length;t=(a+this.state.selectedIndex+1)%a}break;case"DeviceMotionEvent":this.props.logger("Error: "+e.message,v.x6.ERROR)}if(this.state.reinforcedUID){var c,l=this.state.filteredVocab.findIndex((function(e){return e.uid===n.state.reinforcedUID}));r=null===(c=this.state.order)||void 0===c?void 0:c.indexOf(l)}else r=this.state.selectedIndex;this.setState(ge(ge({reinforcedUID:void 0},t?{selectedIndex:t}:{}),{},{errorSkipIndex:r,errorMsgs:[]}))}},{key:"abortLoop",value:function(){var e=!1;return this.loopAbortControllers&&this.loopAbortControllers.length>0&&(e=!0,this.loopAbortControllers.forEach((function(e){e.abort()})),this.loopAbortControllers=void 0,(0,X.gI)("paused")),e}},{key:"beginLoop",value:function(){var e=this;(0,X.gI)("playing"),this.abortLoop();var t,r,n=new AbortController,o=new AbortController,i=new AbortController,a=new AbortController,c=new AbortController,l=function(){void 0!==e.state.tpTimeStamp&&(e.abortLoop(),e.setState({loop:0,tpTimeStamp:void 0,tpAnimation:void 0}))},u=function(t){try{(0,k.Mm)(t,e.props.motionThreshold,l)}catch(t){t instanceof Error&&e.componentDidCatch(t)}};this.props.motionThreshold>0&&(0,k.HG)((function(){window.addEventListener("devicemotion",u)}),this.componentDidCatch),this.loopAbortControllers=[n,o,i,a,c],this.forceUpdate(),this.props.practiceSide?(t=function(t){return e.looperSwipe("down",t)},r=function(t){return(0,k.nD)(e.state.loop,(function(){return e.looperSwipe("up",t)}),1500,t)}):(t=function(t){return e.looperSwipe("up",t)},r=function(t){return(0,k.nD)(e.state.loop,(function(){return e.looperSwipe("down",t)}),1500,t)});var s=function(t,r){e.setState((function(e){return{tpAnimation:void 0===e.tpAnimation||100-e.tpAnimation<1?t/r*100:e.tpAnimation+t/r*100}}))};(0,k.wO)(700,n).then((function(){return e.setState({tpTimeStamp:Date.now()}),t(o).catch((function(e){var t;if("UserAborted"===(null===(t=e.cause)||void 0===t?void 0:t.code))throw e}))})).then((function(){return(0,k.wO)(3e3,i,s)})).then((function(){return e.setState({tpAnimation:void 0,tpTimeStamp:void 0}),r(a).then((function(){return e.loopAbortControllers=void 0,e.looperSwipe("left")})).catch((function(t){var r;if("UserAborted"!==(null===(r=t.cause)||void 0===r?void 0:r.code))return e.loopAbortControllers=void 0,e.looperSwipe("left")}))})).then((function(){return(0,k.wO)(100,c)})).catch((function(){})).then((function(){e.props.motionThreshold>0&&window.removeEventListener("devicemotion",u)}))}},{key:"looperSwipe",value:function(e,t){var r;return this.state.loop>0&&(r=this.swipeActionHandler(e,t)),r||Promise.reject("loop disabled")}},{key:"arrowKeyPress",value:function(e){for(var t=this,r=[["ArrowRight",function(){return t.swipeActionHandler("left")}],["ArrowLeft",function(){return t.swipeActionHandler("right")}],["ArrowUp",function(){return t.swipeActionHandler("up")}],["ArrowDown",function(){return t.swipeActionHandler("down")}],["MediaPlayPause",function(){}],[" ",this.props.flipVocabularyPracticeSide]],n=function(){var r=he(i[o],2),n=r[0],a=r[1];if(n===e.key){var c=a,l=function(){},u=function(){setTimeout((function(){t.setState({tpAnimation:0}),setTimeout((function(){t.setState((function(e){if(0===e.tpAnimation)return{tpAnimation:void 0}}))}),1e3)}),1500)};if(" "!==n)if(t.abortLoop()){var s,f,p=void 0===t.state.tpAnimation&&void 0!==t.state.tpTimeStamp,v=void 0===t.state.tpAnimation&&void 0===t.state.tpTimeStamp;if("ArrowUp"===n&&t.props.practiceSide||"ArrowDown"===n&&!t.props.practiceSide)f=t.getElapsedTimedPlay().tpElapsed,s=!0,p?u=l:v&&(s=!1,c=l,u=l);else{v&&(u=l);var d=setInterval((function(){t.setState((function(e){var r=1===e.loopQuitCount;return r&&clearTimeout(d),{loopQuitCount:r?t.loopQuitMs/1e3:e.loopQuitCount-1,loop:r?0:e.loop}}))}),1e3);t.loopQuitTimer=[d]}t.setState({tpAnswered:s,tpElapsed:f}),u()}else(0,X.gI)("paused");return c(),"break"}},o=0,i=r;o<i.length&&"break"!==n();o++);}},{key:"setOrder",value:function(){var e,t=this,r=Object.keys(this.props.repetition).reduce((function(e,r){return!0===t.props.repetition[r].rein&&(e=[].concat(we(e),[r])),e}),[]),n=(0,k.Dm)(this.props.filterType,this.props.vocab,r,this.props.activeGroup,this.props.toggleVocabularyFilter),o=[],i=[];if(this.props.termsOrder===v.vl.RANDOM)this.props.logger("Randomized",v.x6.DEBUG),e=(0,k.tq)(n);else if(this.props.termsOrder===v.vl.VIEW_DATE)this.props.logger("Date Viewed",v.x6.DEBUG),e=(0,k.EL)(n,this.props.repetition);else if(this.props.termsOrder===v.vl.GAME)if(this.props.logger("Space Rep",v.x6.DEBUG),!0===this.props.reinforce){var a=he(l()(n,(function(e){var r;return!0===(null===(r=t.props.repetition[e.uid])||void 0===r?void 0:r.rein)})),2),c=a[0],u=a[1];n=[].concat(we(u),we(c));var s=(0,k.rU)(u,this.props.repetition),f=c.map((function(e,t){return u.length+t}));e=[].concat(we(s),we(f))}else e=(0,k.rU)(n,this.props.repetition);else if(this.props.termsOrder===v.vl.DIFFICULTY){this.props.logger("Difficulty",v.x6.DEBUG);var p=n.filter((function(e){var r,n=t.props.memoThreshold,o=null===(r=t.props.repetition[e.uid])||void 0===r?void 0:r.difficulty;return void 0===o&&(n<0?-1*n<k.$t:n>k.$t)||(n<0?o>-1*n:o<n)}));p.length>0?n=p:this.props.logger("Excluded all terms. Removing memorized subfiltering.",v.x6.WARN),e=(0,k.J0)(n,this.props.repetition)}else{this.props.logger("Alphabetic",v.x6.DEBUG);var d=(0,k.fx)(n);e=d.order,o=d.jOrder,i=d.eOrder}var m=n.map((function(e){return e.uid})).reduce((function(e,r){var n;return!0===(null===(n=t.props.repetition[r])||void 0===n?void 0:n.rein)&&(e=[].concat(we(e),[r])),e}),[]);this.setState({filteredVocab:n,frequency:m,order:e,jbare:o,ebare:i,scrollJOrder:!0})}},{key:"gotoNext",value:function(){var e=this.state.filteredVocab.length,t=(e+this.state.selectedIndex+1)%e;t===this.state.errorSkipIndex&&(t=(e+t+1)%e),this.setState({lastNext:Date.now(),reinforcedUID:void 0,selectedIndex:t})}},{key:"gotoNextSlide",value:function(){(0,k.hY)(this.props.reinforce,this.props.filterType,this.state.frequency,this.state.filteredVocab,this.state.reinforcedUID,this.updateReinforcedUID,this.gotoNext,this.props.removeFrequencyWord)}},{key:"gotoPrev",value:function(){var e,t=this.state.filteredVocab.length,r=this.state.selectedIndex-1;(e=this.state.reinforcedUID?this.state.selectedIndex:(t+r)%t)===this.state.errorSkipIndex&&(e=(t+e-1)%t),this.setState({lastNext:Date.now(),reinforcedUID:void 0,selectedIndex:e})}},{key:"updateReinforcedUID",value:function(e){this.setState({reinforcedUID:e})}},{key:"startMove",value:function(e){if(!(0,Y.jE)(e)){var t=(0,Y.IY)(e,{verticalSwiping:!0,touchThreshold:this.props.swipeThreshold});this.setState({swiping:t})}}},{key:"inMove",value:function(e){if(this.state.swiping){var t=(0,Y.Si)(e,this.state.swiping);this.setState({swiping:t})}}},{key:"endMove",value:function(e){var t,r,n=this;if(this.state.swiping){var o=this.swipeActionHandler,i=function(){},a=function(){setTimeout((function(){n.setState({tpAnimation:0}),setTimeout((function(){n.setState((function(e){if(0===e.tpAnimation)return{tpAnimation:void 0}}))}),1e3)}),1500)},c=e.target,l=Array.from(document.getElementsByClassName("loop-stop-btn")).some((function(e){return e.contains(c)})),u=Array.from(document.getElementsByClassName("loop-no-interrupt")).some((function(e){return e.contains(c)})),s=void 0===(null===(t=this.state.swiping)||void 0===t||null===(r=t.touchObject)||void 0===r?void 0:r.swipeLength)||this.state.swiping.touchObject.swipeLength<this.state.swiping.touchThreshold;if(l)this.setState({loop:0});else if(!u||!s){if(this.abortLoop()){var f,p,v=(0,Y.Yg)(this.state.swiping.touchObject,!0),d=void 0===this.state.tpAnimation&&void 0!==this.state.tpTimeStamp,m=void 0!==this.state.tpAnimation&&void 0!==this.state.tpTimeStamp,h=void 0===this.state.tpAnimation&&void 0===this.state.tpTimeStamp;if("up"===v||"down"===v)if(p=this.getElapsedTimedPlay().tpElapsed,f=!0,d)a=i;else if(m){var y=this.props.practiceSide?"up":"down";o=function(e,t){return n.swipeActionHandler(y,t)}}else h&&(f=!1,o=i,a=i);else{h&&(a=i);var g=setInterval((function(){n.setState((function(e){var t=1===e.loopQuitCount;return t&&clearTimeout(g),{loopQuitCount:t?n.loopQuitMs/1e3:e.loopQuitCount-1,loop:t?0:e.loop}}))}),1e3);this.loopQuitTimer=[g]}this.setState({tpAnswered:f,tpElapsed:p}),a()}(0,Y.Kd)(e,ge(ge({},this.state.swiping),{},{onSwipe:o}))}}}},{key:"getElapsedTimedPlay",value:function(){var e,t=this.state.reinforcedUID||(0,k.vr)(this.state.selectedIndex,this.state.order,this.state.filteredVocab),r=(0,k.cc)(t,this.props.vocab),n=(0,$.xr)(r.english,30);if(void 0!==this.state.tpTimeStamp){var o=this.state.tpTimeStamp;e=Math.abs(Date.now()-o);var i=" "+(0,$.p1)(e)+"s";this.props.logger("Timed Play ["+n+"]"+i,v.x6.DEBUG)}else this.props.logger("Timed Play ["+n+"] X-( ",v.x6.DEBUG);return{tpElapsed:e}}},{key:"swipeActionHandler",value:function(e,t){var r;if("left"===e)this.gotoNextSlide(),r=Promise.all([Promise.resolve()]);else if("right"===e)this.gotoPrev(),r=Promise.all([Promise.resolve()]);else{var n=this.state.reinforcedUID||(0,k.vr)(this.state.selectedIndex,this.state.order,this.state.filteredVocab),o=(0,k.cc)(n,this.props.vocab),i=this.state.recacheAudio?"/override_cache":"";if("up"===e){var a;if("Verb"===o.grp&&"dictionary"!==this.props.verbForm){var c=(0,k.dP)(o,this.props.verbForm);a=ge(ge({},o),{},{japanese:c.toString(),pronounce:o.pronounce&&c.getPronunciation(),form:this.props.verbForm})}else if(d.TZ.parse(o).isNaAdj()){var l=this.state.naFlip,u=d.TZ.parse(o).append(l&&"な");a=ge(ge({},o),{},{japanese:u.toString(),pronounce:o.pronounce&&u.getPronunciation(),form:l}),this.setState((function(e){return{naFlip:e.naFlip?void 0:"-na"}}))}else a=o;var s=(0,ee.b1)(J.vT+i,{tl:"ja",q:(0,d._I)(a),uid:(0,k.gW)(a)});r=(0,Q.R$)(s,t)}else if("down"===e){var f=o.english,p=(0,ee.b1)(J.vT+i,{tl:"en",q:f,uid:o.uid+".en"});r=(0,Q.R$)(p,t)}}return r||Promise.reject()}},{key:"render",value:function(){var e,t=this;if(this.state.errorMsgs.length>0){var r=(0,$.zV)(this.state),c=(0,$.zV)(this.props),l=[].concat(we(this.state.errorMsgs),[{msg:"props:",lvl:v.x6.WARN,css:"px-2"},{msg:c,lvl:v.x6.WARN,css:"px-4"},{msg:"state:",lvl:v.x6.WARN,css:"px-2"},{msg:r,lvl:v.x6.WARN,css:"px-4"}]);return f.createElement(ve.R,{next:this.gotoNext,prev:this.gotoPrev},f.createElement("div",{className:"d-flex flex-column justify-content-around"},f.createElement(re.Z,{messages:l})))}if(this.state.filteredVocab.length<1)return f.createElement(m.n,{addlStyle:"main-panel"});var u,s,p,y=this.state.reinforcedUID||(0,k.vr)(this.state.selectedIndex,this.state.order,this.state.filteredVocab),g=(0,k.cc)(y,this.props.vocab),b=!0===(null===(e=this.props.repetition[g.uid])||void 0===e?void 0:e.rein),w="Verb"===g.grp,j=d.TZ.parse(g),S=j.hasFurigana(),O=j.isHintable(3),x=void 0!==g.grp&&""!==g.grp,P=this.state.showHint,A=!P&&this.props.practiceSide?O:x;this.state.scrollJOrder?(u=this.state.selectedIndex,s=this.state.jbare):(u=this.state.jbare[this.state.selectedIndex].idx,s=this.state.ebare),this.state.loop>0&&void 0===this.loopAbortControllers?p=f.createElement(te.Qp,{countDown:void 0!==this.loopQuitTimer?this.state.loopQuitCount:void 0,onClick:function(){if(void 0!==t.loopQuitTimer){var e=he(t.loopQuitTimer,1)[0];clearInterval(e),t.setState({loopQuitCount:t.loopQuitMs/1e3})}t.beginLoop()}}):this.state.loop>0&&void 0!==this.loopAbortControllers&&(p=f.createElement(te.Vv,{onClick:function(){t.abortLoop(),t.setState({loop:0,tpTimeStamp:void 0,tpAnimation:void 0})}}));var T,N,L=(this.state.selectedIndex+1)/this.state.filteredVocab.length*100,C=[f.createElement("div",{key:0,className:"vocabulary main-panel h-100"},f.createElement("div",{className:"d-flex justify-content-between h-100",onTouchStart:this.props.swipeThreshold>0?this.startMove:void 0,onTouchMove:this.props.swipeThreshold>0?this.inMove:void 0,onTouchEnd:this.props.swipeThreshold>0?this.endMove:void 0},f.createElement(h.Z,{ariaLabel:"Previous",action:this.gotoPrev},f.createElement(a.wyc,{size:16})),w&&this.props.autoVerbView?f.createElement(G,{verb:g,reCache:this.state.recacheAudio,linkToOtherTerm:function(e){return t.setState({reinforcedUID:e})},showHint:P}):f.createElement(H,{vocabulary:g,reCache:this.state.recacheAudio,showHint:P}),f.createElement(h.Z,{ariaLabel:"Next",action:this.gotoNextSlide},f.createElement(a.XCv,{size:16}))))];return C=this.state.showPageBar?[].concat(we(C),[f.createElement(o.Z,{in:this.state.showPageBar,timeout:500,key:3},f.createElement(i.Z,{style:{position:"absolute",bottom:"25vh",left:"65vw"}},f.createElement("div",{onClick:function(){t.setState((function(e){return{scrollJOrder:!e.scrollJOrder}}))}},this.state.scrollJOrder?"JP":"EN"))),f.createElement("div",{key:4,className:"page-bar flex-shrink-1",onTouchStart:function(){t.props.scrollingState(!0)},onTouchEnd:function(){t.props.scrollingState(!1)}},f.createElement(E,{initial:u,list:s,setIndex:function(e){if(t.state.scrollJOrder)t.setState({selectedIndex:e});else{var r=t.state.ebare[e].idx;t.setState({selectedIndex:r})}}}))]):[].concat(we(C),[f.createElement("div",{key:1,className:"options-bar mb-3 flex-shrink-1"},f.createElement("div",{className:"row opts-max-h"},f.createElement("div",{className:"col"},f.createElement("div",{className:"d-flex justify-content-start"},f.createElement(de.uY,{toggle:this.props.practiceSide,action:function(){t.abortLoop()&&t.setState({tpTimeStamp:void 0,tpAnimation:void 0}),t.props.flipVocabularyPracticeSide()}}),f.createElement(de.Ro,{active:this.state.recacheAudio,action:function(){!1===t.state.recacheAudio&&(t.setState({recacheAudio:!0}),setTimeout((function(){t.setState({recacheAudio:!1})}),2e3))}}),f.createElement(de.ph,{visible:w,toggleAutoVerbView:this.props.toggleAutoVerbView,autoVerbView:this.props.autoVerbView}),f.createElement("div",{className:"sm-icon-grp"},f.createElement(te.e2,{active:this.state.loop>0,loop:this.state.loop,onClick:function(){t.abortLoop(),t.loopQuitTimer=void 0,t.setState((function(e){var t=3===e.loop;return{loop:t?0:e.loop+1,tpAnswered:t?void 0:e.tpAnswered}}))}})),f.createElement("div",{className:"sm-icon-grp"},p))),f.createElement("div",{className:"col text-center"},f.createElement(de.Qp,{visible:void 0!==this.state.reinforcedUID&&""!==this.state.reinforcedUID})),f.createElement("div",{className:"col"},f.createElement("div",{className:"d-flex justify-content-end"},f.createElement(de.lh,{visible:void 0!==this.state.tpAnswered,hover:this.state.tpBtn,prevMissPronu:!0===(null===(T=this.props.repetition[y])||void 0===T?void 0:T.pron),onPronunciation:function(){var e;!0===(null===(e=t.props.repetition[y])||void 0===e?void 0:e.pron)?t.setState((function(e){return{tpAnswered:!1,tpBtn:"reset"===e.tpBtn?void 0:"reset"}})):t.setState((function(e){return{tpAnswered:!1,tpBtn:"pronunciation"===e.tpBtn?void 0:"pronunciation"}}))},onIncorrect:function(){t.setState((function(e){return{tpAnswered:!1,tpBtn:"incorrect"===e.tpBtn?void 0:"incorrect"}}))},onReset:function(){t.setState((function(e){return{tpAnswered:!1,tpBtn:"reset"===e.tpBtn?void 0:"reset"}}))}}),f.createElement(pe,{value:null===(N=this.props.repetition[y])||void 0===N?void 0:N.difficulty,onChange:function(e){return t.props.setWordDifficulty(y,e)},manualUpdate:y}),f.createElement(de.y8,{visible:this.props.hintEnabled,active:A,setShowHint:function(e){return t.setState({showHint:e})}}),f.createElement(de.A,{active:S,toggle:(0,k.$q)(g.uid,this.props.furigana).furigana.show,toggleFurigana:function(e){return t.props.furiganaToggled(e)},vocabulary:g}),f.createElement(de.nK,{addFrequencyTerm:this.props.addFrequencyWord,removeFrequencyTerm:this.props.removeFrequencyWord,toggle:b,term:g,count:this.state.frequency.length}))))),f.createElement("div",{key:2,className:"progress-line flex-shrink-1",onClick:function(){t.props.termsOrder===v.vl.ALPHABETIC&&(t.setState({showPageBar:!0}),setTimeout((function e(){t.props.scrollingDone?t.setState({showPageBar:!1}):setTimeout(e,4e3)}),4e3))}},f.createElement(n.Z,{variant:void 0===this.state.tpAnimation?"determinate":"buffer",value:void 0===this.state.tpAnimation?L:0,valueBuffer:void 0===this.state.tpAnimation?void 0:this.state.tpAnimation,color:b?"secondary":"primary"}))]),C}}])&&Se(t.prototype,r),c&&Se(t,c),Object.defineProperty(t,"prototype",{writable:!1}),y}(f.Component);Ne.propTypes={vocab:s().array.isRequired,verbForm:s().string,activeGroup:s().array,frequency:s().object,hintEnabled:s().bool,romajiActive:s().bool,practiceSide:s().bool,termsOrder:s().number,scrollingDone:s().bool,filterType:s().number,memoThreshold:s().number,autoVerbView:s().bool,reinforce:s().bool,repetition:s().object,furigana:s().object,swipeThreshold:s().number,motionThreshold:s().number,debugLevel:s().number,flipVocabularyPracticeSide:s().func.isRequired,logger:s().func,furiganaToggled:s().func,setWordDifficulty:s().func,setWordTPIncorrect:s().func,updateSpaceRepWord:s().func,setWordTPCorrect:s().func,getVocabulary:s().func.isRequired,addFrequencyWord:s().func.isRequired,removeFrequencyWord:s().func.isRequired,scrollingState:s().func,toggleAutoVerbView:s().func,toggleVocabularyFilter:s().func};const Le=(0,p.$j)((function(e){return{swipeThreshold:e.global.swipeThreshold,motionThreshold:e.global.motionThreshold,debugLevel:e.global.debug,scrollingDone:!e.global.scrolling,vocab:e.vocabulary.value,verbForm:e.vocabulary.verbForm,practiceSide:e.vocabulary.setting.practiceSide,termsOrder:e.vocabulary.setting.ordered,romajiActive:e.vocabulary.setting.romaji,hintEnabled:e.vocabulary.setting.hintEnabled,filterType:e.vocabulary.setting.filter,memoThreshold:e.vocabulary.setting.memoThreshold,frequency:e.vocabulary.setting.frequency,activeGroup:e.vocabulary.setting.activeGroup,autoVerbView:e.vocabulary.setting.autoVerbView,reinforce:e.vocabulary.setting.reinforce,repetition:e.vocabulary.setting.repetition,furigana:e.vocabulary.setting.repetition}}),{getVocabulary:x.Rz,flipVocabularyPracticeSide:x.$u,addFrequencyWord:x.S5,removeFrequencyWord:x.xz,scrollingState:B.lv,toggleAutoVerbView:x.eK,toggleVocabularyFilter:x.ZZ,furiganaToggled:x._n,updateSpaceRepWord:x.Wo,setWordTPCorrect:x.Gy,setWordTPIncorrect:x.d1,setWordDifficulty:x.kn,logger:B.kg})(Ne)},2209:(e,t,r)=>{r.d(t,{_:()=>n});var n="userSettings"},1513:(e,t,r)=>{r.d(t,{TZ:()=>m,Wp:()=>y,_I:()=>b});var n,o=r(4184),i=r.n(o),a=r(7294),c=r(1410),l=r(7178);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function v(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}n=Symbol.toStringTag;var m=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._furigana=t,this._kanji=r,this._parseObj={furiganas:[],kanjis:[],okuriganas:[],startsWKana:!1},this.slang=!1,this.keigo=!1,this.adj=""}var t,r;return t=e,r=[{key:n,get:function(){return"JapaneseText"}},{key:"furigana",get:function(){return this._furigana}},{key:"furigana",set:function(e){this._furigana=e}},{key:"kanji",get:function(){return this._kanji}},{key:"kanji",set:function(e){this._kanji=e}},{key:"parseObj",get:function(){return 0===this._parseObj.furiganas.length&&0===this._parseObj.kanjis.length&&0===this._parseObj.okuriganas.length&&!1===this._parseObj.startsWKana&&(this.hasFurigana()?this._parseObj=y(this.getPronunciation(),this.getSpelling()):this._parseObj={okuriganas:[this.getSpelling()],startsWKana:!0,kanjis:[],furiganas:[]}),this._parseObj}},{key:"hasFurigana",value:function(){return!!this._kanji}},{key:"getSpelling",value:function(){return this._kanji?this._kanji:this._furigana}},{key:"getPronunciation",value:function(){return this._furigana}},{key:"getObject",value:function(){return{furigana:this._furigana,kanji:this._kanji}}},{key:"isSlang",value:function(){return!0===this.slang}},{key:"isKeigo",value:function(){return!0===this.keigo}},{key:"isNaAdj",value:function(){return"na"===this.adj}},{key:"isIAdj",value:function(){return"i"===this.adj}},{key:"debug",value:function(){return JSON.stringify(this)}},{key:"append",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.hasFurigana()?new e(this.getPronunciation()+t,this.getSpelling()+t):new e(this.getSpelling()+t)}},{key:"toString",value:function(){return this._furigana+(this._kanji?"\n"+this._kanji:"")}},{key:"isHintable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=!0,r=this;if(r.hasFurigana()){var n=r.getPronunciation(),o=r.getSpelling();if(n.length<e)t=!1;else try{y(n,o)}catch(e){console.log(e),t=!1}}else{var i=r.getSpelling();i.length<e&&(t=!1)}return t}},{key:"getHint",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i="invisible",a="hint-mora",c={shown:a,hidden:i};if(this.isHintable(n))if(this.hasFurigana()){var l=this.getPronunciation(),u=this.getSpelling(),s=y(l,u),f=s.kanjis,p=s.furiganas,v=s.okuriganas,d=s.startsWKana;r=t(c,f,p,v,d,o)}else{var m=this.getSpelling();r=e(c,m,o)}else r=void 0;return r}},{key:"toHTML",value:function(e){var t,r,n,o=!1===(null==e||null===(t=e.furigana)||void 0===t?void 0:t.show),c=null==e||null===(r=e.furigana)||void 0===r?void 0:r.toggle,u=i()({"incorrect-color":!0,"d-block":!0}),s=a.createElement("span",null,a.createElement("span",{className:u},this.getPronunciation()),a.createElement("span",null,this.getSpelling()));if(this.hasFurigana())try{var f=this.parseObj,p=f.kanjis,v=f.furiganas,d=f.okuriganas,m=f.startsWKana,h=(0,l.je)(this.parseObj),y=i()({clickable:!!c})||void 0,g=c||void 0,b=o?"transparent-font":void 0;n=a.createElement("span",{className:y,onClick:g},h.map((function(e,t){var r=(0,l.re)(p[t]),n=(0,l.re)(),o=(0,l.re)(v[t],b),i=(0,l.re)(),a=(0,l.re)(d[t]),c=(0,l.re)();return(0,l.v5)(t,{sk:r,hk:n},{sf:o,hf:i},{so:a,ho:c},m)})))}catch(e){console.error(e),n=s}else n=a.createElement("span",null,this.getSpelling());return n}}],r&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){var r,n=e.japanese.split("\n");if("function"==typeof t)r=t(e);else{var o=s(n,2),i=o[0],a=o[1];r=new m(i,a)}return e.slang&&!0===e.slang&&(r.slang=!0),e.keigo&&!0===e.keigo&&(r.keigo=!0),!e.adj||"na"!==e.adj&&"i"!==e.adj||(r.adj=e.adj),r}function y(e,t){var r,n,o,i;try{var a=g(e,t);r=a.kanjis,n=a.furiganas,o=a.okuriganas,i=a.startsWKana}catch(a){var l;if(a instanceof Error&&"ParseError"===(null===(l=a.cause)||void 0===l?void 0:l.code))try{var u=g(e.split("").reverse().join(""),t.split("").reverse().join("")),s=u.kanjis,f=u.furiganas,p=u.okuriganas;return{kanjis:r=s.map((function(e){return e.split("").reverse().join("")})).reverse(),furiganas:n=f.map((function(e){return e.split("").reverse().join("")})).reverse(),okuriganas:o=p.map((function(e){return e.split("").reverse().join("")})).reverse(),startsWKana:i=!(0,c.AF)(t.charAt(0))}}catch(e){}throw a}return{kanjis:r,furiganas:n,okuriganas:o,startsWKana:i}}function g(e,t){if(t.split("").every((function(e){return(0,c.AF)(e)||(0,c.BE)(e)})))return{kanjis:[t],furiganas:[e],okuriganas:[],startsWKana:!1};var r=new RegExp(/\s/g),n=r.test(e)||r.test(t),o=!(0,c.AF)(t.charAt(0))&&!(0,c.IE)(t.charAt(0)),i=0,a=[],l=[],u=[],f="",p="",v="",d=!1;t.split("").forEach((function(r,o){if((0,c.AF)(r)||function(e,t,r){var n=r.charAt(e);return Number.isInteger((0,c.F8)(n))||Number.isInteger(Number.parseInt(n))&&!t.includes(n)&&!(0,c.AF)(n)&&!(0,c.f_)(n)&&!(0,c.xn)(n)&&e<r.length-1}(o,e,t))" "!==e.charAt(i)&&(f+=e.charAt(i))," "!==r&&(p+=r),d=!0,i++,""!==v&&(u.push(v),v=""),t.length-o==1&&(" "!==e.slice(i)&&(f+=e.slice(i)),a.push(f),l.push(p));else{if(d){for(;e.charAt(i)!=r;)if(" "!==e.charAt(i)&&(f+=e.charAt(i)),++i>e.length)throw new Error("The two phrases do not match"+(n?" (contains white space)":""),{cause:{code:"InputError",info:{input:{pronunciation:e,orthography:t},kanjis:l,furiganas:a,okuriganas:u}}});a.push(f),f=""}" "!==r&&(v+=r),""!==p&&(l.push(p),p=""),i++,d=!1}})),""!==v&&u.push(v);var m=function(e,t,r,n){var o,i;return n?(i=r.reduce((function(t,r,n){return t+r+(e[n]||"")}),""),o=r.reduce((function(e,r,n){return e+r+(t[n]||"")}),"")):(i=e.reduce((function(e,t,n){return e+t+(r[n]||"")}),""),o=t.reduce((function(e,t,n){return e+t+(r[n]||"")}),"")),[o,i]}(l,a,u,o),h=s(m,2),y=h[0],g=h[1],b=e.replaceAll(" ",""),w=t.replaceAll(" ","");if(y!==b||g!==w)throw new Error("Failed to parse text to build furigana"+(n?" (contains white space)":""),{cause:{code:"ParseError",info:{input:{pronunciation:e,orthography:t},output:{pronunciation:y,orthography:g}}}});return{kanjis:l,furiganas:a,okuriganas:u,startsWKana:o}}function b(e){var t;if(e.pronounce){if(!e.pronounce.split("").every((function(e){return(0,c.f_)(e)||(0,c.xn)(e)})))throw new Error("No valid pronunciation",{cause:{code:"InvalidPronunciation",value:e}});t=e.pronounce}else t=m.parse(e).getSpelling().replaceAll(" ","");return t}v(m,"parse",(function(e){return h(e)})),v(m,"parser",h)},1423:(e,t,r)=>{r.d(t,{R:()=>w});var n,o=r(6954),i=r(1410),a=r(1513);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=p(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},f.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function h(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}n=Symbol.toStringTag;var y,g,b,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(h,e);var t,r,c,u,p=(c=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(c);if(u){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function h(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(r=p.call(this,e,t)).trans=void 0,r.intr=void 0,r.exv=void 0,r}return t=h,(r=[{key:n,get:function(){return"JapaneseVerb"}},{key:"isExceptionVerb",value:function(){return void 0!==this.exv}},{key:"isIntransitive",value:function(){return void 0!==this.trans||!0===this.intr}},{key:"getTransitivePair",value:function(){return this.isIntransitive()&&this.trans?this.trans:void 0}},{key:"getIntransitivePair",value:function(){return this.isIntransitive()||"string"!=typeof this.intr?void 0:this.intr}},{key:"getVerbClass",value:function(){var e=f(m(h.prototype),"getPronunciation",this).call(this),t=f(m(h.prototype),"getSpelling",this).call(this);if(this.exv&&this.isExceptionVerb())return this.exv;var r=e.slice(-1),n=e.slice(-2,-1),o=(0,i.dv)(n).iVowel;return"する"===t.slice(-2)||"くる"===e||"だ"===e||"ある"===e?3:1===o&&"る"===r||3===o&&"る"===r?2:1}},{key:"getStem",value:function(){var e,t,r=o.Bw;f(m(h.prototype),"hasFurigana",this).call(this)&&(t=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-1));var n=f(m(h.prototype),"getPronunciation",this).call(this).slice(-1),a=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-1);if(1===this.getVerbClass()||"る"!==n){var c=(0,i.dv)(n).iConsonant;e=t?[a+r[c][1],t+r[c][1]]:[a+r[c][1]]}else{if("る"!==n)throw new Error("Unknown verb type");e=t?[a,t]:[a]}return e}},{key:"naiForm",value:function(){var e,t="ない",r=this.getVerbClass(),n=f(m(h.prototype),"getSpelling",this).call(this),c=f(m(h.prototype),"hasFurigana",this).call(this);if(1===r){var u=n[n.length-1],s=o.Bw,p=o.Be.indexOf("a"),v=(0,i.dv)(u).iConsonant,d=s[0===v?14:v][p]+t,y=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-1);if(c){var g=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(g+d,y+d)}else e=new a.TZ(y+d)}else if(2===r){var b=l(this.getStem(),2),w=b[0],E=b[1];e=E?new a.TZ(w+t,E+t):new a.TZ(w+t)}else if("来る"===n||"くる"===n)e=new a.TZ("こない","来ない");else if("する"===n)e=new a.TZ("しない");else if("ある"===n)e=new a.TZ("ない");else{if("する"!==n.slice(-2))throw new Error("Unknown exception verb type");var j=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-2);if(c){var S=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(S+"しない",j+"しない")}else e=new a.TZ(j+"しない")}return e}},{key:"saseruForm",value:function(){var e,t="せる",r=this.getVerbClass(),n=f(m(h.prototype),"getSpelling",this).call(this),c=f(m(h.prototype),"hasFurigana",this).call(this);if(1===r){var u=n[n.length-1],s=o.Bw,p=o.Be.indexOf("a"),v=(0,i.dv)(u).iConsonant,d=s[0===v?14:v][p]+t,y=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-1);if(c){var g=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(g+d,y+d)}else e=new a.TZ(y+d)}else if(2===r){"居る"!==n&&"いる"!==n||(e=new a.TZ("いる","居る"));var b=l(this.getStem(),2),w=b[0],E=b[1];e=c?new a.TZ(w+"さ"+t,E+"さ"+t):new a.TZ(w+"さ"+t)}else if("来る"===n||"くる"===n)e=new a.TZ("こさせる","来させる");else if("する"===n)e=new a.TZ("させる");else if("ある"===n)e=new a.TZ("ある");else{if("する"!==n.slice(-2))throw new Error("Unknown exception verb type");var j=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-2);if(c){var S=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(S+"させる",j+"させる")}else e=new a.TZ(j+"させる")}return e}},{key:"reruForm",value:function(){var e,t=this.getVerbClass(),r=f(m(h.prototype),"getSpelling",this).call(this),n=f(m(h.prototype),"hasFurigana",this).call(this);if(this.isIntransitive()||void 0!==this.getIntransitivePair())return null;if(1===t){var c=r[r.length-1],u=o.Bw,s=o.Be.indexOf("e"),p=u[(0,i.dv)(c).iConsonant][s]+"る",v=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-1);if(n){var d=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(d+p,v+p)}else e=new a.TZ(v+p)}else if(2===t){var y=l(this.getStem(),2),g=y[0],b=y[1];e=n?new a.TZ(g+"られる",b+"られる"):new a.TZ(g+"られる")}else if("来る"===r||"くる"===r)e=new a.TZ("こられる","来られる");else if("する"===r)e=new a.TZ("できる");else if("する"===r.slice(-2)){var w=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-2);if(n){var E=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(E+"できる",w+"できる")}else e=new a.TZ(w+"できる")}else{if("ある"!==r&&"いる"!==r)throw new Error("Unknown exception verb type");e=null}return e}},{key:"masuForm",value:function(){var e,t="ます";switch(this.toString()){case"くる\n来る":e=new a.TZ("きます","来ます");break;case"ある":e=new a.TZ("あります");break;case"だ":e=new a.TZ("です")}if("する"===f(m(h.prototype),"getSpelling",this).call(this).slice(-2)){var r="します",n=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-2),o=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-2);e=f(m(h.prototype),"hasFurigana",this).call(this)?new a.TZ(n+r,o+r):new a.TZ(n+r)}if(!e){var i=l(this.getStem(),2),c=i[0],u=i[1];e=u?new a.TZ(c+t,u+t):new a.TZ(c+t)}return e}},{key:"mashouForm",value:function(){var e,t="ましょう";switch(this.toString()){case"くる\n来る":e=new a.TZ("きましょう","来ましょう");break;case"ある":e=new a.TZ("ありましょう");break;case"だ":e=new a.TZ("でしょう")}if("する"===f(m(h.prototype),"getSpelling",this).call(this).slice(-2)){var r="しましょう",n=f(m(h.prototype),"getPronunciation",this).call(this).slice(0,-2),o=f(m(h.prototype),"getSpelling",this).call(this).slice(0,-2);e=f(m(h.prototype),"hasFurigana",this).call(this)?new a.TZ(n+r,o+r):new a.TZ(n+r)}if(!e){var i=l(this.getStem(),2),c=i[0],u=i[1];e=u?new a.TZ(c+t,u+t):new a.TZ(c+t)}return e}},{key:"taForm",value:function(){return this.t_Form(E)}},{key:"chattaForm",value:function(){if(3===this.getVerbClass())return null;var e,t=f(m(h.prototype),"hasFurigana",this).call(this)?f(m(h.prototype),"getSpelling",this).call(this):f(m(h.prototype),"getPronunciation",this).call(this);switch(t[t.length-1]){case"ぶ":case"む":case"ぬ":case"ぐ":e="じゃった";break;default:e="ちゃった"}var r=this.t_Form(E);return new a.TZ(r.getPronunciation().slice(0,-1)+e,r.getSpelling().slice(0,-1)+e)}},{key:"teForm",value:function(){return this.t_Form(j)}},{key:"t_Form",value:function(e){var t,r,n,o=this.getVerbClass(),i=f(m(h.prototype),"furigana",this);f(m(h.prototype),"hasFurigana",this).call(this)&&f(m(h.prototype),"kanji",this)&&(r=f(m(h.prototype),"furigana",this),i=f(m(h.prototype),"kanji",this));var c=i[i.length-1];if(1===o)if("行く"===i||"いく"===i)t=a.TZ.parse({japanese:e.g1.iku});else{switch(c){case"う":case"つ":case"る":n=e.g1.u_tsu_ru;break;case"く":n=e.g1.ku;break;case"ぐ":n=e.g1.gu;break;case"ぬ":case"ぶ":case"む":n=e.g1.mu_nu_bu;break;case"す":n=e.g1.su}t=r?new a.TZ(r.slice(0,-1)+n,i.slice(0,-1)+n):new a.TZ(i.slice(0,-1)+n)}else if(2===o)n=e.g2.ru,t=r?new a.TZ(r.slice(0,-1)+n,i.slice(0,-1)+n):new a.TZ(i.slice(0,-1)+n);else if("来る"===i||"くる"===i)t=a.TZ.parse({japanese:e.g3.kuru});else if("する"===i)t=a.TZ.parse({japanese:e.g3.suru});else if("だ"===i)t=a.TZ.parse({japanese:e.g3.da});else if("ある"===i)t=a.TZ.parse({japanese:e.g3.aru});else{if("する"!==i.slice(-2))throw new Error("Unknown exception verb type");var l=e.g3.suru,u=i.slice(0,-2);if(r){var s=r.slice(0,-2);t=new a.TZ(s+l,u+l)}else t=new a.TZ(u+l)}return t}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(a.TZ);y=w,b=function(e){var t=a.TZ.parser(e,(function(e){var t=l(e.japanese.split("\n"),2),r=t[0],n=t[1];return new w(r,n)}));return e.intr&&(t.intr=e.intr),e.trans&&(t.trans=e.trans),e.exv&&e.exv>0&&e.exv<4&&(t.exv=e.exv),t},(g=h(g="parse"))in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b;var E={g1:{u_tsu_ru:"った",mu_nu_bu:"んだ",ku:"いた",gu:"いだ",su:"した",iku:"いった\n行った"},g2:{ru:"た"},g3:{suru:"した",kuru:"きた\n来た",da:"だった",aru:"あった",iru:"いた"}},j={g1:{u_tsu_ru:"って",mu_nu_bu:"んで",ku:"いて",gu:"いで",su:"して",iku:"いって\n行って"},g2:{ru:"て"},g3:{suru:"して",kuru:"きて\n来て",da:"で",aru:"あって",iru:"いて"}}},1243:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{IY:()=>s,Kd:()=>p,Si:()=>f,Yg:()=>u,jE:()=>v,pK:()=>c});var c="slick-swipe-ignore";function l(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()}function u(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,r=e.startY-e.curY,n=Math.atan2(r,t),(o=Math.round(180*n/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===i?o>=35&&o<=135?"up":"down":"vertical"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{verticalSwiping:!1,touchThreshold:5},r=t.verticalSwiping,n=t.touchThreshold;return"IMG"===e.target.tagName&&l(e),{verticalSwiping:r,touchThreshold:n,touchObject:{startX:"touches"in e?e.touches[0].pageX:e.clientX,startY:"touches"in e?e.touches[0].pageY:e.clientY,curX:"touches"in e?e.touches[0].pageX:e.clientX,curY:"touches"in e?e.touches[0].pageY:e.clientY}}}function f(e,t){var r=t.verticalSwiping,n=t.touchThreshold,o=t.swiped,a=t.swiping,c=t.touchObject,s=t.swipeEvent;c.curX="touches"in e?e.touches[0].pageX:e.clientX,c.curY="touches"in e?e.touches[0].pageY:e.clientY,c.swipeLength=Math.abs(c.curX-c.startX);var f=Math.abs(c.curY-c.startY);if(!r&&!a&&f>10)return{scrolling:!0};r&&(c.swipeLength=Math.sqrt(Math.pow(f,2)+Math.pow(c.swipeLength,2)));var p=u(t.touchObject,r),v={touchObject:c,verticalSwiping:r,touchThreshold:n,swiped:!1,swiping:!1};return!o&&s&&(s(p),v=i(i({},v),{},{swiped:!0})),c.swipeLength>10&&(v=i(i({},v),{},{swiping:!0}),l(e)),v}function p(e,t){var r,n=t.touchObject,o=t.touchThreshold,a=t.verticalSwiping,c=t.onSwipe,s=o;return n.swipeLength&&(r=u(n,a)),n.swipeLength>s&&(l(e),c&&c(r)),i({swipeDirection:r},t)}function v(e){var t=e.target;return Array.from(document.getElementsByClassName(c)).some((function(e){return e.contains(t)}))}},7:(e,t,r)=>{function n(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e}function o(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.clamped,i=void 0===o||o,a=Math.min.apply(Math,[1,r]),c=i?Math.max.apply(Math,[a,0]):r,l=(1-c)*e+c*t;return l}r.d(t,{Sy:()=>n,t7:()=>o})},8090:(e,t,r)=>{r.d(t,{R$:()=>i});var n=new Error("User interrupted audio playback.",{cause:{code:"UserAborted"}}),o=new AudioContext;function i(e,t){var r=o.createBufferSource(),i=fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return o.decodeAudioData(e).then((function(e){r.buffer=e,r.connect(o.destination),r.start()}))})),a=new Promise((function(e,o){var i=function(){r.stop(),o(n)};r.addEventListener("ended",(function(){null==t||t.signal.removeEventListener("abort",i),e()})),null!=t&&t.signal.aborted&&i(),null==t||t.signal.addEventListener("abort",i)}));return Promise.all([a,i])}},8602:(e,t,r)=>{r.d(t,{O5:()=>s,Ps:()=>p,lP:()=>v,p1:()=>f,xr:()=>u,zV:()=>d});var n=r(2022);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Math.ceil(t/2);return e.length<t?e:e.slice(0,r)+"..."+e.slice(-(t-r))}function s(e){var t,r,n=(t=e.split("T"),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=Date.parse(n),i=Math.abs(Date.now()-o);return Math.ceil(i/864e5)}function f(e){return(Math.round(e)/1e3).toFixed(2)+"".replace("0.",".").replace(".00","").replace(/0$/,"")}function p(e,t,r,o){if(r[t.uid]&&r[t.uid].d){var i=u(t.english,30),a=!0===(null==o?void 0:o.frequency)?" F[w]":"",c=" "+(s(r[t.uid].d)-1)+"d",l=" "+r[t.uid].vC+"v",f=r[t.uid].tpAcc;e("Space Rep ["+i+"]"+a+c+l+(void 0!==f?" "+(100*f).toFixed(0)+"%":""),n.x6.DEBUG)}}function v(e,t,r,o){if(r[t.uid]&&r[t.uid].d){var i=u(t.english,30),a=!0===(null==o?void 0:o.frequency)?" F[w]":"",c=" "+(s(r[t.uid].d)-1)+"d",l=r[t.uid].tpPc,p=void 0!==l?" "+l+"v":"",v=r[t.uid].tpAcc,d=void 0!==v?" "+(100*v).toFixed(0)+"%":"",m=r[t.uid].tpCAvg;e("Timed Play ["+i+"]"+a+c+p+d+(void 0!==m?" "+f(m)+"s":""),n.x6.DEBUG)}}function d(e){var t=Object.keys(e).reduce((function(t,r){return["boolean","number","string"].includes(c(e[r]))&&(t=i(i({},t),{},a({},r,e[r]))),Array.isArray(e[r])&&(t=i(i({},t),{},a({},r+"Len",e[r].length))),t}),{});return JSON.stringify(t).replaceAll(",",", ")}},3058:(e,t,r)=>{r.d(t,{$q:()=>B,$t:()=>D,Dm:()=>O,EL:()=>I,HG:()=>X,II:()=>q,J0:()=>R,JS:()=>z,Mm:()=>$,XQ:()=>P,YZ:()=>M,Zc:()=>A,cc:()=>S,dP:()=>W,fx:()=>F,gW:()=>J,hF:()=>U,hY:()=>E,iz:()=>K,kf:()=>V,nD:()=>Q,rU:()=>N,tq:()=>_,tu:()=>H,u3:()=>T,vr:()=>j,wG:()=>x,wO:()=>Y,w_:()=>G,yT:()=>Z});var n=r(7294),o=r(4184),i=r.n(o),a=r(5472),c=r.n(a),l=r(2022),u=r(7),s=r(1513),f=r(1423),p=r(8602),v=r(1410),d=r(7178);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r,n,o,i,a,c){var u=e&&Math.random()<1/3;if(t!==l.Lx.FREQUENCY&&u&&r.length>0){var s=r.length,f=Math.floor(Math.random()*(s-0)+0),p=n.find((function(e){return r[f]===e.uid}));p?o!==p.uid?i(p.uid):a():(console.warn("uid no longer exists"),c(r[f]),a())}else a()}function j(e,t,r){var n;if(!(n=t?r[t[e]]:r[e]))throw new Error("No term found");return n.uid}function S(e,t){var r=t.find((function(t){return e===t.uid}));if(!r)throw new Error("No term found");return r}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=t;if(e===l.Lx.FREQUENCY){if(!r)throw new TypeError("Filter type requires frequencyList");if(!o)throw new TypeError("Filter type requires toggleFilterType");r.length>0?i=n.length>0?t.filter((function(e){return r.includes(e.uid)&&k(n,e)})):t.filter((function(e){return r.includes(e.uid)})):o(l.Lx.GROUP)}else e===l.Lx.TAGS?n.length>0&&(i=t.filter((function(e){return e.tag&&e.tag.some((function(e){return n.includes(e)}))}))):n.length>0&&(i=t.filter((function(e){return k(n,e)})));return i}function k(e,t){return t.grp&&e.includes(t.grp)||e.includes(t.grp+"."+t.subGrp)||void 0===t.grp&&(e.includes("undefined")||e.includes("undefined."+t.subGrp))}function x(e,t){var r=Object.keys(e).reduce((function(t,r){return[].concat(b(t),[r],b(e[r].map((function(e){return r+"."+e}))))}),[]);return t.reduce((function(e,t){return r.includes(t)||(e=[].concat(b(e),[t])),e}),[])}function P(e,t,r){var n=new Set(Object.keys({d:null,difficulty:null,nextReview:null,vC:null,f:null,rein:null,pron:null,tpPc:null,tpAcc:null,tpCAvg:null})),o=new Set,i=[];return Object.keys(e).forEach((function(a){Object.keys(e[a]).forEach((function(e){var c;if(!n.has(e)){var l;try{l=S(a,t)}catch(e){l={english:r}}c={key:e,uid:a,english:l.english}}void 0!==c&&(o.add(e),i=[].concat(b(i),[c]))}))})),{keys:o,list:i}}function A(e){return~~(Date.now()-e)>1500}function T(e){return~~(Date.now()-e)>300}function N(e,t){var r=[],n=[],o=[],i=[],a=[];for(var l in e){var u=e[l].uid,s=t[u];if(void 0!==s){if(void 0===s.tpAcc)i=[].concat(b(i),[{date:s.d,views:s.vC,uid:u,index:Number(l)}]);else if(!0===s.pron){var f=L(s.d,s.tpAcc,s.vC),p=C(s.tpPc,s.tpCAvg);n=[].concat(b(n),[{staleness:f,correctness:p,uid:u,index:Number(l)}])}else if(s.tpAcc>=.65){var v=L(s.d,s.tpAcc,s.vC),d=C(s.tpPc,s.tpCAvg);a=[].concat(b(a),[{staleness:v,correctness:d,uid:u,index:Number(l)}])}else if(s.tpAcc<.65){var m=L(s.d,s.tpAcc,s.vC),h=C(s.tpPc,s.tpCAvg);r=[].concat(b(r),[{staleness:m,correctness:h,uid:u,index:Number(l)}])}}else o=[].concat(b(o),[Number(l)])}var y=c()(r,["staleness","correctness","uid"],["desc","asc","asc"]),g=c()(n,["staleness","correctness","uid"],["desc","asc","asc"]),w=c()(i,["date","views","uid"],["asc","asc","asc"]),E=c()(a,["staleness","correctness","uid"],["desc","asc","asc"]),j=y.map((function(e){return e.index})),S=g.map((function(e){return e.index})),O=w.map((function(e){return e.index})),k=E.map((function(e){return e.index}));return[].concat(b(j),b(S),b(o),b(O),b(k))}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=Number.MAX_SAFE_INTEGER;return void 0!==e&&t>0&&r>0&&(n=(0,p.O5)(e)*(1/t)*(1/r)),n}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Number.MIN_SAFE_INTEGER;return e>0&&t>0&&(r=e*(1/t)),r}function I(e,t){var r=[],n=[];for(var o in e){var i=e[o].uid,a=t[i];void 0!==a&&void 0!==a.d?n=[].concat(b(n),[{date:a.d,uid:i,index:Number(o)}]):r=[].concat(b(r),[Number(o)])}var l=c()(n,["date","uid"],["asc","asc"]).map((function(e){return e.index}));return[].concat(b(r),b(l))}var M=80,D=30;function R(e,t){var r=[],n=[],o=[];for(var i in e){var a=e[i].uid,l=t[a];if(void 0!==l&&void 0!==l.difficulty){var u=Number(l.difficulty);u<M?n=[].concat(b(n),[{difficulty:u,uid:a,index:Number(i)}]):o=[].concat(b(o),[Number(i)])}else r=[].concat(b(r),[Number(i)])}var s=c()(n,["difficulty","uid"],["asc","asc"]).map((function(e){return e.index}));return[].concat(b(s),b(r),b(o))}function F(e){var t={},r=[];e.forEach((function(e,n){t[e.uid]=n,r=[].concat(b(r),[{uid:e.uid,japanese:e.japanese,english:e.english}])}));var n=[],o=[],i=[];return(r=c()(r,["japanese"],["asc"])).forEach((function(e,r){n=[].concat(b(n),[t[e.uid]]),i=[].concat(b(i),[{uid:e.uid,label:s.TZ.parse(e).getPronunciation(),idx:-1}]),o=[].concat(b(o),[{uid:e.uid,label:e.english.toLowerCase(),idx:r}])})),(o=c()(o,["label"],["asc"])).forEach((function(e,t){i[e.idx]=y(y({},i[e.idx]),{},{idx:t})})),{order:n,jOrder:i,eOrder:o}}function _(e){var t=e.map((function(e,t){return t}));return(0,u.Sy)(t),t}function G(e,t){return t[e]}function q(e,t){return e+1<t.length?e+1:0}function V(e,t){var r,n,o,i,a,c,l,u,s,p,v,d,m={dictionary:void 0===e?void 0:f.R.parse(e)},h=[{name:"-masu",value:null===(r=m.dictionary)||void 0===r?void 0:r.masuForm()},{name:"-mashou",value:null===(n=m.dictionary)||void 0===n?void 0:n.mashouForm()},{name:"dictionary",value:m.dictionary},{name:"-nai",value:null===(o=m.dictionary)||void 0===o?void 0:o.naiForm()},{name:"-saseru",value:null===(i=m.dictionary)||void 0===i?void 0:i.saseruForm()},{name:"-te",value:null===(a=m.dictionary)||void 0===a?void 0:a.teForm()},{name:"-ta",value:null===(c=m.dictionary)||void 0===c?void 0:c.taForm()}].concat(b(null!==(null===(l=m.dictionary)||void 0===l?void 0:l.chattaForm())?[{name:"-chatta",value:null===(u=m.dictionary)||void 0===u?void 0:u.chattaForm()}]:[]),b(null!==(null===(s=m.dictionary)||void 0===s?void 0:s.reruForm())?[{name:"-reru",value:null===(p=m.dictionary)||void 0===p?void 0:p.reruForm()}]:[]));return t&&t.length>0&&(d=t.reduce((function(e,t){var r=h.find((function(e){return e.name===t}));return void 0!==r&&(e=[].concat(b(e),[r])),e}),[])),null!==(v=d)&&void 0!==v?v:h}function W(e,t){var r=V(e).find((function(e){return e.name===t}));if(!r)throw new Error("Invalid targetForm");return r.value}function U(e,t,r,o){var a,c=!e,l=[],u=!1,s=!1;t.constructor.name===f.R.name&&"isExceptionVerb"in t&&(u=t.isExceptionVerb()||3===t.getVerbClass(),s=t.isIntransitive(),a=t.getTransitivePair()||t.getIntransitivePair());var p=t.isNaAdj(),v=t.isSlang(),d=t.isKeigo();return c&&(s||a)&&(l=[].concat(b(l),[n.createElement("span",{key:l.length+1,className:i()({clickable:a,"question-color":a}),onClick:a&&o?function(){o(a)}:void 0},s?"intr":"trans")])),c&&v&&(l=[].concat(b(l),[n.createElement("span",{key:l.length+1},"slang")])),c&&d&&(l=[].concat(b(l),[n.createElement("span",{key:l.length+1},"keigo")])),u&&l.length>0&&(l=[n.createElement("span",{key:l.length+1},"*")].concat(b(l))),l.length>0?n.createElement("span",null,r,p&&n.createElement("span",{className:"opacity-25"}," ","な"),n.createElement("span",{className:"fs-5"},n.createElement("span",null," ("),l.reduce((function(e,t,r){return r>0&&r<l.length?[].concat(b(e),[n.createElement("span",{key:l.length+r}," , "),t]):[].concat(b(e),[t])}),[]),n.createElement("span",null,")"))):u?n.createElement("span",null,r,n.createElement("span",null," ","*")):p?n.createElement("span",null,r,n.createElement("span",{className:"opacity-25"}," ","な")):r}function Z(e,t,r,o){var a,c=[],l=!1;t.constructor.name===f.R.name&&"isExceptionVerb"in t&&(l=t.isIntransitive(),a=t.getTransitivePair()||t.getIntransitivePair());var u=t.isSlang(),s=t.isKeigo();return e&&(l||a)&&(c=[].concat(b(c),[n.createElement("span",{key:c.length+1,className:i()({clickable:a,"question-color":a}),onClick:a&&o?function(){o(a)}:void 0},l?"intr":"trans")])),e&&u&&(c=[].concat(b(c),[n.createElement("span",{key:c.length+1},"slang")])),e&&s&&(c=[].concat(b(c),[n.createElement("span",{key:c.length+1},"keigo")])),c.length>0?n.createElement("span",null,r,n.createElement("span",null,n.createElement("span",null," ("),c.reduce((function(e,t,r){return r>0&&r<c.length?[].concat(b(e),[n.createElement("span",{key:c.length+r}," , "),t]):[].concat(b(e),[t])}),[]),n.createElement("span",null,")"))):r}function z(e,t,r,n,o){var i,a,c,l;return e?(i=t,a=r,c=n,l=o):(i=r,a=t,c=o,l=n),{topValue:i,topLabel:c,bottomValue:a,bottomLabel:l}}function K(e){return e.grp&&""!==e.grp?n.createElement("span",{className:"hint"},e.grp+(e.subGrp?", "+e.subGrp:"")):void 0}function H(e){var t=e.getPronunciation().slice(1,2);return(0,v.BM)(t)?e.getHint(v.Ot,d.AG,3,2):e.getHint(v.Ot,d.AG,3,1)}function J(e){var t=e.uid;if(!t)throw console.warn(JSON.stringify(e)),new Error("Missing uid");return e.form&&(t+="dictionary"!==e.form?e.form.replace("-","."):""),t}function B(e,t,r,n){return{furigana:{show:!(t&&t[e]&&!1===t[e].f),toggle:!1===r&&n&&function(){n(e)}||void 0}}}function Y(e,t,r){var n=t.signal;return new Promise((function(t,o){var i=function(){clearTimeout(c),clearInterval(a),o(new Error("Aborted"))},a="function"==typeof r?setInterval(r,200,200,e):-1,c=setTimeout((function(){null==n||n.removeEventListener("abort",i),clearInterval(a),t()}),e);null!=n&&n.aborted&&i(),null==n||n.addEventListener("abort",i)}))}function Q(e,t,r,n){var o=n.signal;return new Promise((function(n,i){var a=function(){clearTimeout(c);var e=new Error("User interrupted loop.",{cause:{code:"UserAborted"}});i(e)},c=setTimeout((function(){e>0?t().then((function(){return Q(e-1,t,r,{signal:o}).then((function(){null==o||o.removeEventListener("abort",a),n()}))})).catch((function(e){i(e)})):(null==o||o.removeEventListener("abort",a),n())}),r);null!=o&&o.aborted&&a(),null==o||o.addEventListener("abort",a)}))}function $(e,t,r){var n,o,i=null===(n=e.acceleration)||void 0===n?void 0:n.y,a=null===(o=e.acceleration)||void 0===o?void 0:o.z;if(null==i||null==a)throw new Error("Device does not support DeviceMotionEvent",{cause:{code:"DeviceMotionEvent"}});var c=Math.sqrt(i*i+a*a);c>t&&"function"==typeof r&&r(c)}function X(e,t){"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(t){"granted"===t&&e()})).catch(t):e()}},1410:(e,t,r)=>{r.d(t,{AF:()=>i,BE:()=>s,BM:()=>l,C5:()=>p,F8:()=>v,IE:()=>u,Ot:()=>m,Vj:()=>f,dv:()=>d,f_:()=>a,xn:()=>c});var n=r(7294),o=r(6954);function i(e){return new RegExp("[一-龯㐀-䶿々]").test(e)}function a(e){return new RegExp("[ぁ-ゟ]").test(e)}function c(e){return new RegExp("[゠-ヿ]").test(e)}function l(e){return new RegExp("^[ゃャゅュょョ]$").test(e)}function u(e){return new RegExp("[０-９]").test(e)}function s(e){return new RegExp("[　-〄〆-〿｡-･！-／：-＠［-｀｛-～]").test(e)}function f(e){var t=e;if(a(e)){var r=e.codePointAt(0);if(r){var n=r+96;t=String.fromCharCode(n)}}else if(c(e)){var o=e.codePointAt(0);if(o){var i=o-96;t=String.fromCharCode(i)}}return t}function p(e){var t;switch(e){case"は":t="wa";break;case"には":t="niwa";break;case"を":t="o";break;case"って":t="tte";break;default:t=e.split("").map((function(e){return function(e){var t=e;if(a(e)){var r=d(e),n=r.iConsonant,i=r.iVowel;t=o.sH[n]+o.Be[i]}else if(c(e)){var l=e.codePointAt(0);if(l){var u=l-96,s=d(String.fromCharCode(u)),f=s.iConsonant,p=s.iVowel;t=o.sH[f]+o.Be[p]}}return t}(e)})).join("")}return t}function v(e){var t=Number.NaN;if(u(e)){var r=e.codePointAt(0);if(r){var n=r-65249;t=Number.parseInt(String.fromCharCode(n))}}return t}function d(e){var t=o.Bw,r=t[0].length,n=t.length,i=-1,a=-1;if(" "===e||""===e)return{iConsonant:i,iVowel:a};if("ん"===e)return{iConsonant:15,iVowel:a};for(var c=0;c<r&&i<0;c++)for(var l=0;l<n;l++)if(t[l][c]===e){i=l,a=c;break}return{iConsonant:i,iVowel:a}}function m(e,t,r){return n.createElement("span",{className:"hint"},n.createElement("span",{className:e.shown},t.slice(0,r)),n.createElement("span",{className:e.hidden},t.slice(r)))}},7178:(e,t,r)=>{r.d(t,{AG:()=>u,je:()=>s,re:()=>v,tn:()=>p,v5:()=>d});var n=r(4184),o=r.n(n),i=r(7294);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r,n,o=e.kanjis,i=e.furiganas,c=e.okuriganas,l=e.startsWKana,u=t;return i.length>c.length?c=[].concat(a(c),[""]):i.length<c.length&&(o=[].concat(a(o),[""]),i=[].concat(a(i),[""])),i.reduce((function(e,t,s){var f=Math.trunc(i[s].length/o[s].length);if(u>0)if(l)if(r=c[s],n=i[s],r.length<=u){var p,v=u-=r.length;n.length<=u?(u-=n.length,p=o[s].length,v=n.length):(p=Math.ceil(u/f),u=0),e=[].concat(a(e),[{k:p,f:v,o:r.length}])}else e=[].concat(a(e),[{k:0,f:0,o:u}]),u=0;else if(r=i[s],n=c[s],r.length<=u){var d;u-=r.length,n.length<u?(u-=n.length,d=n.length):(d=u,u=0),e=[].concat(a(e),[{k:o[s].length,f:r.length,o:d}])}else{var m=Math.ceil(u/f);e=[].concat(a(e),[{k:m,f:u,o:0}]),u=0}else e=[].concat(a(e),[{k:0,f:0,o:0}]);return e}),[])}function u(e,t,r,n,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=l({kanjis:t,furiganas:r,okuriganas:n,startsWKana:o},c);r.length>n.length?n=[].concat(a(n),[""]):r.length<n.length&&(t=[].concat(a(t),[""]),r=[].concat(a(r),[""]));var s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t?[i.createElement("span",{key:r,className:e},t)]:[]},f=u.map((function(i,a){return d(a,{sk:i.k>0?s(e.shown,t[a].slice(0,i.k)):[],hk:i.k<t[a].length?s(e.hidden,t[a].slice(i.k)):[]},{sf:i.f>0?s(e.shown,r[a].slice(0,i.f)):[],hf:i.f<r[a].length?s(e.hidden,r[a].slice(i.f)):[]},{so:i.o>0?s(e.shown,n[a].slice(0,i.o)):[],ho:i.o<n[a].length?s(e.hidden,n[a].slice(i.o)):[]},o)}));return i.createElement("span",{className:"hint"},f)}function s(e){var t=e.kanjis,r=e.furiganas,n=e.okuriganas;return r.length>n.length?n=[].concat(a(n),[""]):r.length<n.length&&(t=[].concat(a(t),[""]),r=[].concat(a(r),[""])),r.map((function(e,o){return{k:t[o].length,f:r[o].length,o:n[o].length}}))}function f(e,t){var r=e.kanjis,n=e.furiganas,o=e.okuriganas,i=e.startsWKana,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+1,l=c-t;n.length>o.length?o=[].concat(a(o),[""]):n.length<o.length&&(r=[].concat(a(r),[""]),n=[].concat(a(n),[""]));var u=s({kanjis:r,furiganas:n,okuriganas:o,startsWKana:i}),f=[0];return u.map((function(e,r){var n=e.k,o=e.o,u=0,s=0;if(f=[].concat(a(f),[f[r]+n+o]),i){if(f[r]+o>t)if(f[r]+o<c){var p=t-(f[r]+o);s=Math.min.apply(Math,[o,Math.abs(p)]),l-=s}else s=l,l=0;if(f[r]+o+n>t)if(f[r]+o+n<c){var v=t-(f[r]+o+n);u=Math.min.apply(Math,[n,Math.abs(v)]),l-=u}else u=l,l=0}else{if(f[r]+n>t)if(f[r]+n<c){var d=t-(f[r]+n);u=Math.min.apply(Math,[n,Math.abs(d)]),l-=u}else u=l,l=0;if(f[r]+n+o>t)if(f[r]+n+o<c){var m=t-(f[r]+n+o);s=Math.min.apply(Math,[o,Math.abs(m)]),l-=s}else s=l,l=0}return{k:u,f:0,o:s}}))}function p(e,t,r){var n=e.kanjis,o=e.furiganas,c=e.okuriganas,l=e.startsWKana,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r+1,s=t.shown,p=t.hidden,v=f({kanjis:n,furiganas:o,okuriganas:c,startsWKana:l},r,u);o.length>c.length?c=[].concat(a(c),[""]):o.length<c.length&&(n=[].concat(a(n),[""]),o=[].concat(a(o),[""]));var m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t?[i.createElement("span",{key:r,className:e},t)]:[]},h=function(e,t,n,o){var i=[],c=[],l=e.length;if(l>0)if(0===t)c=m(s,e);else if(t===l)i=m(p,e),n-=l;else if(t<l)if(n<t)i=m(p,e.slice(0,t)),c=m(s,e.slice(t-l)),n=0;else if(n===t){var u=o,f=r-u,v=f+n,d=m(s,e.slice(0,f),u+1),h=m(p,e.slice(f,v),u+2),y=m(s,e.slice(v,l),u+3);c=[].concat(a(d),a(h),a(y)),n=0}else n>t&&(c=m(s,e.slice(0,t)),i=m(p,e.slice(t-l)),n-=t);return{s:c,h:i,spliceLen:n}},y=u-r,g=[0],b=v.map((function(e,t){var r,i,u=n[t].length,f=c[t].length;g=[].concat(a(g),[g[t]+f+u]);var p=h(n[t],e.k,y,g[t]+(l?f:0));r=p.s,i=p.h,y=p.spliceLen;var v,b,w=m(s,o[t]),E=h(c[t],e.o,y,g[t]+(l?0:u));return v=E.s,b=E.h,y=E.spliceLen,d(t,{sk:r,hk:i},{sf:w,hf:[]},{so:v,ho:b},l)}));return i.createElement("span",{className:"decorated"},b)}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e?[i.createElement("span",{key:r,className:t},e)]:[]}function d(e,t,r,n,a){var c=t.sk,l=t.hk,u=r.sf,s=r.hf,f=n.so,p=n.ho,v=c.length>0||l.length>0,d=u.length>0||s.length>0,m=f.length>0||p.length>0,h=v&&d&&i.createElement("ruby",null,c,l,i.createElement("rt",null,u,s))||void 0,y=m&&i.createElement("span",null,f,p)||void 0,g=a?y:h,b=a?h:y,w=o()({"lh-furigana":v&&d})||void 0;return(g||b)&&i.createElement("span",{key:e,className:w},g,b)||void 0}},4612:(e,t,r)=>{r.d(t,{xr:()=>h,JW:()=>m});var n=r(2209);function o(){return window.localStorage}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e))return e}(e)||p(e)||s(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e,t){if(1===t.length)return e[t[0]];var r=u(t),n=r[0],o=r.slice(1);return v(e[n],o)}function d(e,t,r){if(1===t.length){var n=t[0];return c(c({},e),{},l({},n,r))}var o=u(t),i=o[0],a=o.slice(1);return c(c({},e),{},l({},i,d(e[i]||{},a,r)))}function m(e,t,r,i,a){var l,u=h(n._)||{},m=[].concat(function(e){if(Array.isArray(e))return f(e)}(l=r.split("/").filter((function(e){return""!==e})))||p(l)||s(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]);void 0===a&&(a=!v(t,m));var y=d(c({},u),m,a),g=v(y,m);return function(e,t){try{o().setItem(e,JSON.stringify(t))}catch(e){console.log("setLocalStorage failed"),console.error(e)}}(n._,c(c({},y),{},{lastModified:e})),g}function h(e){var t;try{var r,n=o().getItem(e);try{n&&(r=JSON.parse(n))}catch(e){console.error("localStore parse failed"),console.error(e)}"object"!==i(r)||Array.isArray(r)||null===r||(t=r)}catch(e){console.error("localStore getItem failed"),console.error(e)}return t}},8816:(e,t,r)=>{function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Nmemonica App",r=arguments.length>2?arguments[2]:void 0;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t,album:r,artwork:[{src:"icon192.png",sizes:"192x192",type:"image/png"},{src:"icon512.png",sizes:"512x512",type:"image/png"}]}))}function a(e){if("mediaSession"in navigator){var t=navigator.mediaSession;try{t.playbackState=e}catch(e){console.error(e)}}else console.error("mediaSession not available")}function c(e){if("mediaSession"in navigator){var t=navigator.mediaSession;try{var r,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=(l=r.value,u=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(l,u)||n(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];try{t.setActionHandler(a,c)}catch(e){console.error(e)}}}catch(e){o.e(e)}finally{o.f()}}catch(e){console.error(e)}}else console.error("mediaSession not available");var l,u}function l(){if("mediaSession"in navigator){var e=navigator.mediaSession;try{e.metadata=null,e.playbackState="none",navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("stop",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null)}catch(e){console.error(e)}}else console.error("mediaSession not available")}r.d(t,{$T:()=>i,CU:()=>l,aw:()=>c,gI:()=>a})},3036:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t={},r=Object.keys(e).map((function(r){var n=e[r].trans;return n&&(t[n]={intr:r,trans:e[r].trans}),c(c({},e[r]),{},{uid:r})}));return r.map((function(e){return t[e.uid]?c(c({},e),{},{intr:t[e.uid].intr}):e}))}function s(e){var t="grp",r="subGrp";return Object.values(e).reduce((function(e,n){return n[t]?e[n[t]]?n[r]&&!e[n[t]].includes(n[r])?c(c({},e),{},l({},n[t],[].concat(o(e[n[t]]),[n[r]]))):e:n[r]?c(c({},e),{},l({},n[t],[n[r]])):c(c({},e),{},l({},n[t],[])):c({},e)}),{})}function f(e){var t="tag",r=[];return Object.values(e).forEach((function(e){e[t]&&e[t].length>0&&(r=[].concat(o(r),o(e[t])))})),Array.from(new Set(r))}r.d(t,{MS:()=>u,by:()=>s,fh:()=>f})},7672:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=n(e.includes("?")?e.split("?"):[e,""],2),o=r[0],i=r[1],a=new URLSearchParams(i),c=0,l=Object.entries(t);c<l.length;c++){var u=n(l[c],2),s=u[0],f=u[1];void 0!==f&&a.append(s,f)}return[o,a.toString()].join("?")}r.d(t,{b1:()=>i})},7641:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(7294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return(0,n.useMemo)((function(){return t.reduce((function(t,r){var n,i;return!0===(null===(n=e[r.uid])||void 0===n?void 0:n.rein)?[].concat(function(e){if(Array.isArray(e))return o(e)}(i=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r.uid]):t}),[])}),[e,t])}},2613:(e,t,r)=>{r.d(t,{cM:()=>u,iP:()=>c,kP:()=>l,oU:()=>a});var n=r(7294);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(){var e=o((0,n.useState)(!0),2),t=e[0],r=e[1];return function(){return r(!t)}}function c(){var e=o((0,n.useState)({width:void 0,height:void 0}),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}function l(e,t){return function(){(t||"function"==typeof t)&&e(t)}}function u(e,t,r){return function(n){e(r?t(r):n instanceof Object&&"_reactName"in n?t():n?t(n):t())}}},9252:(e,t,r)=>{r.d(t,{b:()=>s,n:()=>u});var n=r(7294),o=r(2022),i=r(7),a=r(3058);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,i,l){var u=(0,n.useRef)(e),s=(0,n.useMemo)((function(){var e=Object.keys(u.current).reduce((function(e,t){return!0===u.current[t].rein&&(e=[].concat(c(e),[t])),e}),[]),n=(0,a.Dm)(i,t,e,i===o.Lx.TAGS?l:[],(function(){}));if(r&&i===o.Lx.TAGS){var s=n.map((function(e){return e.uid})),f=t.filter((function(t){return e.includes(t.uid)&&!s.includes(t.uid)}));n=[].concat(c(n),c(f))}return n}),[t,r,i,l]);return u.current=e,s}function s(e,t,r,o){return(0,n.useMemo)((function(){if(!r)return[];for(var n=[r],a=function(){var e=Math.floor(Math.random()*o.length),r=o[e];n.every((function(e){return e[t]!==r[t]}))&&(n=[].concat(c(n),[r]))};n.length<e;)a();return(0,i.Sy)(n),n}),[e,t,r,o])}},4410:(e,t,r)=>{r.d(t,{h:()=>o});var n=r(7294);function o(e,t,r){return(0,n.useMemo)((function(){if(e&&t.length>0){var n=t.length,o=Math.floor(Math.random()*(n-0)+0),i=t[o];return r.find((function(e){return i===e.uid}))}}),[e,r,t])}},609:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(7294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r,i){var a,c,l=(a=(0,n.useState)(0),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(a,c)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],s=l[1],f=(0,n.useRef)(u),p=(0,n.useRef)(u),v=(0,n.useRef)(void 0),d=(0,n.useMemo)((function(){if(0!==r&&(0!==f.current||0!==u)){var n,o=function(e){p.current=e,i(e)},a=r,c=f.current>u?"prev":"next";return n="prev"===c?(p.current-1<0?a:0)+(p.current-1)%a:(p.current+1)%a,e&&"next"===c&&void 0!==t&&v.current!==t.uid?(o(p.current),t):void o(n)}}),[u,e,r,t,i]);return f.current=u,v.current=null==d?void 0:d.uid,[d,s]}},1080:(e,t,r)=>{r.d(t,{Aq:()=>i,JP:()=>a,nF:()=>c,xo:()=>o});var n=r(6706);function o(){var e=(0,n.v9)((function(e){return{global:e.global,vocabulary:e.vocabulary}})),t=e.global,r=e.vocabulary,o=t.swipeThreshold,i=r.setting,a=i.repetition,c=i.romaji,l=i.verbFormsOrder,u=i.practiceSide,s=i.hintEnabled,f=i.verbColSplit;return{verbForm:r.verbForm,repetition:a,swipeThreshold:o,romajiActive:c,verbFormsOrder:l,englishSideUp:u,hintEnabled:s,verbColSplit:f}}function i(){var e=(0,n.v9)((function(e){return e.kanji})),t=e.value,r=e.setting;return{rawKanjis:t,activeTags:r.activeTags,filterType:r.filter,reinforce:r.reinforce,repetitionObj:r.repetition,choiceN:r.choiceN,repetition:r.repetition}}function a(){var e=(0,n.v9)((function(e){return{phrases:e.phrases}})).phrases,t=e.setting,r=t.ordered,o=t.romaji,i=t.reinforce,a=t.activeGroup,c=t.filter,l=t.repetition;return{phrases:e.value,phraseGroups:e.grpObj,phraseOrder:r,phraseRomaji:o,phraseReinforce:i,phraseActive:a,phraseFilter:c,phraseRep:l}}function c(){var e=(0,n.v9)((function(e){return{vocabulary:e.vocabulary}})).vocabulary,t=e.setting,r=t.ordered,o=t.romaji,i=t.bareKanji,a=t.hintEnabled,c=t.activeGroup,l=t.autoVerbView,u=t.verbColSplit,s=t.filter,f=t.memoThreshold,p=t.repetition,v=t.reinforce,d=t.verbFormsOrder;return{vocabulary:e.value,vocabGroups:e.grpObj,vocabOrder:r,vocabRomaji:o,showBareKanji:i,vocabHint:a,vocabActive:c,autoVerbView:l,verbColSplit:u,vocabFilter:s,memoThreshold:f,vocabRep:p,vocabReinforce:v,verbFormsOrder:d}}},8067:(e,t,r)=>{var n=r(7294),o=r(745),i=r(6706),a=r(9829),c=r(5560),l=r(5412),u=r(2778),s=r(5956),f=r(7508);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function m(){}function h(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=h.prototype=d.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==p(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,c,"next",e)}function c(e){d(i,n,o,a,c,"throw",e)}a(void 0)}))}}var h=(0,a.hg)("version/getVersions",m(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(f.qe.databaseURL+"/lambda/cache.json").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)}))));const y=(0,a.oM)({name:"version",initialState:{vocabulary:void 0,phrases:void 0,kanji:void 0,opposites:void 0,particles:void 0,suffixes:void 0},reducers:{},extraReducers:function(e){e.addCase(h.fulfilled,(function(e,t){return t.payload}))}}).reducer;var g=r(7679),b=r(1634),w=r(118),E=r(7835),j=(0,a.xC)({reducer:{global:E.ZP,sw:b.ZP,version:y,kana:c.ZP,vocabulary:g.ZP,opposite:u.ZP,phrases:s.ZP,kanji:l.ZP,particle:w.ZP}}),S=r(9655),O=r(6335),k=r(5697),x=r.n(k),P=r(5231),A=r(1436),T=r(7625),N=r(4184),L=r.n(N),C=r(3058),I=r(2613),M=r(3151),D=r(2917),R=r(3494),F=r(7075),_=r(7584),G=r(9797),q=r(334),V=r(6196);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===W(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.kana.setting})).charSet,r=K((0,n.useState)(!0),2),o=r[0],a=r[1],l=K((0,n.useState)(0),2),u=l[0],s=l[1],f=K((0,n.useState)(0),2),p=f[0],v=f[1],d=(0,n.useCallback)((function(){o?(a(!1),document.body.classList.add("no-scroll"),window.scrollTo(0,0)):(a(!0),document.body.classList.remove("no-scroll"))}),[o]),m=(0,n.useCallback)((function(e){if(e.target){var t=e.target;if(Array.from(document.getElementsByClassName("force-collapse")).includes(t))d();else if(!Array.from(document.getElementsByClassName("prevent-collapse")).includes(t))return d(),!1}}),[d]),h=(0,n.useMemo)((function(){return[{meta:Z(Z({},F.KanaGameMeta),{},{label:(0,C.w_)(t,F.KanaGameMeta.label)}),icon:n.createElement("div",{className:"not-a-real-icon"},(0,C.w_)(t,["あ","ア","*"])),wrap:function(t){return n.createElement("div",{className:"clickable prevent-collapse",onClick:(0,I.cM)(e,c.I_)},t)}},{meta:D.OppositesGameMeta,icon:n.createElement(T.G,{icon:A.ejD,size:"2x"})},{meta:[V.VocabularyMeta,G.PhrasesMeta][u],icon:n.createElement(T.G,{icon:A.yGG,size:"2x"}),wrap:function(e){return n.createElement("div",{className:"clickable prevent-collapse",onClick:(0,I.kP)(s,(function(e){return(0,C.II)(e,["Vocab","Phrases"])}))},e)}},{meta:R.ParticlesGameMeta,icon:n.createElement(T.G,{icon:A._zQ,size:"2x"})},{meta:[_.KanjiMeta,M.KanjiGameMeta][p],icon:n.createElement("div",{className:"not-a-real-icon"},(0,C.w_)(p,["漢","G"])),wrap:function(e){return n.createElement("div",{className:"clickable prevent-collapse",onClick:(0,I.kP)(v,(function(e){return(0,C.II)(e,["Kanji","KanjiGame"])}))},e)}},{meta:q.SettingsMeta,icon:n.createElement(T.G,{icon:A.klh,size:"2x"})}]}),[e,t,p,u]);return n.createElement("div",{className:"navigation"},n.createElement("nav",{className:"my-navbar"},n.createElement(S.rU,{"aria-label":"Home",to:"/"}),n.createElement("div",{className:"button d-lg-none mt-2 me-2",onClick:d},n.createElement("button",{className:L()({"nav-menu-btn":!0,collapsed:o}),type:"button","aria-controls":"nav-menu-mobile","aria-expanded":"false","aria-label":"Toggle mobile navigation"},n.createElement("span",{className:"nav-btn-line"}),n.createElement("span",{className:"nav-btn-line"}),n.createElement("span",{className:"nav-btn-line"}))),n.createElement("div",{className:L()({"mobile d-lg-none":!0,collapse:o}),id:"nav-menu-mobile",onClick:m},n.createElement("ul",{className:"w-100 d-flex justify-content-evenly flex-wrap p-4"},h.map((function(e,t){return n.createElement("li",{key:t,className:"w-25 text-center m-3"},n.createElement(S.rU,{to:e.meta.location},n.createElement("div",{className:"icon force-collapse mb-2"},e.icon)),n.createElement("div",{className:"caption"},e.wrap?e.wrap(e.meta.label):e.meta.label))})))),n.createElement("div",{className:"desktop d-none d-lg-block pt-2 pe-2"},n.createElement("ul",{className:"d-flex"},h.map((function(e,t){return n.createElement("li",{key:t},n.createElement(S.rU,{className:"desktop-link",to:e.meta.location},e.wrap?e.wrap(e.meta.label):e.meta.label))}))))))}var B=r(5045);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Y(o)?o:String(o)),n)}var o}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function X(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}var te=(0,n.lazy)((function(){return r.e(236).then(r.bind(r,1236))})),re=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,9797))})),ne=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,6196))})),oe=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,2917))})),ie=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,7075))})),ae=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,7584))})),ce=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,3151))})),le=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,5045))})),ue=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,3494))})),se=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,334))})),fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(o);if(i){var r=ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return X(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={},t.props.getVersions(),t.props.localStorageSettingsInitialized(),t.props.serviceWorkerRegistered().then((function(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(e){e.data.type===b.L6&&t.props.logger(e.data.msg,e.data.lvl,b.L6)}))})),t}return t=c,(r=[{key:"render",value:function(){var e=L()({"d-flex flex-column":!0,"dark-mode":this.props.darkMode});return n.createElement(S.UT,{basename:"/"},n.createElement("div",{id:"page-content",className:e},n.createElement(P.Z,{connected:!0}),n.createElement(J,null),n.createElement(n.Suspense,{fallback:n.createElement("div",null)},n.createElement(O.Z5,null,n.createElement(O.AW,{path:"/",element:n.createElement(ne,null)}),n.createElement(O.AW,{path:G.PhrasesMeta.location,element:n.createElement(re,null)}),n.createElement(O.AW,{path:V.VocabularyMeta.location,element:n.createElement(ne,null)}),n.createElement(O.AW,{path:D.OppositesGameMeta.location,element:n.createElement(oe,null)}),n.createElement(O.AW,{path:F.KanaGameMeta.location,element:n.createElement(ie,null)}),n.createElement(O.AW,{path:_.KanjiMeta.location,element:n.createElement(ae,null)}),n.createElement(O.AW,{path:M.KanjiGameMeta.location,element:n.createElement(ce,null)}),n.createElement(O.AW,{path:B.KanjiGridMeta.location,element:n.createElement(le,null)}),n.createElement(O.AW,{path:R.ParticlesGameMeta.location,element:n.createElement(ue,null)}),n.createElement(O.AW,{path:q.SettingsMeta.location,element:n.createElement(se,null)}),n.createElement(O.AW,{path:"*",element:n.createElement(te,null)})))))}}])&&Q(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);fe.propTypes={initialize:x().func,localStorageSettingsInitialized:x().func,getVersions:x().func,serviceWorkerRegistered:x().func,serviceWorkerEventListeners:x().func,darkMode:x().bool,logger:x().func};const pe=(0,i.$j)((function(e){return{darkMode:e.global.darkMode}}),{getVersions:h,localStorageSettingsInitialized:E.gK,serviceWorkerRegistered:b.kC,logger:E.kg})(fe);var ve=document.querySelector("#app-container");(0,o.s)(ve).render(n.createElement(n.StrictMode,null,n.createElement(i.zt,{store:j},n.createElement(pe,null))))},7835:(e,t,r)=>{r.d(t,{zA:()=>_,ZP:()=>q,M4:()=>T,gK:()=>L,kg:()=>G,lv:()=>F,cv:()=>D,TJ:()=>N,nh:()=>R,In:()=>M});var n=r(9829),o=r(4613),i=r.n(o),a=r(2209),c=r(4612),l=r(2022),u=r(1634);function s(){if("storage"in navigator&&"persist"in navigator.storage)return navigator.storage.persisted().then((function(e){return p().then((function(t){return{quota:t.quota,usage:t.usage,persistent:e}}))}));var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return Promise.reject(e)}function f(){var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return"storage"in navigator&&"persist"in navigator.storage?navigator.storage.persisted().then((function(t){return t?p().then((function(e){return{quota:e.quota,usage:e.usage,persistent:t,warning:void 0}})):navigator.storage.persist().then((function(t){return t?("Storage will not be cleared except by explicit user action",p().then((function(e){return{quota:e.quota,usage:e.usage,persistent:t,warning:"Storage will not be cleared except by explicit user action"}}))):Promise.reject(e)}))})):Promise.reject(e)}function p(){return new Promise((function(e,t){"webkitTemporaryStorage"in navigator?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,r){e({quota:r,usage:t})}),t):null!=navigator.storage&&null!=navigator.storage.estimate?navigator.storage.estimate().then(e).catch(t):t(new Error("Quota info unsupported",{cause:{code:"QuotaInfoUnsupported"}}))}))}var v=r(5956),d=r(5412),m=r(5560),h=r(2778),y=r(118),g=r(7679);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:j(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function v(){}function d(){}var m={};l(m,i,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(A([])));y&&y!==t&&r.call(y,i)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==b(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function j(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:v,configurable:!0}),v.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(g),l(g,c,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function k(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){k(i,n,o,a,c,"next",e)}function c(e){k(i,n,o,a,c,"throw",e)}a(void 0)}))}}var P="ui_logger_msg",A={darkMode:!1,scrolling:!1,memory:{quota:0,usage:0,persistent:!1},debug:0,console:[],swipeThreshold:0,motionThreshold:0},T=(0,n.hg)("setting/getMemoryStorageStatus",function(){var e=x(O().mark((function e(t,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().catch((function(e){throw r.dispatch(G("Could not get memory storage status",l.x6.WARN)),r.dispatch(G(e.message,l.x6.WARN)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),N=(0,n.hg)("setting/setPersistentStorage",function(){var e=x(O().mark((function e(t,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f().catch((function(e){throw r.dispatch(G("Could not set persistent storage",l.x6.WARN)),r.dispatch(G(e.message,l.x6.WARN)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),L=(0,n.hg)("setting/localStorageSettingsInitialized",function(){var e=x(O().mark((function e(t,r){var n,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.xr)(a._),r.dispatch((0,h.DA)(n.opposite)),r.dispatch((0,v.fN)(n.phrases)),r.dispatch((0,d.QJ)(n.kanji)),r.dispatch((0,m.z7)(n.kana)),r.dispatch((0,y.ok)(n.particle)),r.dispatch((0,g.az)(n.vocabulary)),o=i()(A,j({},n.global)),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),C=(0,n.oM)({name:"setting",initialState:A,reducers:{toggleDarkMode:function(e){var t=new Date;(0,c.JW)(t,{global:e},"/global/","darkMode",!e.darkMode),e.darkMode=!e.darkMode},scrollingState:function(e,t){e.scrolling=t.payload},setSwipeThreshold:function(e,t){var r=t.payload,n=new Date;e.swipeThreshold=(0,c.JW)(n,{global:e},"/global/","swipeThreshold",r)},setMotionThreshold:function(e,t){var r=t.payload,n=new Date;e.motionThreshold=(0,c.JW)(n,{global:e},"/global/","motionThreshold",r)},debugToggled:{reducer:function(e,t){var r=t.payload,n=(0,l.P_)(e.debug+1,Object.values(l.x6),r);e.debug=(0,c.JW)(new Date,{global:e},"/global/","debug",n)},prepare:function(e){return{payload:e}}},logger:{reducer:function(e,t){var r,n,o=e.debug,i=t.payload,a=i.msg,c=i.lvl,l=i.type;0!==o&&c<=o&&(r=l===u.L6?"SW: "+a:"UI: "+a,e.console=[].concat(function(e){if(Array.isArray(e))return w(e)}(n=e.console)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{msg:r,lvl:c}]))},prepare:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.x6.DEBUG,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return{payload:{msg:e,lvl:t,type:r}}}}},extraReducers:function(e){e.addCase(L.fulfilled,(function(e,t){return j({},t.payload)})),e.addCase(T.fulfilled,(function(e,t){var r=t.payload,n=r.quota,o=r.usage,i=r.persistent;e.memory={quota:n,usage:o,persistent:i}})),e.addCase(N.fulfilled,(function(e,t){var r=t.payload,n=r.quota,o=r.usage,i=r.persistent,a=r.warning;a&&console.warn(a),e.memory={quota:n,usage:o,persistent:i}}))}}),I=C.actions,M=I.toggleDarkMode,D=I.setMotionThreshold,R=I.setSwipeThreshold,F=I.scrollingState,_=I.debugToggled,G=I.logger;const q=C.reducer},5560:(e,t,r)=>{r.d(t,{Bs:()=>w,I_:()=>b,PD:()=>j,ZP:()=>S,_S:()=>E,z7:()=>m});var n=r(9829),o=r(4613),i=r.n(o),a=r(6954),c=r(4612),l=r(2022);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function d(){}function m(){}function h(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=h.prototype=d.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=f(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==u(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function d(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var m=(0,n.hg)("kana/kanaFromLocalStorage",function(){var e,t=(e=v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,c,"next",e)}function c(e){d(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),h={hiragana:a.Bw,katakana:a.TU,vowels:a.Be,consonants:a.sH,sounds:a.jX,setting:{choiceN:16,wideMode:!1,easyMode:!1,charSet:0}},y=(0,n.oM)({name:"kana",initialState:h,reducers:{toggleKana:function(e){var t=e.setting.charSet,r=t+1<Object.keys(l.kS).length?t+1:l.kS.HIRAGANA;e.setting.charSet=(0,c.JW)(new Date,{kana:e.setting},"/kana/","charSet",r)},setKanaBtnN:function(e,t){var r=t.payload;e.setting.choiceN=(0,c.JW)(new Date,{kana:e.setting},"/kana/","choiceN",r)},toggleKanaEasyMode:function(e){e.setting.easyMode=(0,c.JW)(new Date,{kana:e.setting},"/kana/","easyMode")},toggleKanaGameWideMode:function(e){e.setting.wideMode=(0,c.JW)(new Date,{kana:e.setting},"/kana/","wideMode")}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,t){var r=t.payload,n=i()(h.setting,r);return f(f({},e),{},{setting:f({},n)})}))}}),g=y.actions,b=g.toggleKana,w=g.setKanaBtnN,E=g.toggleKanaEasyMode,j=g.toggleKanaGameWideMode;const S=y.reducer},5412:(e,t,r)=>{r.d(t,{LD:()=>O,Mh:()=>k,QJ:()=>b,SI:()=>x,X8:()=>S,ZP:()=>N,cy:()=>A,ow:()=>P,tk:()=>g,vT:()=>T});var n=r(9829),o=r(4613),i=r.n(o),a=r(7508),c=r(3036),l=r(2022),u=r(4612);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function v(){}function d(){}function h(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=h.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=f(e[n],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==s(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function h(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,c,"next",e)}function c(e){h(i,n,o,a,c,"throw",e)}a(void 0)}))}}var g=(0,n.hg)("kanji/getKanji",function(){var e=y(m().mark((function e(t,r){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.kanji||"0")&&console.error("fetching kanji: 0"),e.abrupt("return",fetch(a.qe.databaseURL+"/lambda/kanji.json",{headers:{"Data-Version":o}}).then((function(e){return e.json().then((function(e){return{value:e,version:o}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("kanji/kanjiFromLocalStorage",function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w={value:[],version:"",tagObj:[],setting:{choiceN:32,filter:2,reinforce:!1,repTID:-1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],activeTags:[]}},E=(0,n.oM)({name:"kanji",initialState:w,reducers:{toggleKanjiActiveTag:function(e,t){var r,n,o=t.payload,i=e.setting.activeTags;r=i.includes(o)?i.filter((function(e){return e!==o})):[].concat(function(e){if(Array.isArray(e))return d(e)}(n=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]),e.setting.activeTags=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","activeTags",r)},toggleKanjiActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,l.c0)(o,n);e.setting.activeGroup=(0,u.JW)(new Date,{kaji:e.setting},"/kanji/","activeGroup",i)},addFrequencyKanji:function(e,t){var r=t.payload,n=(0,l.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",n);var o={uid:r,count:e.setting.frequency.count+1};(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","frequency",o),e.setting.frequency=o},removeFrequencyKanji:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,l.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",i),i&&(e.setting.repTID=Date.now(),e.setting.repetition=i);var a={uid:n,count:e.setting.frequency.count-1};(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","frequency",a),e.setting.frequency=a}},setKanjiBtnN:function(e,t){var r=t.payload;e.setting.choiceN=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","choiceN",r)},toggleKanjiFilter:function(e,t){var r=t.payload,n=e.setting,o=n.filter,i=n.reinforce,a=(0,l.P_)(o+1,[l.Lx.FREQUENCY,l.Lx.TAGS],r);e.setting.filter=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","filter",a),0!==a&&i&&(e.setting.reinforce=!1)},toggleKanjiReinforcement:function(e){e.setting.reinforce=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","reinforce")}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version,i=Object.keys(n).map((function(e){return p(p({},n[e]),{},{uid:e,tag:void 0===n[e].tag?[]:n[e].tag})}));e.tagObj=(0,c.fh)(n),e.value=i,e.version=o})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload,n=i()(w.setting,r),o=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:o.length},p(p({},e),{},{setting:p(p({},n),{},{repTID:Date.now()})})}))}}),j=E.actions,S=j.toggleKanjiActiveTag,O=j.toggleKanjiActiveGrp,k=j.addFrequencyKanji,x=j.removeFrequencyKanji,P=j.setKanjiBtnN,A=j.toggleKanjiFilter,T=j.toggleKanjiReinforcement;const N=E.reducer},2778:(e,t,r)=>{r.d(t,{CO:()=>y,Cz:()=>g,DA:()=>d,ZP:()=>b,bt:()=>v});var n=r(9829),o=r(7508),i=r(4612);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var v={};function d(){}function m(){}function h(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=h.prototype=d.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,c,l){var u=p(e[n],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,l)}),(function(e){o("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return o("throw",e,c,l)}))}l(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=u(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),u(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}function f(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,c,"next",e)}function c(e){f(i,n,o,a,c,"throw",e)}a(void 0)}))}}var v=(0,n.hg)("opposite/getOpposite",function(){var e=p(s().mark((function e(t,r){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(i=n.version.phrases||"0")&&console.error("fetching opposite: 0"),e.abrupt("return",fetch(o.qe.databaseURL+"/lambda/opposites.json",{headers:{"Data-Version":i}}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),d=(0,n.hg)("opposite/oppositeFromLocalStorage",function(){var e=p(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,n.oM)({name:"opposite",initialState:{value:[],aRomaji:!1,qRomaji:!1},reducers:{setOppositesARomaji:function(e){var t=new Date,r={opposite:e};e.aRomaji=(0,i.JW)(t,r,"/opposite/","aRomaji")},setOppositesQRomaji:function(e){var t=new Date,r={opposite:e};(0,i.JW)(t,r,"/opposite/","qRomaji",!e.qRomaji),e.qRomaji=!e.qRomaji}},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){e.value=t.payload})),e.addCase(d.fulfilled,(function(e,t){var r=t.payload;return l(l({},e),r)}))}}),h=m.actions,y=h.setOppositesARomaji,g=h.setOppositesQRomaji;const b=m.reducer},118:(e,t,r)=>{r.d(t,{ZP:()=>k,aq:()=>b,ok:()=>w,ro:()=>O});var n=r(9829),o=r(4613),i=r.n(o),a=r(1410),c=r(1513),l=r(4612),u=r(5956);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function v(){}function d(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=f(e[n],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==s(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function y(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,c,"next",e)}function c(e){y(i,n,o,a,c,"throw",e)}a(void 0)}))}}var b=(0,n.hg)("particle/getParticleGame",function(){var e=g(h().mark((function e(t,r){var n,o,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState().particle,!((o=r.getState().phrases.value).length>0)){e.next=9;break}return i=0===n.particleGame.phrases.length,a=void 0,i&&(a=E(o)),e.abrupt("return",{game:a});case 9:return e.abrupt("return",r.dispatch((0,u.cC)()).then((function(e){var t=e.payload,r=(0,u.Y1)(t);return{phrase:r,game:E(r)}})));case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),w=(0,n.hg)("particleGame/particleFromLocalStorage",function(){var e=g(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function E(e){var t=[],r={},n=e.reduce((function(e,n){var o;if(n.particles&&(null===(o=n.particles)||void 0===o?void 0:o.length)>0){var i=c.TZ.parse(n).getSpelling();n.particles.forEach((function(o){if(2===i.split(o).length){var c=(0,a.C5)(o),l=i.indexOf(o),u={japanese:o,romaji:c,html:o},s={japanese:o,romaji:c,start:l,end:l+o.length,html:o};t=[].concat(d(t),[u]),e=[].concat(d(e),[{answer:s,question:n,english:n.english,literal:n.lit}])}else r=p(p({},r),{},v({},n.english,{japanese:i,particle:o,times:i.split(o).length}))}))}return e}),[]);return console.error("More than one match "+Object.keys(r).length),console.table(r),{phrases:n,particles:t}}var j={particleGame:{phrases:[],particles:[]},setting:{aRomaji:!1}},S=(0,n.oM)({name:"particleGame",initialState:j,reducers:{setParticlesARomaji:function(e){e.setting.aRomaji=(0,l.JW)(new Date,{particle:e.setting},"/particle/","aRomaji")}},extraReducers:function(e){e.addCase(b.fulfilled,(function(e,t){var r=t.payload.game;r&&(e.particleGame=r)})),e.addCase(w.fulfilled,(function(e,t){var r=t.payload,n=i()(j.setting,r);return p(p({},e),{},{setting:p({},n)})}))}}),O=S.actions.setParticlesARomaji;const k=S.reducer},5956:(e,t,r)=>{r.d(t,{Lp:()=>T,OJ:()=>k,Y1:()=>y,ZP:()=>C,cC:()=>g,cz:()=>P,d1:()=>O,f6:()=>x,fN:()=>b,gP:()=>N,mW:()=>L,s5:()=>w,vy:()=>A});var n=r(9829),o=r(4613),i=r.n(o),a=r(7508),c=r(3036),l=r(4612),u=r(2022);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var v={};function d(){}function m(){}function h(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=h.prototype=d.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=p(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==s(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}function p(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,c,"next",e)}function c(e){p(i,n,o,a,c,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){return Object.keys(e).map((function(t){return m(m({},e[t]),{},{uid:t})}))},g=(0,n.hg)("phrase/getPhrase",function(){var e=v(f().mark((function e(t,r){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.phrases||"0")&&console.error("fetching phrase: 0"),e.abrupt("return",fetch(a.qe.databaseURL+"/lambda/phrases.json",{headers:{"Data-Version":o}}).then((function(e){return e.json().then((function(e){return{value:e,version:o}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("phrase/phraseFromLocalStorage",function(){var e=v(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=(0,n.hg)("phrase/updateSpaceRepPhrase",function(){var e=v(f().mark((function e(t,r){var n,o,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,o=t.shouldIncrement,i=r.getState().phrases,a=i.setting.repetition,e.abrupt("return",(0,u.pg)(n,a,{count:o,date:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),E={value:[],version:"",grpObj:{},setting:{ordered:0,practiceSide:!1,romaji:!1,reinforce:!1,repTID:-1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],filter:0}},j=(0,n.oM)({name:"phrase",initialState:E,reducers:{togglePhrasesFilter:function(e,t){var r=t.payload,n=[u.Lx.FREQUENCY,u.Lx.GROUP],o=e.setting,i=o.filter,a=o.reinforce,c=(0,u.P_)(i+1,n,r);e.setting.filter=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","filter",c),c!==u.Lx.GROUP&&a&&(e.setting.reinforce=!1)},togglePhraseActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,u.c0)(o,n);e.setting.activeGroup=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","activeGroup",i)},togglePhrasesReinforcement:function(e){e.setting.reinforce=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","reinforce")},addFrequencyPhrase:function(e,t){var r=t.payload,n=(0,u.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",n);var o={uid:r,count:e.setting.frequency.count+1};e.setting.frequency=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",o)},removeFrequencyPhrase:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,u.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",i);var a={uid:n,count:e.setting.frequency.count-1};e.setting.frequency=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",a)}},flipPhrasesPracticeSide:function(e){e.setting.practiceSide=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","practiceSide")},togglePhrasesRomaji:function(e){e.setting.romaji=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","romaji")},togglePhrasesOrdering:function(e){var t=[u.vl.RANDOM,u.vl.VIEW_DATE],r=e.setting.ordered,n=(0,u.P_)(r+1,t);e.setting.ordered=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","ordered",n)}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version;e.grpObj=(0,c.by)(n),e.value=y(n),e.version=o})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload,n=i()(E.setting,r),o=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:o.length},m(m({},e),{},{setting:m(m({},n),{},{repTID:Date.now()})})})),e.addCase(w.fulfilled,(function(e,t){var r=t.payload.value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",r)}))}}),S=j.actions,O=S.flipPhrasesPracticeSide,k=S.togglePhrasesRomaji,x=S.togglePhrasesFilter,P=S.togglePhraseActiveGrp,A=S.togglePhrasesReinforcement,T=S.addFrequencyPhrase,N=S.removeFrequencyPhrase,L=S.togglePhrasesOrdering;const C=j.reducer},1634:(e,t,r)=>{r.d(t,{L6:()=>l,ZP:()=>f,kC:()=>u});var n=r(9829);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var v={};function d(){}function m(){}function h(){}var y={};s(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,c)&&(y=b);var w=h.prototype=d.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function i(n,a,c,l){var u=p(e[n],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,c,l)}),(function(e){i("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return i("throw",e,c,l)}))}l(u.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),s(j.prototype,l,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),s(w,u,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}function a(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,l,"next",e)}function l(e){a(i,n,o,c,l,"throw",e)}c(void 0)}))}}var l="service_worker_logger_msg",u=(0,n.hg)("serviceWorker/serviceWorkerRegistered",c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=4;break}return e.abrupt("return",navigator.serviceWorker.register("sw.js").then((function(e){var t;return null===(t=e.active)||void 0===t?void 0:t.state})));case 4:return e.abrupt("return",Promise.reject("No Service Worker"));case 5:case"end":return e.stop()}}),e)})))),s=(0,n.oM)({name:"serviceWorker",initialState:{registered:!1},reducers:{serviceWorkerNewTermsAdded:function(e,t){var r=t.payload.newestWords;for(var n in r){var o=r[n],i=o.freq;o.dic,console.warn("serviceWorkerNewTermsAdded Disabled"),console.warn(i.length+" new "+n)}}},extraReducers:function(e){e.addCase(u.fulfilled,(function(e){e.registered=!0}))}});s.actions.serviceWorkerNewTermsAdded;const f=s.reducer},2022:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Lx:()=>s,P_:()=>d,c0:()=>m,iU:()=>v,kS:()=>p,pg:()=>h,vl:()=>f,x6:()=>u});var u=Object.freeze({OFF:0,ERROR:1,WARN:2,DEBUG:3}),s=Object.freeze({GROUP:0,FREQUENCY:1,TAGS:2}),f=Object.freeze({RANDOM:0,ALPHABETIC:1,VIEW_DATE:2,GAME:3,DIFFICULTY:4}),p=Object.freeze({HIRAGANA:0,KATAKANA:1,MIXED:2}),v=["Randomized","Alphabetic","Staleness","Space Rep","Difficulty"];function d(e,t,r){var n=Math.max.apply(Math,c(t)),o=e;if(void 0!==r&&t.includes(r))o=r;else for(;!t.includes(o)||o>n;)o=o+1>n?0:o+1;return o}function m(e,t){var r=[],n=c(new Set(e)),o=c(new Set(t));return n.forEach((function(e){var t=-1===e.indexOf(".");r=t?o.some((function(t){return-1!==t.indexOf(e+".")}))?[].concat(c(o.filter((function(t){return-1===t.indexOf(e+".")}))),[e]):o.includes(e)?c(o.filter((function(t){return t!==e}))):[].concat(c(o),[e]):o.includes(e)?o.filter((function(t){return t!==e})):[].concat(c(o),[e])})),r}function h(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{count:!0,date:!0},c=arguments.length>3?arguments[3]:void 0,l=void 0===t[e]?void 0:a({},e,t[e]);n=t[e]&&t[e].vC>0&&!0===o.count?t[e].vC+1:t[e]&&t[e].vC>0&&!1===o.count?t[e].vC:1;var u={};if(void 0!==c){if(c.toggle){var s=c.toggle.reduce((function(r,n){var o;return o=["f"].includes(n)?!(t[e]&&!1===t[e][n]):t[e]&&t[e][n],i(i({},r),{},a({},n,!o))}),{});u=i(i({},u),s)}if(void 0!==c.set){var f=Object.keys(c.set).reduce((function(e,t){return void 0!==c.set&&void 0!==c.set[t]&&(e=null===c.set[t]?i(i({},e),{},a({},t,void 0)):i(i({},e),{},a({},t,c.set[t]))),e}),{});u=i(i({},u),f)}}var p=void 0!==(null===(r=t[e])||void 0===r?void 0:r.d)&&!1===o.date,v=p?t[e].d:(new Date).toJSON(),d=i(i({},t[e]||{}),{},{vC:n,d:v},u),m=a({},e,d);l=void 0===l?i({},m):l;var h=i(i({},t),m);return{map:m,prevMap:l,value:h}}},7679:(e,t,r)=>{r.d(t,{$u:()=>F,E3:()=>E,Gy:()=>V,Hi:()=>P,Rz:()=>g,S5:()=>_,Tn:()=>C,VX:()=>M,Vb:()=>R,Wo:()=>b,ZP:()=>U,ZZ:()=>L,_4:()=>q,_n:()=>k,az:()=>w,d1:()=>W,eK:()=>N,gl:()=>I,kn:()=>G,oG:()=>D,rZ:()=>O,sG:()=>T,wf:()=>A,xz:()=>x});var n=r(9829),o=r(4613),i=r.n(o),a=r(7508),c=r(3058),l=r(4612),u=r(3036),s=r(2022);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new P(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function v(){}function d(){}function h(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=h.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==f(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=h,n(w,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function h(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,c,"next",e)}function c(e){h(i,n,o,a,c,"throw",e)}a(void 0)}))}}var g=(0,n.hg)("vocabulary/getVocabulary",function(){var e=y(m().mark((function e(t,r){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.vocabulary||"0")&&console.error("fetching vocabulary: 0"),e.abrupt("return",fetch(a.qe.databaseURL+"/lambda/vocabulary.json",{headers:{"Data-Version":o}}).then((function(e){return e.json().then((function(e){return{value:e,version:o}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("vocabulary/updateSpaceRepWord",function(){var e=y(m().mark((function e(t,r){var n,o,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,o=t.shouldIncrement,i=r.getState().vocabulary,a=i.setting.repetition,e.abrupt("return",(0,s.pg)(n,a,{count:o,date:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),w=(0,n.hg)("vocabulary/vocabularyFromLocalStorage",function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E={value:[],version:"",grpObj:{},verbForm:"dictionary",setting:{ordered:0,practiceSide:!1,romaji:!1,bareKanji:!1,hintEnabled:!1,filter:0,memoThreshold:c.YZ,reinforce:!1,repTID:-1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],autoVerbView:!1,verbColSplit:0,verbFormsOrder:(0,c.kf)().map((function(e){return e.name}))}},j=(0,n.oM)({name:"vocabulary",initialState:E,reducers:{verbFormChanged:function(e,t){return v(v({},e),{},{verbForm:t.payload})},toggleVocabularyActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,s.c0)(o,n);e.setting.activeGroup=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","activeGroup",i)},furiganaToggled:function(e,t){var r=t.payload,n=(0,s.pg)(r,e.setting.repetition,{count:!1,date:!1},{toggle:["f"]}).value;e.setting.repTID=Date.now(),e.setting.repetition=n},toggleVocabularyReinforcement:function(e){e.setting.reinforce=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","reinforce")},toggleVocabularyOrdering:function(e,t){var r=e.setting.ordered,n=t.payload,o=[s.vl.ALPHABETIC,s.vl.DIFFICULTY,s.vl.GAME,s.vl.RANDOM,s.vl.VIEW_DATE],i=(0,s.P_)(r+1,o,n);e.setting.ordered=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","ordered",i)},flipVocabularyPracticeSide:function(e){e.setting.practiceSide=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","practiceSide")},toggleVocabularyRomaji:function(e){e.setting.romaji=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","romaji")},toggleVocabularyBareKanji:function(e){e.setting.bareKanji=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","bareKanji")},toggleVocabularyHint:function(e){e.setting.hintEnabled=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","hintEnabled")},toggleVocabularyFilter:function(e,t){var r=[s.Lx.FREQUENCY,s.Lx.GROUP],n=t.payload,o=e.setting,i=o.filter,a=o.reinforce,c=(0,s.P_)(i+1,r,n);e.setting.filter=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","filter",c),0!==c&&a&&(e.setting.reinforce=!1)},setVerbFormsOrder:function(e,t){var r=t.payload;e.setting.verbFormsOrder=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbFormsOrder",r)},toggleAutoVerbView:function(e){e.setting.autoVerbView=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","autoVerbView")},updateVerbColSplit:function(e,t){var r=t.payload;e.setting.verbColSplit=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbColSplit",r)},addFrequencyWord:function(e,t){var r=t.payload,n=(0,s.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",n);var o={uid:r,count:e.setting.frequency.count+1};e.setting.frequency=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","frequency",o)},removeFrequencyWord:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,s.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",i);var a={uid:n,count:e.setting.frequency.count-1};e.setting.frequency=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","frequency",a)}},setMemorizedThreshold:function(e,t){var r=t.payload;e.setting.memoThreshold=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","memoThreshold",r)},setWordDifficulty:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.value,i=(0,s.pg)(n,e.setting.repetition,{count:!1,date:!1},{set:{difficulty:o}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",i)},prepare:function(e,t){return{payload:{uid:e,value:t}}}},setWordTPCorrect:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.tpElapsed,i=r.pronunciation,a=e.setting.repetition,c=1,u=1,s=o;if(a[n]){var f=a[n].tpPc,p=a[n].tpAcc,m=a[n].tpCAvg||0;if(void 0!==f&&null!=p){var h=f*p;u=(h+1)/(c=f+1),s=(m*h+o)/(h+1)}}var y=v(v({},a[n]||{}),{},{pron:null===i||void 0===a[n]?void 0:a[n].pron,tpPc:c,tpAcc:u,tpCAvg:s}),g=v(v({},a),{},d({},n,y));e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",g)},prepare:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.pronunciation;return{payload:{uid:e,tpElapsed:t,pronunciation:n}}}},setWordTPIncorrect:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.pronunciation,i=e.setting.repetition,a=1,c=0;if(i[n]){var u=i[n].tpPc,s=i[n].tpAcc;void 0!==u&&null!=s&&(c=(u*s+0)/(a=u+1))}var f=v(v({},i[n]||{}),{},{tpPc:a,tpAcc:c,pron:!0===o||void 0}),p=v(v({},i),{},d({},n,f));e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",p)},prepare:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.pronunciation;return{payload:{uid:e,pronunciation:r}}}}},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var r=t.payload,n=i()(E.setting,r),o=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:o.length},v(v({},e),{},{setting:v(v({},n),{},{repTID:Date.now()})})})),e.addCase(g.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version;e.grpObj=(0,u.by)(n),e.value=(0,u.MS)(n),e.version=o})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload.value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",r)}))}}),S=j.actions,O=S.verbFormChanged,k=S.furiganaToggled,x=S.removeFrequencyWord,P=S.setVerbFormsOrder,A=S.toggleVocabularyOrdering,T=S.toggleVocabularyActiveGrp,N=S.toggleAutoVerbView,L=S.toggleVocabularyFilter,C=S.toggleVocabularyHint,I=S.toggleVocabularyReinforcement,M=S.toggleVocabularyRomaji,D=S.updateVerbColSplit,R=S.toggleVocabularyBareKanji,F=S.flipVocabularyPracticeSide,_=S.addFrequencyWord,G=S.setWordDifficulty,q=S.setMemorizedThreshold,V=S.setWordTPCorrect,W=S.setWordTPIncorrect;const U=j.reducer},6954:e=>{e.exports=JSON.parse('{"Be":["a","i","u","e","o"],"sH":["","k","g","s","z","t","d","n","h","b","p","m","y","r","w","N"],"Bw":[["あ","い","う","え","お"],["か","き","く","け","こ"],["が","ぎ","ぐ","げ","ご"],["さ","し","す","せ","そ"],["ざ","じ","ず","ぜ","ぞ"],["た","ち","つ","て","と"],["だ","ぢ","づ","で","ど"],["な","に","ぬ","ね","の"],["は","ひ","ふ","へ","ほ"],["ば","び","ぶ","べ","ぼ"],["ぱ","ぴ","ぷ","ぺ","ぽ"],["ま","み","む","め","も"],["や"," ","ゆ"," ","よ"],["ら","り","る","れ","ろ"],["わ","ゐ"," ","ゑ","を"],["ん"," "," "," "," "]],"TU":[["ア","イ","ウ","エ","オ"],["カ","キ","ク","ケ","コ"],["ガ","ギ","グ","ゲ","ゴ"],["サ","シ","ス","セ","ソ"],["ザ","ジ","ズ","ゼ","ゾ"],["タ","チ","ツ","テ","ト"],["ダ","ヂ","ヅ","デ","ド"],["ナ","ニ","ヌ","ネ","ノ"],["ハ","ヒ","フ","ヘ","ホ"],["バ","ビ","ブ","ベ","ボ"],["パ","ピ","プ","ペ","ポ"],["マ","ミ","ム","メ","モ"],["ヤ"," ","ユ"," ","ヨ"],["ラ","リ","ル","レ","ロ"],["ワ","ヰ"," ","ヱ","ヲ"],["ン"," "," "," "," "]],"jX":{"si":"shi","ti":"chi","tu":"tsu","hu":"fu","zi":"ji","di":"dji","du":"dzu","Na":"n"}}')}},e=>{e.O(0,[913,816,794,931,612,697,555,774,25,104,105,418,642,995,86,220,183,388,593,623,617,216,810,260,303,979,655],(()=>(8067,e(e.s=8067)))),e.O()}]);