/*! For license information please see main.cfa97d12.js.LICENSE.txt */
"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[179],{7508:(e,t,r)=>{r.d(t,{qe:()=>o,vT:()=>i});const n="nmemonica-9d977",o={apiKey:"AIzaSyD0R3dzI2GREIuA0irO3dMT0n4CP59-GjQ",authDomain:n+".firebaseapp.com",databaseURL:"https://"+n+".firebaseio.com",projectId:n,storageBucket:n+".appspot.com",messagingSenderId:"839840260761",appId:"1:839840260761:web:6d72438c4131e3ce368e08"},i="https://us-east1-"+n+".cloudfunctions.net/g_translate_pronounce"},6456:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(7294),o=r(5697),i=r.n(o),a=r(5529),c=r(7508),l=r(7672),s=r(8090);function u(e){var t,r=e.word;return n.createElement("div",{className:"clickable",onTouchStart:e.visible?function(){t=Date.now(),e.onPushedPlay&&"function"==typeof e.onPushedPlay&&e.onPushedPlay()}:void 0,onTouchEnd:e.visible?function(){var n=~~(Date.now()-t)<500&&!e.reCache?"":"/override_cache",o=(0,l.b1)(c.vT+n,r);(0,s.R$)(o)}:void 0},e.visible&&n.createElement(a.Ibz,{size:"medium","aria-label":"pronunciation"}))}u.defaultProps={visible:!1},u.propTypes={word:i().shape({tl:i().string.isRequired,q:i().string.isRequired,uid:i().string.isRequired}).isRequired,reCache:i().bool,onPushedPlay:i().func,visible:i().bool}},9886:(e,t,r)=>{r.d(t,{Qp:()=>m,Vv:()=>y,e2:()=>v});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(5529),s=r(7625),u=r(6024);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){return e.visible?null:n.createElement("div",{className:"loop-btn loop-setting-btn clickable","aria-label":"Loop repeat settings button",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()}},n.createElement(l.reW,{className:i()({"rotate-135":!0,"disabled-color":!e.active}),size:"small"}),e.active&&n.createElement("span",{className:"notification"},e.loop))}function m(e){var t=e.className;return e.visible?null:n.createElement("div",{className:i()(h({"loop-btn loop-start-btn clickable":!0},t||{})),"aria-label":"Loop start button"},n.createElement(s.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:u.aQ}),null!=e.countDown&&n.createElement("span",{className:"notification"},e.countDown))}function y(e){var t=e.className;return e.visible?null:n.createElement("div",{className:i()(h({"loop-btn loop-stop-btn clickable":!0},t||{})),"aria-label":"Loop stop button"},n.createElement(s.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:u.oD}))}v.propTypes={visible:c().bool,active:c().bool,loop:c().number,onClick:c().func},m.propTypes={visible:c().bool,onClick:c().func,className:c().object,countDown:c().number},y.propTypes={visible:c().bool,onClick:c().func,className:c().object}},5231:(e,t,r)=>{r.d(t,{Z:()=>S});var n=r(7294),o=r(6706),i=r(5697),a=r.n(i),c=r(4184),l=r.n(c),s=r(2022);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(o);if(i){var r=j(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={window:6,scroll:0,messages:t.squashSeqMsgs(t.props.messages)},t.props,t.setState,t.scrollUp=t.scrollUp.bind(w(t)),t}return t=c,(r=[{key:"componentDidUpdate",value:function(e){if(this.props.debug===s.x6.OFF&&this.props.debug!==e.debug&&this.setState({scroll:0,messages:[]}),this.props.messages.length!==e.messages.length){var t=this.squashSeqMsgs(this.props.messages);this.setState({scroll:0,messages:t})}}},{key:"scrollUp",value:function(){var e=this.state.messages,t=this.state.window,r=e.length-t>-1?e.length-t:0;this.state.scroll<r&&this.setState((function(e){return{scroll:e.scroll+1}}))}},{key:"squashSeqMsgs",value:function(e){var t=[],r=0;return e.forEach((function(n,o){if(o>0&&n.msg===e[o-1].msg)r++;else if(r>0){var i=t.slice(0,-1),a=t.slice(-1)[0];t=[].concat(d(i),[p(p({},a),{},{msg:a.msg+" "+(r+1)+"+"}),n]),r=0}else t=[].concat(d(t),[n])})),t}},{key:"render",value:function(){var e=this,t=-this.state.window-this.state.scroll,r=this.state.scroll>0?-1*this.state.scroll:void 0,o=this.state.messages.slice(t,r);return n.createElement("div",{className:l()({"console p-1":!0,"position-absolute":!0===this.props.connected,"mw-50":!0===this.props.connected})},o.map((function(t,r){var o=l()(p(p({"app-sm-fs-xx-small":!0},t.css?h({},t.css,!0):{}),{},{"correct-color":t.lvl===s.x6.DEBUG,"question-color":t.lvl===s.x6.WARN,"incorrect-color":t.lvl===s.x6.ERROR}));return n.createElement("div",{key:r,className:o,onClick:e.scrollUp},t.msg)})))}}])&&m(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);E.propTypes={connected:a().bool,messages:a().array,debug:a().number};const S=(0,o.$j)((function(e,t){return!0!==t.connected&&t.messages?{messages:t.messages,debug:s.x6.DEBUG}:{messages:e.global.console,debug:e.global.debug}}),{})(E)},6892:(e,t,r)=>{r.d(t,{M:()=>f});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(5529);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t,r=i()((u(t={},""+e.addlStyle,!!e.addlStyle),u(t,"p-0 px-2",!0),u(t,"font-weight-bold",e.active),t));return n.createElement("div",{className:r,onClick:e.onClick},n.createElement("span",{className:"p-1"},e.active?n.createElement(l.oOx,{className:"clickable incorrect-color",size:"small","aria-label":"remove"}):n.createElement(l.wl8,{className:"clickable",size:"small","aria-label":"add"})),n.createElement("span",{className:"p-1"},e.children))}f.propTypes={addlStyle:c().string,active:c().bool,onClick:c().func,children:c().string}},7588:(e,t,r)=>{r.d(t,{R:()=>l});var n=r(7294),o=r(5697),i=r.n(o),a=r(5529),c=r(1816);function l(e){var t="error";return n.createElement("div",{className:"d-flex justify-content-between h-100"},n.createElement(c.Z,{color:t,ariaLabel:"Previous",action:e.prev},n.createElement(a.wyc,{size:16})),e.children,n.createElement(c.Z,{color:t,ariaLabel:"Next",action:e.next},n.createElement(a.XCv,{size:16})))}l.propTypes={prev:i().func,next:i().func,color:i().string,children:i().object}},1741:(e,t,r)=>{r.d(t,{n:()=>u});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t,r=i()((s(t={},e.addlStyle,!0),s(t,"d-flex flex-column justify-content-around text-center h-100",!0),t));return n.createElement("div",{className:r},n.createElement("div",null,"Awaiting data ..."))}u.propTypes={addlStyle:c().string}},3653:(e,t,r)=>{r.d(t,{A:()=>p,D4:()=>w,Qp:()=>j,R_:()=>d,Ro:()=>g,lh:()=>E,ph:()=>y,uY:()=>b,y8:()=>m});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(5529),s=r(7625),u=r(1436),f=r(2613);function p(e){var t=e.active,r=e.toggle,o=e.toggleFurigana,a=e.vocabulary;return!1===e.visible?null:n.createElement("div",{className:i()({clickable:t,"sm-icon-grp":!0,"sm-kanji":t}),onClick:t?function(){return o(a.uid)}:void 0,"aria-label":"Toggle furigana"},t?n.createElement("ruby",null,"漢",n.createElement("rt",{className:i()({"disabled disabled-color":!r})},"ふりがな")):n.createElement("span",{className:"disabled disabled-color"},"あ"))}function h(e){var t=(0,n.useRef)(0),r=e.addFrequencyTerm,o=e.removeFrequencyTerm,a=e.toggle,c=e.term,s=e.count,u=void 0===s?t.current:s,p=(0,f.oU)(),h=t.current===u;return(0,n.useEffect)((function(){t.current=void 0!==u?u:0,!1===h&&p()}),[u,h,p]),!1===e.visible?null:n.createElement("div",{"aria-label":a?"Remove term":"Add term",className:"sm-icon-grp clickable",onClick:function(){a?o(c.uid):r(c.uid)}},a?n.createElement(l.oOx,{size:"small"}):n.createElement(l.wl8,{size:"small"}),void 0!==u&&u>-1&&n.createElement("span",{className:i()({notification:!0,"notification-fade":h})},u))}p.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,toggleFurigana:c().func,hasFurigana:c().bool,vocabulary:c().object},h.propTypes={visible:c().bool,active:c().bool,addFrequencyTerm:c().func,removeFrequencyTerm:c().func,toggle:c().bool,term:c().object,count:c().number};var d=(0,n.memo)(h,v);function v(e,t){var r=e.toggle===t.toggle,n=e.count===t.count&&e.toggle===t.toggle||e.count===t.count&&e.toggle!==t.toggle||e.count!==t.count&&e.toggle===t.toggle,o=e.term.uid===t.term.uid&&e.active===t.active&&e.visible===t.visible&&e.addFrequencyTerm===t.addFrequencyTerm&&e.removeFrequencyTerm===t.removeFrequencyTerm;return(void 0!==t.count?n:r)&&o}function m(e){var t=e.active,r=e.setShowHint;return e.visible?n.createElement("div",{className:i()({"sm-icon-grp":!0,clickable:t,"disabled disabled-color":!t}),onClick:t?function(){r(!0),setTimeout((function(){r(!1)}),1500)}:void 0,"aria-label":t?"Show hint":"Hint unavailable"},n.createElement(l.OgN,{size:"small"})):null}function y(e){var t=e.toggleAutoVerbView,r=e.autoVerbView;return e.visible?n.createElement("div",{className:"sm-icon-grp clickable",onClick:function(){return t()},"aria-label":"Toggle auto verb view"},n.createElement(s.G,{icon:r?u.gPx:u.Bxq})):null}function g(e){var t=e.active,r=e.action;return!1===e.visible?null:n.createElement("div",{className:i()({clickable:!0,"sm-icon-grp":!0,"disabled-color":t}),onClick:function(){"function"==typeof r&&r()},"aria-label":"Override audio"},n.createElement(s.G,{icon:u.TZC}))}function b(e){var t=e.action,r=e.toggle;return!1===e.visible?null:n.createElement("div",{"aria-label":"Toggle practice side"},n.createElement(s.G,{className:"clickable",onClick:function(){"function"==typeof t&&t()},icon:r?u.dzc:u.UJf}),n.createElement("span",{className:"notification"},n.createElement(s.G,{icon:r?u.UJf:u.dzc})))}function w(e){var t=e.action,r=e.toggle;return e.visible?n.createElement("div",{className:i()({clickable:!0,"sm-icon-grp":!0,"info-color":r}),onClick:function(){"function"==typeof t&&t()},"aria-label":"Literal english translation"},n.createElement(l.Rg1,{size:"small"})):null}function j(e){return e.visible?n.createElement("div",null,n.createElement(s.G,{icon:u.RJo})):null}function E(e){return e.visible?n.createElement(n.Fragment,null,n.createElement("div",{key:0,className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onIncorrect&&e.onIncorrect()}},n.createElement("span",{className:i()({"border-bottom":"incorrect"===e.hover})},"-1")),n.createElement("div",{key:1,className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onPronunciation&&e.onPronunciation()}},n.createElement("span",{className:i()({"border-bottom":"pronunciation"===e.hover||"reset"!==e.hover&&!0===e.prevMissPronu})},"P")),n.createElement("div",{key:2,className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onReset&&e.onReset()}},n.createElement("span",{className:i()({"border-bottom":"reset"===e.hover})},"0"))):null}m.propTypes={visible:c().bool,active:c().bool,setShowHint:c().func},y.propTypes={visible:c().bool,active:c().bool,toggleAutoVerbView:c().func,autoVerbView:c().bool},g.propTypes={visible:c().bool,active:c().bool,action:c().func},b.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},w.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},j.propTypes={visible:c().bool},E.propTypes={visible:c().bool,hover:c().string,onClick:c().func,onIncorrect:c().func,onPronunciation:c().func,onReset:c().func,prevMissPronu:c().bool}},3307:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(7294),o=r(5697),i=r.n(o),a=r(4184),c=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t,r;e.children&&(t=e.children,r=e.children),e.largeValue&&(t=e.largeValue),e.smallValue&&(r=e.smallValue);var o=void 0!==e.rootClassName&&c()(e.rootClassName)||void 0,i=void 0!==e.className&&e.className||{},a="d-none d-"+e.breakPoint+"-inline"+(void 0!==e.largeClassName?" "+c()(e.largeClassName):""),l="d-inline d-"+e.breakPoint+"-none"+(void 0!==e.smallClassName?" "+c()(e.smallClassName):""),s=function(){"function"==typeof e.onClick&&e.onClick()},p=[n.createElement("span",{key:0,"data-name":"large",className:c()(u(u(f({},a,!0),i),{},{clickable:"function"==typeof e.onClick}))||void 0,onClick:s},t),n.createElement("span",{key:1,"data-name":"small",className:c()(u(u(f({},l,!0),i),{},{clickable:"function"==typeof e.onClick}))||void 0,onClick:s},r)];return!0===e.fragment?n.createElement(n.Fragment,null,p):n.createElement("div",{className:o},p)}p.propTypes={fragment:i().bool,breakPoint:i().string,rootClassName:i().object,className:i().object,largeClassName:i().object,smallClassName:i().object,onClick:i().func,children:i().oneOfType([i().string,i().element]),largeValue:i().oneOfType([i().string,i().element]),smallValue:i().oneOfType([i().string,i().element])}},1816:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(7294),o=r(5697),i=r.n(o),a=r(6914);function c(e){return n.createElement(a.Z,{size:"small",color:e.color,"aria-label":e.ariaLabel,sx:{color:e.color?void 0:"unset"},onClick:e.action},e.children)}c.propTypes={action:i().func.isRequired,color:i().string,ariaLabel:i().string.isRequired,children:i().object.isRequired};const l=c},9897:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(7294),o=r(5697),i=r.n(o),a=r(4184),c=r.n(a),l=r(5529),s=r(1816);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r,o=(0,n.useReducer)((function(e,t){return h(h({},e),t)}),{showMeaning:!1,incorrect:[],correct:!1}),i=(r=2,function(e){if(Array.isArray(e))return e}(t=o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||v(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],u=i[1],p=function(){u({showMeaning:!1,correct:!1,incorrect:[]})},d=e.question,m=e.choices,y=void 0!==d.english?"[English]":"";return void 0===e.hint?a.showMeaning&&d.english&&(y=d.english):y=a.showMeaning&&d.english?d.english:e.hint,n.createElement("div",{key:0,className:"pick4game main-panel h-100"},n.createElement("div",{className:"d-flex justify-content-between h-100"},n.createElement(s.Z,{ariaLabel:"Previous",action:function(){p(),e.gotoPrev()}},n.createElement(l.wyc,{size:16})),n.createElement("div",{className:c()({"question d-flex flex-column justify-content-center text-center w-50":!0})},n.createElement("h1",null,d.toHTML(a.correct)),n.createElement("span",{className:c()({invisible:!e.qRomaji})},d.romaji),void 0!==y&&n.createElement("span",{className:"clickable",onClick:function(){u({showMeaning:!a.showMeaning})}},y)),n.createElement("div",{className:"choices d-flex justify-content-around flex-wrap w-50"},m.map((function(t,r){var o=e.isCorrect(m[r])&&a.correct,i=a.incorrect.includes(r),l=c()({"w-50 h-50 pt-3 d-flex flex-column justify-content-evenly text-center clickable":!0,"correct-color":o,"incorrect-color":i});return n.createElement("div",{key:r,className:l,onClick:function(){!function(t,r){e.isCorrect(t)?(u({correct:!0,showMeaning:!0}),setTimeout((function(){p(),e.gotoNext()}),1e3)):2===a.incorrect.length?(u({incorrect:[].concat(f(a.incorrect),[r]),correct:!0,showMeaning:!0}),setTimeout((function(){p(),e.gotoNext()}),1e3)):u({incorrect:[].concat(f(a.incorrect),[r])})}(t,r)}},n.createElement("div",null,n.createElement("h4",null,t.toHTML()),o&&n.createElement("div",null,t.english),n.createElement("span",{className:c()({invisible:!e.aRomaji})},t.romaji)))}))),n.createElement(s.Z,{ariaLabel:"Next",action:function(){p(),e.gotoNext()}},n.createElement(l.XCv,{size:16}))))}y.propTypes={question:i().object,hint:i().string,isCorrect:i().func.isRequired,choices:i().array,gotoNext:i().func.isRequired,gotoPrev:i().func.isRequired,qRomaji:i().bool,aRomaji:i().bool};const g=y},3151:(e,t,r)=>{r.r(t),r.d(t,{KanjiGameMeta:()=>T,default:()=>N,oneFromList:()=>A});var n=r(9041),o=r(4184),i=r.n(o),a=r(7294),c=r(6706),l=r(9655),s=r(5412),u=r(7),f=r(3058),p=r(7641),h=r(9252),d=r(609),v=r(1741),m=r(3653),y=r(9897),g=r(5045),b=r(4410),w=r(1080);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={location:"/kanji-game/",label:"Kanji Game"};function A(e){var t=e,r=e.split(",");if(r.length>1){var n=r[Math.floor(Math.random()*r.length)].trim();t=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}return t}function N(){var e,t=(0,c.I0)(),r=(0,w.A)(),o=r.rawKanjis,j=r.activeTags,k=r.filterType,x=r.reinforce,T=r.repetitionObj;(0,a.useMemo)((function(){0===o.length&&t((0,s.tk)())}),[]);var N=(0,a.useRef)([]),L=E((0,a.useState)(0),2),R=L[0],C=L[1],M=(0,a.useMemo)((function(){return T}),[T]),I=(0,h.n)(M,o,x,k,j);N.current=(0,a.useMemo)((function(){return(0,f.tq)(I)}),[I]);var D=E((0,a.useState)(!1),2),_=D[0],F=D[1],G=(0,p.e)(M,I),q=(0,b.h)(_,G,I),V=E((0,d.D)(_,q,I.length,C),2),U=V[0],W=V[1],K=(U=(0,a.useMemo)((function(){var e;return null!==(e=U)&&void 0!==e?e:I[N.current[R]]}),[U,I,R]))&&!0===(null===(e=M[U.uid])||void 0===e?void 0:e.rein),Z=(0,a.useMemo)((function(){return function(e,t){if(e&&0!==t.length){var r=e.uid,n=e.kanji,o=e.on,c=e.kun;return{question:{toHTML:function(e){return a.createElement("div",null,a.createElement("div",{className:i()({"correct-color":e})},a.createElement("span",null,n)),(void 0!==o||void 0!==c)&&a.createElement("div",{className:i()({"d-flex flex-column mt-3 h4":!0,invisible:!e,"correct-color":e})},a.createElement("span",null,o),a.createElement("span",null,c)))}},answer:r,choices:function(e,t){for(var r=function(e){return e.split(",").map((function(e){return e.trim()}))},n=[P(P({},e),{},{english:A(e.english)})],o=r(e.english);n.length<4;){var i=t[Math.floor(Math.random()*t.length)],a=r(i.english);a.every((function(e){return o.every((function(t){return t!==e}))}))&&a.every((function(e){return n.every((function(t){return e!==t.english}))}))&&(n=[].concat(function(e){if(Array.isArray(e))return O(e)}(c=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||S(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[P(P({},i),{},{english:A(i.english)})]))}var c;return(0,u.Sy)(n),n}(e,t).map((function(e){return{compare:e.uid,toHTML:function(){return e.english}}}))}}}(U,o)}),[U,o]),B=(0,a.useCallback)((function(e){t((0,s.Mh)(e))}),[t]),z=(0,a.useCallback)((function(e){t((0,s.SI)(e))}),[t]);if(void 0===Z)return a.createElement(v.n,{addlStyle:"main-panel"});var H=I.length,J=(R+1)/H*100;return a.createElement(a.Fragment,null,a.createElement(y.Z,{question:Z.question,isCorrect:function(e){return e.compare===Z.answer},choices:Z.choices,gotoPrev:function(){F(!1),W((function(e){return e-1}))},gotoNext:function(){var e=x&&Math.random()<1/3;F(e),W((function(e){return e+1}))}}),a.createElement("div",{className:"options-bar mb-3 flex-shrink-1"},a.createElement("div",{className:"row opts-max-h"},a.createElement("div",{className:"col"},a.createElement("div",{className:"d-flex justify-content-start"},a.createElement(l.rU,{to:g.KanjiGridMeta.location},a.createElement(m.uY,{toggle:!0,action:function(){}})))),a.createElement("div",{className:"col text-center"},a.createElement(m.Qp,{visible:K&&U.uid!==I[N.current[R]].uid})),a.createElement("div",{className:"col"},a.createElement("div",{className:"d-flex justify-content-end"},a.createElement(m.R_,{addFrequencyTerm:B,removeFrequencyTerm:z,toggle:K,term:U}))))),a.createElement("div",{className:"progress-line flex-shrink-1"},a.createElement(n.Z,{variant:"determinate",value:J,color:K?"secondary":"primary"})))}},5045:(e,t,r)=>{r.r(t),r.d(t,{KanjiGridMeta:()=>F,default:()=>G});var n=r(2409),o=r(8301),i=r(9041),a=r(4184),c=r.n(a),l=r(7294),s=r(6706),u=r(9655),f=r(5412),p=r(3058),h=r(7641),d=r(2613),v=r(9252),m=r(4410),y=r(609),g=r(1741),b=r(3653),w=r(3151),j=r(5529),E=r(5697),S=r.n(E),O=r(1816);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function P(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e){var t=(0,l.useReducer)((function(e,t){return T(T({},e),t)}),{showMeaning:!1,incorrect:[],correct:-1}),r=N(t,2),n=r[0],o=r[1],i=function(){o({showMeaning:!1,correct:-1,incorrect:[]})},a=e.choices,s=c()({"pickXgame main-panel h-100":!0,"z-index-2":!0});return l.createElement("div",{key:0,className:s},l.createElement("div",{className:"d-flex justify-content-between h-100"},l.createElement(O.Z,{ariaLabel:"Previous",action:function(){i(),e.gotoPrev()}},l.createElement(j.wyc,{size:16})),l.createElement("div",{className:"choices d-flex justify-content-around flex-wrap w-100"},a.map((function(t,r){return s=r,u=a.length,f=n.incorrect.includes(s),p=n.correct===s,h=c()({clickable:!0,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":p,"incorrect-color":f}),d=c()({"mb-0":!0}),v=Math.trunc(1/Math.ceil(Math.sqrt(u))*.75*100)+"%",l.createElement("div",{key:s,onClick:function(){return t=a[s],r=s,l=(c=N(e.isCorrect(t),2))[0],u=c[1],void(l?(o({correct:r,showMeaning:!0}),setTimeout((function(){i(),e.gotoNext()}),1e3)):2===n.incorrect.length?(o({incorrect:[].concat(P(n.incorrect),[r]),correct:u,showMeaning:!0}),setTimeout((function(){i(),e.gotoNext()}),2500)):o({incorrect:[].concat(P(n.incorrect),[r])}));var t,r,c,l,u},className:h,style:{width:v}},l.createElement("h2",{className:d},a[s].toHTML()));var s,u,f,p,h,d,v}))),l.createElement(O.Z,{ariaLabel:"Next",action:function(){i(),e.gotoNext()}},l.createElement(j.XCv,{size:16}))))}C.propTypes={question:S().object,isCorrect:S().func.isRequired,choices:S().array,gotoNext:S().func.isRequired,gotoPrev:S().func.isRequired};const M=C;var I=r(1080);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F={location:"/kanji-grid/",label:"Kanji Grid Game"};function G(){var e,t=(0,s.I0)(),r=(0,I.A)(),a=r.rawKanjis,j=r.activeTags,E=r.filterType,S=r.reinforce,O=r.choiceN,k=r.repetition;(0,l.useMemo)((function(){0===a.length&&t((0,f.tk)())}),[]);var P=(0,l.useRef)([]),x=D((0,l.useState)(0),2),T=x[0],A=x[1],N=D((0,l.useState)(!1),2),L=N[0],R=N[1],C=(0,v.n)(k,a,S,E,j);P.current=(0,l.useMemo)((function(){return(0,p.tq)(C)}),[C]);var _=D((0,l.useState)(""),2),G=_[0],q=_[1],V=D((0,l.useState)(!1),2),U=V[0],W=V[1],K=(0,h.e)(k,C),Z=(0,m.h)(U,K,C),B=D((0,y.D)(U,Z,C.length,A),2),z=B[0],H=B[1],J=(z=(0,l.useMemo)((function(){var e,t=null!==(e=z)&&void 0!==e?e:C[P.current[T]];if(t){var r=(0,w.oneFromList)(t.english);q(r)}return t}),[z,C,T]))&&!0===(null===(e=k[z.uid])||void 0===e?void 0:e.rein),Y=(0,v.b)(O,"english",z,a),Q=(0,l.useCallback)((function(){var e;if(null!==(e=z)&&void 0!==e&&e.english.includes(",")){for(var t=G;t===G;)t=(0,w.oneFromList)(z.english);q(t)}}),[z,G]),$=(0,l.useMemo)((function(){return function(e,t,r,n,o){if(e&&0!==t.length){var i=e.english,a=e.kanji,s=e.on,u=e.kun,f=e.uid,p=n!==i;return{question:{toHTML:function(e){return r?l.createElement("div",null,l.createElement("div",{className:c()({"correct-color":e})},l.createElement("span",null,a)),(void 0!==s||void 0!==u)&&l.createElement("div",{className:c()({"d-flex flex-column mt-3 h4":!0,"transparent-color":!e,"correct-color":e})},l.createElement("span",null,s),l.createElement("span",null,u))):l.createElement("div",{onClick:p?o:void 0},n+(p?"...":""))}},answer:f,choices:t.map((function(e){return{compare:e.uid,toHTML:function(t){return(null!=t?t:r)?e.english:e.kanji}}}))}}}(z,Y,L,G,Q)}),[z,Y,L,G,Q]),X=(0,l.useRef)(-1),ee=D((0,l.useState)(""),2),te=ee[0],re=ee[1],ne=D((0,l.useState)({w:0,h:0}),2),oe=ne[0],ie=ne[1],ae=(0,d.iP)(),ce=(0,n.YF)({placement:"bottom",middleware:[(0,o.cv)({mainAxis:void 0===ae.height?0:ae.height/2-oe.h,crossAxis:0}),(0,o.uY)()]}),le=ce.x,se=ce.y,ue=ce.strategy,fe=ce.refs,pe=ce.update;(0,l.useEffect)((function(){var e,t,r=null===(e=fe.floating.current)||void 0===e?void 0:e.clientWidth,n=null===(t=fe.floating.current)||void 0===t?void 0:t.clientHeight;te.length>0&&r&&r>0&&n&&n>0&&(ie({w:r,h:n}),pe())}),[te,ie,fe.floating,pe]);var he=(0,l.useCallback)((function(e){t((0,f.Mh)(e))}),[t]),de=(0,l.useCallback)((function(e){t((0,f.SI)(e))}),[t]);if(void 0===$)return l.createElement(g.n,{addlStyle:"main-panel"});var ve=(T+1)/C.length*100;return l.createElement(l.Fragment,null,l.createElement("div",{className:"tooltip-anchor",ref:fe.setReference}),l.createElement("div",{ref:fe.setFloating,style:{position:ue,top:null!=se?se:0,left:null!=le?le:0,width:"max-content",fontWeight:"bold",fontSize:"xxx-large"},className:c()({"dark-mode-color":!0,"notification-fade":te.length>0})},te),l.createElement(M,{question:$.question,isCorrect:function(e){var t=e.compare===$.answer,r=$.choices.findIndex((function(e){return e.compare===$.answer}));return t||(X.current>-1&&te.length>0?(clearTimeout(X.current),re(""),setTimeout((function(){return re(e.toHTML(!L))}),100)):(re(e.toHTML(!L)),X.current=window.setTimeout((function(){return re("")}),2500))),[t,r]},choices:$.choices,gotoPrev:function(){W(!1),H((function(e){return e-1}))},gotoNext:function(){var e=S&&Math.random()<1/3;W(e),H((function(e){return e+1}))}}),l.createElement("div",{className:"options-bar mb-3 flex-shrink-1"},l.createElement("div",{className:"row opts-max-h"},l.createElement("div",{className:"col"},l.createElement("div",{className:"d-flex justify-content-start"},l.createElement(u.rU,{to:L?F.location:w.KanjiGameMeta.location},l.createElement(b.uY,{toggle:L,action:function(){return R((function(e){return!e}))}})))),l.createElement("div",{className:"col text-center"},l.createElement(b.Qp,{visible:J&&z.uid!==C[P.current[T]].uid})),l.createElement("div",{className:"col"},l.createElement("div",{className:"d-flex justify-content-end"},l.createElement("span",null,$.question.toHTML(!1)),l.createElement(b.R_,{addFrequencyTerm:he,removeFrequencyTerm:de,toggle:J,term:z}))))),l.createElement("div",{className:"progress-line flex-shrink-1"},l.createElement(i.Z,{variant:"determinate",value:ve,color:J?"secondary":"primary"})))}},2917:(e,t,r)=>{r.r(t),r.d(t,{OppositesGameMeta:()=>E,default:()=>S});var n=r(7294),o=r(6706),i=r(9041),a=r(7),c=r(3058),l=r(1741),s=r(9897),u=r(4184),f=r.n(u),p=r(1513),h=r(2778);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E={location:"/opposites/",label:"Opposites Game"};const S=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.opposite})),r=t.value,u=t.qRomaji,d=t.aRomaji;(0,n.useMemo)((function(){0===r.length&&e((0,h.bt)())}),[]);var m=(0,n.useMemo)((function(){return r}),[r]),g=(0,n.useRef)([]),w=b((0,n.useState)(0),2),j=w[0],E=w[1],S=function(e,t){if(t.length>0){0===g.current.length&&(g.current=(0,c.tq)(t));for(var r=b(t[g.current[e]],2),o=r[0],i=r[1],l=p.TZ.parse(o),s=p.TZ.parse(i),u=y(y({},o),{},{toHTML:function(e){return n.createElement("span",{className:f()({"correct-color":e})},l.toHTML())}}),h=y(y({},i),{},{compare:i.japanese,toHTML:function(){return s.toHTML()}}),d=[h],m=[h.romaji,u.romaji],w=function(){var e=Math.floor(Math.random()*t.length),r=b(t[e],2),n=r[0],o=r[1];if(!m.includes(n.romaji)&&!m.includes(o.romaji))if(0===Math.floor(2*Math.random())){var i=p.TZ.parse(n);d=[].concat(v(d),[y(y({},n),{},{compare:n.japanese,toHTML:function(){return i.toHTML()}})]),m=[].concat(v(m),[n.romaji])}else{var a=p.TZ.parse(o);d=[].concat(v(d),[y(y({},o),{},{compare:o.japanese,toHTML:function(){return a.toHTML()}})]),m=[].concat(v(m),[o.romaji])}};d.length<4;)w();return(0,a.Sy)(d),{question:u,answer:h,choices:d}}}(j,m);if(void 0===S)return n.createElement(l.n,{addlStyle:"main-panel"});var O=(j+1)/m.length*100;return n.createElement(n.Fragment,null,n.createElement(s.Z,{key:0,question:S.question,isCorrect:function(e){return e.compare===S.answer.compare},choices:S.choices,qRomaji:u,aRomaji:d,gotoPrev:function(){var e=m.length,t=j-1;E(t<0?(e+t)%e:t%e)},gotoNext:function(){var e=m.length;E((j+1)%e)}}),n.createElement("div",{key:1,className:"progress-line flex-shrink-1"},n.createElement(i.Z,{variant:"determinate",value:O})))}},3494:(e,t,r)=>{r.r(t),r.d(t,{ParticlesGameMeta:()=>b,default:()=>w});var n=r(7294),o=r(6706),i=r(9041),a=r(7),c=r(7178),l=r(3058),s=r(1741),u=r(9897),f=r(118),p=r(1513);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b={location:"/particles/",label:"Particles Game"};const w=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.particle})).particleGame,r=t.phrases,h=t.particles;(0,n.useMemo)((function(){0===r.length&&e((0,f.aq)())}),[]);var d,m,b=(0,n.useRef)([]),w=(d=(0,n.useState)(0),m=2,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(d,m)||y(d,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=w[0],E=w[1],S=(0,o.v9)((function(e){return e.particle.setting})).aRomaji,O=function(e,t,r){if(0!==t.length&&0!==r.length){0===b.current.length&&(b.current=(0,l.tq)(t));var n=t[b.current[e]],o=n.answer,i=n.question,s=n.english,u=n.literal,f=v(v({},o),{},{toHTML:function(){return o.html}});r=r.map((function(e){return v(v({},e),{},{toHTML:function(){return e.html}})}));var h=function(e,t){for(var r=[e],n=function(){var e=Math.floor(Math.random()*t.length),n=t[e];r.every((function(e){return e.japanese!==n.japanese}))&&(r=[].concat(function(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r),[n]))};r.length<4;)n();return(0,a.Sy)(r),r}(f,r);return{question:{english:s,toHTML:function(e){return function(e,t,r){var n=t.start,o=t.end,i=r?"correct-color":"transparent-font underline";return(0,c.tn)(null==e?void 0:e.parseObj,{hidden:i},n,o)}(p.TZ.parse(i),f,e)}},answer:f,choices:h,literal:u}}}(j,r,h);if(void 0===O)return n.createElement(s.n,{addlStyle:"main-panel"});var k=(j+1)/r.length*100;return n.createElement(n.Fragment,null,n.createElement(u.Z,{key:0,question:O.question,isCorrect:function(e){return e.japanese===O.answer.japanese},hint:O.literal,choices:O.choices,aRomaji:S,gotoPrev:function(){var e=r.length,t=j-1;E(t<0?(e+t)%e:t%e)},gotoNext:function(){var e=r.length;E((j+1)%e)}}),n.createElement("div",{key:1,className:"progress-line flex-shrink-1"},n.createElement(i.Z,{variant:"determinate",value:k})))}},1944:(e,t,r)=>{r.r(t),r.d(t,{KanaGameMeta:()=>A,default:()=>L});var n=r(7294),o=r(6706),i=r(5697),a=r.n(i),c=r(4184),l=r.n(c),s=r(5529),u=r(5560),f=r(7),p=r(7625),h=r(1436),d=r(1816),v=r(1410),m=r(2022);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function O(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function P(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var A={location:"/kana/",label:["平仮名 Game","片仮名 Game","仮名 Game"]},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(o);if(i){var r=T(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return P(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={selectedIndex:0,question:"undefined",answer:{val:"",hint:"",cSet:0},choices:[],gameOrder:[],wrongs:[],reinforce:[],correct:!1,practiceSide:!1},t.props,t.setState,t.gotoNext=t.gotoNext.bind(x(t)),t.gotoPrev=t.gotoPrev.bind(x(t)),t.prepareGame=t.prepareGame.bind(x(t)),t.checkAnswer=t.checkAnswer.bind(x(t)),t.choiceButton=t.choiceButton.bind(x(t)),t.shuffleGameOrder=t.shuffleGameOrder.bind(x(t)),t.populateChoices=t.populateChoices.bind(x(t)),t.getPronunciation=t.getPronunciation.bind(x(t)),t.getKanaCharacter=t.getKanaCharacter.bind(x(t)),0===t.props.hiragana.length&&t.props.getKana(),t}return t=c,(r=[{key:"componentDidMount",value:function(){this.props.hiragana.length>0&&this.prepareGame()}},{key:"componentDidUpdate",value:function(e,t){this.state.selectedIndex!=t.selectedIndex&&this.prepareGame(),this.props.hiragana&&e.hiragana&&this.props.hiragana.length!=e.hiragana.length&&this.prepareGame(),this.state.practiceSide==t.practiceSide&&this.props.choiceN==e.choiceN||this.prepareGame()}},{key:"shuffleGameOrder",value:function(){for(var e=[],t=this.props.hiragana[0].length,r=this.props.hiragana.length,n=0;n<t;n++)for(var o=0;o<r;o++)1==n&&12==o||3==n&&12==o||2==n&&14==o||0!==n&&15==o||(e=[].concat(j(e),[{vowel:n,consonant:o}]));return(0,f.Sy)(e),e}},{key:"getPronunciation",value:function(e,t){var r=this.props.vowels,n=this.props.consonants[e]+r[t];return this.props.sounds[n]||n}},{key:"getKanaCharacter",value:function(e,t,r){return 0===r?this.props.hiragana[e][t]:this.props.katakana[e][t]}},{key:"kanaTypeLogic",value:function(e){return 2===e?Math.floor(2*Math.random()):e}},{key:"populateChoices",value:function(e,t){for(var r=this,n=[e],o=this.state.practiceSide,i=function(){var e,i=t.length,a=Math.floor(Math.random()*(i-0)+0),c=r.kanaTypeLogic(r.props.charSet),l=r.getPronunciation(t[a].consonant,t[a].vowel),s=r.getKanaCharacter(t[a].consonant,t[a].vowel,c);e=o?{val:s,hint:l,cSet:c}:{val:l,hint:s,cSet:c},(o&&!n.some((function(t){return t.hint===e.hint}))||!o&&!n.some((function(t){return t.val===e.val})))&&(n=[].concat(j(n),[e]))};n.length<this.props.choiceN;)i();return(0,f.Sy)(n),n}},{key:"prepareGame",value:function(){if(this.props.hiragana.length>0){var e,t,r,n=this.state.practiceSide;if(e=this.state.gameOrder.length>0?this.state.gameOrder:this.shuffleGameOrder(),[!1,!1,!0][Math.floor(3*Math.random())]&&this.state.reinforce.length>0){var o=this.state.reinforce[this.state.reinforce.length-1];if(n===o.practiceSide)r=o;else{var i=o.val;r={val:o.hint,hint:i,cSet:o.cSet}}}else{var a=e[this.state.selectedIndex],c=a.consonant,l=a.vowel,s=this.kanaTypeLogic(this.props.charSet),u=this.getPronunciation(c,l),f=this.getKanaCharacter(c,l,s);r=n?{val:f,hint:u,cSet:s}:{val:u,hint:f,cSet:s}}t=r.hint;var p=this.populateChoices(r,e);this.props.wideMode&&(p=[].concat(j(p),[{val:t,hint:t,cSet:r.cSet,q:!0}])),this.setState({question:t,answer:r,choices:p,gameOrder:e,wrongs:[],correct:!1})}}},{key:"checkAnswer",value:function(e){var t;if(e.val===(null===(t=this.state.answer)||void 0===t?void 0:t.val))this.setState({correct:!0}),setTimeout(this.gotoNext,500);else{var r=this.state.choices.findIndex((function(t){return t.val===e.val}));this.setState({wrongs:[].concat(j(this.state.wrongs),[r]),reinforce:[].concat(j(this.state.reinforce),[b(b({},e),{},{practiceSide:this.state.practiceSide})])})}}},{key:"gotoNext",value:function(){var e=this.state.gameOrder.length,t=(this.state.selectedIndex+1)%e;this.setState({selectedIndex:t,wrongs:[],correct:!1})}},{key:"gotoPrev",value:function(){var e=this.state.gameOrder.length,t=this.state.selectedIndex-1,r=t<0?(e+t)%e:t%e;this.setState({selectedIndex:r,wrongs:[],correct:!1})}},{key:"choiceButton",value:function(e){var t,r=this,o=this.state.choices,i=this.state.answer,a=this.state.correct,c=this.props.choiceN,s=this.state.wrongs.includes(e),u=o[e].val===i.val&&a,f=l()({clickable:!o[e].q,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":u||this.props.wideMode&&o[e].q&&a,"incorrect-color":s,"question-color":this.props.wideMode&&o[e].q&&!a}),p=l()({"mb-0":this.props.wideMode}),h="d-flex justify-content-around",d=l()({"mb-0":!0,invisible:!s}),m=this.props.wideMode?3/4:1,y=Math.trunc(1/Math.ceil(Math.sqrt(c))*m*100)+"%",g=!this.state.practiceSide;return t=!this.props.easyMode||this.props.easyMode&&!g?this.props.easyMode&&!g&&!0!==o[e].q&&2===this.props.charSet?n.createElement("div",{className:h},n.createElement("h6",{className:d},o[e].hint),n.createElement("h6",{className:d},(0,v.Vj)(o[e].val))):!0!==o[e].q?n.createElement("div",{className:h},n.createElement("h6",{className:d},o[e].cSet===i.cSet?o[e].hint:(0,v.Vj)(o[e].hint))):n.createElement("div",{className:h},n.createElement("h6",{className:"mb-0 invisible"},(0,v.Vj)(o[e].val))):!0!==o[e].q?n.createElement("div",{className:h},n.createElement("h6",{className:d},0===o[e].cSet?o[e].hint:(0,v.Vj)(o[e].hint)),n.createElement("h6",{className:d},0===o[e].cSet?(0,v.Vj)(o[e].hint):o[e].hint)):n.createElement("div",{className:h},n.createElement("h6",{className:"mb-0"},(0,v.Vj)(o[e].val))),n.createElement("div",{key:e,onClick:function(){o[e].q||r.checkAnswer(o[e])},className:f,style:{width:y}},n.createElement("h2",{className:p},o[e].val),t)}},{key:"render",value:function(){var e=this;if(!this.state.question)return n.createElement("div",null);var t=this.state.question,r=this.state.choices,o=l()({"kana main-panel h-100":!0,"z-index-1":this.props.debug!==m.x6.OFF}),i=l()({"choices-row d-flex justify-content-around":!0,"w-50":!this.props.wideMode,"w-100":this.props.wideMode});return[n.createElement("div",{key:0,className:o},n.createElement("div",{className:"d-flex justify-content-between h-100"},n.createElement(d.Z,{ariaLabel:"Previous",action:this.gotoPrev},n.createElement(s.wyc,{size:16})),!this.props.wideMode&&n.createElement("div",{className:l()({"pt-3 d-flex flex-column justify-content-center text-center w-50":!0,"correct-color":this.state.correct})},n.createElement("h1",{className:"clickable"},t),this.props.easyMode&&!this.state.practiceSide&&n.createElement("div",{className:"d-flex justify-content-around"},n.createElement("h6",null,(0,v.Vj)(t)))),n.createElement("div",{className:i},n.createElement("div",{className:"choices-column w-100 d-flex flex-wrap "},r.map((function(t,r){return e.choiceButton(r)})))),n.createElement(d.Z,{ariaLabel:"Next",action:this.gotoNext},n.createElement(s.XCv,{size:16})))),n.createElement("div",{key:1,className:"options-bar mb-2 flex-shrink-1"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{onClick:function(){e.setState((function(e){return{practiceSide:!e.practiceSide}}))}},n.createElement(p.G,{className:"clickable",icon:this.state.practiceSide?h.dzc:h.UJf}))),n.createElement("div",{className:"col"}),n.createElement("div",{className:"col"})))]}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);N.propTypes={hiragana:a().array.isRequired,katakana:a().array.isRequired,getKana:a().func,vowels:a().array.isRequired,consonants:a().array.isRequired,choiceN:a().number.isRequired,sounds:a().object.isRequired,wideMode:a().bool,easyMode:a().bool,charSet:a().number,debug:a().number};const L=(0,o.$j)((function(e){return{debug:e.global.debug,hiragana:e.kana.hiragana,katakana:e.kana.katakana,vowels:e.kana.vowels,consonants:e.kana.consonants,sounds:e.kana.sounds,choiceN:e.kana.setting.wideMode?31:e.kana.setting.choiceN,wideMode:e.kana.setting.wideMode,easyMode:e.kana.setting.easyMode,charSet:e.kana.setting.charSet}}),{getKana:u.aY})(N)},5649:(e,t,r)=>{r.r(t),r.d(t,{KanjiMeta:()=>G,default:()=>V});var n=r(9041),o=r(5529),i=r(4184),a=r.n(i),c=r(5472),l=r.n(c),s=r(5697),u=r.n(s),f=r(7294),p=r(6706),h=r(1741),d=r(1816),v=r(7835),m=r(5412),y=r(7679),g=r(2022),b=r(7),w=r(3058),j=r(1513),E=r(1243),S=r(3653),O=r(1946);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return function(e){if(Array.isArray(e))return R(e)}(e)||L(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function L(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function M(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function D(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}var G={location:"/kanji/",label:"Kanji"},q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,e);var t,r,i,c,s=(i=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(i);if(c){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return D(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={selectedIndex:0,filteredTerms:[],frequency:[],showOn:!1,showKun:!1,showEx:!1,showMeaning:!1,order:[],examples:[]},t.props,t.setState,0===t.props.kanji.length&&t.props.getKanji(),0===t.props.vocabulary.length&&t.props.getVocabulary(),t.updateReinforcedUID=t.updateReinforcedUID.bind(_(t)),t.gotoNext=t.gotoNext.bind(_(t)),t.gotoNextSlide=t.gotoNextSlide.bind(_(t)),t.gotoPrev=t.gotoPrev.bind(_(t)),t.setOrder=t.setOrder.bind(_(t)),t.startMove=t.startMove.bind(_(t)),t.inMove=t.inMove.bind(_(t)),t.endMove=t.endMove.bind(_(t)),t.swipeActionHandler=t.swipeActionHandler.bind(_(t)),t}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.kanji&&this.props.kanji.length>0&&this.setOrder()}},{key:"componentDidUpdate",value:function(e,t){var r,n=this;if(this.props.kanji.length!==e.kanji.length&&this.setOrder(),this.props.frequency.uid!=e.frequency.uid||this.props.frequency.count!=e.frequency.count)if(this.props.filterType===g.Lx.FREQUENCY&&0===this.props.frequency.count)this.setOrder();else{var o=this.state.filteredTerms.map((function(e){return e.uid})).reduce((function(e,t){var r;return!0===(null===(r=n.props.repetition[t])||void 0===r?void 0:r.rein)&&(e=[].concat(A(e),[t])),e}),[]);this.setState({frequency:o})}if(this.state.order.length>0&&(this.state.order.length!==t.order.length||this.state.selectedIndex!==t.selectedIndex||this.state.reinforcedUID!=t.reinforcedUID)){var i=this.state.reinforcedUID||(0,w.vr)(this.state.selectedIndex,this.state.order,this.state.filteredTerms),a=(0,w.cc)(i,this.props.kanji),c=this.props.vocabulary.filter((function(e){return j.TZ.parse(e).getSpelling().includes(a.kanji)&&e.english.toLowerCase()===a.english.toLowerCase()||j.TZ.parse(e).getSpelling().includes(a.kanji)&&e.english.toLowerCase().includes(a.english.toLowerCase())&&"Verb"===e.grp||j.TZ.parse(e).getSpelling()===a.kanji&&(e.english.toLowerCase().includes(a.english.toLowerCase())||a.english.toLowerCase().includes(e.english.toLowerCase()))})),s=[];if(c.length>0){var u=function(e){if(Array.isArray(e))return e}(r=l()(c,(function(e){return e.english.length})))||L(r)||N(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],p=u.slice(1);s=[f].concat(A((0,b.Sy)(p)))}this.setState({examples:s})}}},{key:"setOrder",value:function(){var e=this,t=Object.keys(this.props.repetition).reduce((function(t,r){return!0===e.props.repetition[r].rein&&(t=[].concat(A(t),[r])),t}),[]),r=(0,w.Dm)(this.props.filterType,this.props.kanji,t,this.props.filterType===g.Lx.TAGS?this.props.activeTags:[],(function(){return e.props.toggleKanjiFilter(g.Lx.TAGS)})),n=(0,w.tq)(r);this.setState({filteredTerms:r,frequency:t,order:n})}},{key:"updateReinforcedUID",value:function(e){this.setState({reinforcedUID:e})}},{key:"gotoNext",value:function(){var e=this.state.filteredTerms.length,t=(this.state.selectedIndex+1)%e;this.setState({selectedIndex:t,reinforcedUID:void 0,showOn:!1,showKun:!1,showEx:!1,showMeaning:!1})}},{key:"gotoNextSlide",value:function(){var e=this,t=this.state.filteredTerms;if(this.props.reinforce&&this.props.filterType===g.Lx.TAGS){var r=Object.keys(this.props.repetition).reduce((function(t,r){return!0===e.props.repetition[r].rein&&(t=[].concat(A(t),[r])),t}),[]),n=this.props.kanji.filter((function(e){return r.includes(e.uid)}));t=[].concat(A(this.state.filteredTerms),A(n))}(0,w.hY)(this.props.reinforce,this.props.filterType,this.state.frequency,t,this.state.reinforcedUID,this.updateReinforcedUID,this.gotoNext,this.props.removeFrequencyKanji)}},{key:"gotoPrev",value:function(){var e=this.state.filteredTerms.length,t=this.state.selectedIndex-1,r=t<0?(e+t)%e:t%e;this.setState({selectedIndex:r,reinforcedUID:void 0,showOn:!1,showKun:!1,showEx:!1,showMeaning:!1})}},{key:"startMove",value:function(e){var t=(0,E.IY)(e,{verticalSwiping:!0,touchThreshold:this.props.swipeThreshold});this.setState({swiping:t})}},{key:"inMove",value:function(e){if(this.state.swiping){var t=(0,E.Si)(e,this.state.swiping);this.setState({swiping:t})}}},{key:"endMove",value:function(e){(0,E.Kd)(e,x(x({},this.state.swiping),{},{onSwipe:this.swipeActionHandler}))}},{key:"swipeActionHandler",value:function(e){"left"===e?this.gotoNextSlide():"right"===e&&this.gotoPrev()}},{key:"render",value:function(){var e,t,r,i=this;if(this.state.filteredTerms.length<1)return f.createElement(h.n,{addlStyle:"main-panel"});var c=this.state.reinforcedUID||(0,w.vr)(this.state.selectedIndex,this.state.order,this.state.filteredTerms),l=(0,w.cc)(c,this.props.kanji),s=(null===(e=l.tag.find((function(e){return i.props.activeTags.includes(e)&&(0,O.F)(e)})))||void 0===e?void 0:e.replace("_"," "))||(null===(t=l.tag.find((function(e){return(0,O.F)(e)})))||void 0===t?void 0:t.replace("_"," "))||"",u=!0===(null===(r=this.props.repetition[l.uid])||void 0===r?void 0:r.rein),p=this.state.examples.slice(0,3).map((function(e,t,r){return f.createElement(f.Fragment,{key:t},e.english+" ",j.TZ.parse(e).toHTML(),t<r.length-1?"; ":"",f.createElement("wbr",null))})),v=f.createElement("span",null,l.english),m=(this.state.selectedIndex+1)/this.state.filteredTerms.length*100;return[f.createElement("div",{key:0,className:"kanji main-panel h-100"},f.createElement("div",{className:"d-flex justify-content-between h-100",onTouchStart:this.props.swipeThreshold>0?this.startMove:void 0,onTouchMove:this.props.swipeThreshold>0?this.inMove:void 0,onTouchEnd:this.props.swipeThreshold>0?this.endMove:void 0},f.createElement(d.Z,{ariaLabel:"Previous",action:this.gotoPrev},f.createElement(o.wyc,{size:16})),f.createElement("div",{className:"grp-info"},f.createElement("div",null,f.createElement("div",null,l.grp),f.createElement("div",null,s))),f.createElement("div",{className:"text-center"},f.createElement("h1",{className:"pt-0"},f.createElement("span",null,l.kanji)),l.on&&f.createElement("h4",{className:"pt-0",onClick:function(){i.setState((function(e){return{showOn:!e.showOn}}))}},f.createElement("span",null,this.state.showOn?l.on:"[On]"))||f.createElement("h4",{className:"pt-0"},"."),l.kun&&f.createElement("h4",{className:"pt-2",onClick:function(){i.setState((function(e){return{showKun:!e.showKun}}))}},f.createElement("span",null,this.state.showKun?l.kun:"[Kun]"))||f.createElement("h4",{className:"pt-2"},"."),f.createElement("div",{className:"d-flex flex-column"},f.createElement("span",{className:a()({"example-blk align-self-center clickable h6 pt-2":!0,"disabled-color":0===p.length}),onClick:function(){i.setState((function(e){return{showEx:!e.showEx}}))}},f.createElement("span",{className:"text-nowrap"},this.state.showEx&&p.length>0?p:"[Examples]")),f.createElement("h4",{className:"align-self-center pt-2 clickable",onClick:function(){i.setState((function(e){return{showMeaning:!e.showMeaning}}))}},this.state.showMeaning?v:f.createElement("span",null,"[Meaning]")))),f.createElement("div",{className:"right-info"}),f.createElement(d.Z,{ariaLabel:"Next",action:this.gotoNextSlide},f.createElement(o.XCv,{size:16})))),f.createElement("div",{key:1,className:"options-bar mb-3 flex-shrink-1"},f.createElement("div",{className:"row opts-max-h"},f.createElement("div",{className:"col"},f.createElement("div",{className:"d-flex justify-content-start"})),f.createElement("div",{className:"col text-center"},f.createElement(S.Qp,{visible:void 0!==this.state.reinforcedUID&&""!==this.state.reinforcedUID})),f.createElement("div",{className:"col"},f.createElement("div",{className:"d-flex justify-content-end"},f.createElement(S.R_,{addFrequencyTerm:this.props.addFrequencyKanji,removeFrequencyTerm:this.props.removeFrequencyKanji,toggle:u,term:l,count:this.state.frequency.length}))))),f.createElement("div",{key:2,className:"progress-line flex-shrink-1"},f.createElement(n.Z,{variant:"determinate",value:m,color:u?"secondary":"primary"}))]}}])&&C(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.Component);q.propTypes={kanji:u().array,vocabulary:u().array,frequency:u().object,filterType:u().number,activeTags:u().array,swipeThreshold:u().number,getKanji:u().func,getVocabulary:u().func,toggleKanjiFilter:u().func,reinforce:u().bool,repetition:u().object,removeFrequencyKanji:u().func,addFrequencyKanji:u().func,logger:u().func};const V=(0,p.$j)((function(e){return{swipeThreshold:e.global.swipeThreshold,kanji:e.kanji.value,vocabulary:e.vocabulary.value,filterType:e.kanji.setting.filter,reinforce:e.kanji.setting.reinforce,activeTags:e.kanji.setting.activeTags,repetition:e.kanji.setting.repetition,frequency:e.kanji.setting.frequency}}),{getKanji:m.tk,getVocabulary:y.Rz,toggleKanjiFilter:m.cy,removeFrequencyKanji:m.SI,addFrequencyKanji:m.Mh,logger:v.kg})(q)},5002:(e,t,r)=>{r.r(t),r.d(t,{PhrasesMeta:()=>V,default:()=>W});var n=r(9041),o=r(5529),i=r(5697),a=r.n(i),c=r(7294),l=r(6706),s=r(7508),u=r(7835),f=r(5956),p=r(2022),h=r(8090),d=r(8602),v=r(3058),m=r(1513),y=r(8816),g=r(1243),b=r(7672),w=r(6456),j=r(9886),E=r(5231),S=r(7588),O=r(1741),k=r(3653),P=r(3307),x=r(1816);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(t)?t:String(t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function F(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var V={location:"/phrases/",label:"Phrases"},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(f,e);var t,r,i,a,l,u=(a=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(a);if(l){var r=q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return F(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this,e)).state={errorMsgs:[],errorSkipIndex:-1,lastNext:Date.now(),selectedIndex:0,showMeaning:!1,showRomaji:!1,showLit:!1,filteredPhrases:[],frequency:[],recacheAudio:!1,loop:0},t.props,t.setState,0===t.props.phrases.length&&t.props.getPhrase(),t.gotoNext=t.gotoNext.bind(G(t)),t.gotoNextSlide=t.gotoNextSlide.bind(G(t)),t.gotoPrev=t.gotoPrev.bind(G(t)),t.setOrder=t.setOrder.bind(G(t)),t.updateReinforcedUID=t.updateReinforcedUID.bind(G(t)),t.startMove=t.startMove.bind(G(t)),t.inMove=t.inMove.bind(G(t)),t.endMove=t.endMove.bind(G(t)),t.swipeActionHandler=t.swipeActionHandler.bind(G(t)),t.beginLoop=t.beginLoop.bind(G(t)),t.looperSwipe=t.looperSwipe.bind(G(t)),t.abortLoop=t.abortLoop.bind(G(t)),t.arrowKeyPress=t.arrowKeyPress.bind(G(t)),t}return t=f,i=[{key:"getDerivedStateFromError",value:function(e){var t=void 0!==e.cause&&[{msg:JSON.stringify(e.cause).replaceAll(",",", "),css:"px-4"}]||[];return{errorMsgs:[{msg:e.name+": "+e.message,css:"px-2"}].concat(R(t)).map((function(e){return N(N({},e),{},{lvl:p.x6.ERROR})}))}}}],(r=[{key:"componentDidMount",value:function(){var e=this;this.props.phrases&&this.props.phrases.length>0&&this.setOrder(),document.addEventListener("keydown",this.arrowKeyPress,!0),(0,y.$T)("Phrases Loop"),(0,y.gI)("paused");var t=[["play",function(){e.state.loop&&(e.beginLoop(),(0,y.gI)("playing"))}],["pause",function(){e.state.loop&&(e.abortLoop(),e.forceUpdate(),(0,y.gI)("paused"))}],["stop",function(){e.state.loop&&(e.abortLoop(),e.forceUpdate(),(0,y.gI)("paused"))}],["previoustrack",function(){e.state.loop&&(e.abortLoop(),e.looperSwipe("right"))}],["nexttrack",function(){e.state.loop&&(e.abortLoop(),e.looperSwipe("left"))}]];(0,y.aw)(t)}},{key:"componentDidUpdate",value:function(e,t){var r=this;if(this.props.phrases.length==e.phrases.length&&this.props.termsOrder==e.termsOrder||this.setOrder(),(this.props.activeGroup.length!=e.activeGroup.length||this.props.activeGroup.some((function(t){return!e.activeGroup.includes(t)}))||e.activeGroup.some((function(e){return!r.props.activeGroup.includes(e)})))&&this.setOrder(),this.props.filterType!=e.filterType&&this.setOrder(),this.props.frequency.uid!=e.frequency.uid||this.props.frequency.count!=e.frequency.count)if(this.props.filterType===p.Lx.FREQUENCY&&0===this.props.frequency.count)this.setOrder();else{var n=this.state.filteredPhrases.map((function(e){return e.uid})).reduce((function(e,t){var n;return!0===(null===(n=r.props.repetition[t])||void 0===n?void 0:n.rein)&&(e=[].concat(R(e),[t])),e}),[]);this.setState({frequency:n})}if(this.state.reinforcedUID!==t.reinforcedUID||this.state.selectedIndex!==t.selectedIndex){var o=t.reinforcedUID||(0,v.vr)(t.selectedIndex,this.state.order,this.state.filteredPhrases);if(this.state.loop>0&&void 0===this.loopAbortControllers&&this.beginLoop(),(0,v.Zc)(t.lastNext)){var i=(0,v.cc)(o,this.props.phrases),a=o!==t.reinforcedUID;this.props.updateSpaceRepPhrase({uid:o,shouldIncrement:a}).then((function(e){var n=e.payload,a=n.map,c=n.prevMap,l=c[o]&&c[o].d,s=L({},o,N(N({},a[o]),{},{d:l}));(0,d.Ps)(r.props.logger,i,s,{frequency:void 0!==t.reinforcedUID})}))}this.setState({showMeaning:!1,showRomaji:!1,showLit:!1,errorMsgs:[]})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.arrowKeyPress,!0),this.abortLoop(),(0,y.CU)()}},{key:"componentDidCatch",value:function(){var e,t=this;if(this.state.reinforcedUID){var r,n=this.state.filteredPhrases.findIndex((function(e){return e.uid===t.state.reinforcedUID}));e=null===(r=this.state.order)||void 0===r?void 0:r.indexOf(n)}else e=this.state.selectedIndex;this.setState({errorSkipIndex:e})}},{key:"abortLoop",value:function(){var e=!1;return this.loopAbortControllers&&this.loopAbortControllers.length>0&&(e=!0,this.loopAbortControllers.forEach((function(e){e.abort()})),this.loopAbortControllers=void 0,(0,y.gI)("paused")),e}},{key:"beginLoop",value:function(){var e=this;(0,y.gI)("playing"),this.abortLoop();var t=new AbortController,r=new AbortController,n=new AbortController,o=new AbortController,i=new AbortController;this.loopAbortControllers=[t,r,n,o,i],this.forceUpdate(),(0,v.wO)(700,t).then((function(){return(t=r,e.looperSwipe("down",t)).catch((function(e){var t;if("UserAborted"===(null===(t=e.cause)||void 0===t?void 0:t.code))throw e}));var t})).then((function(){return(0,v.wO)(3e3,n)})).then((function(){return(t=o,(0,v.nD)(e.state.loop,(function(){return e.looperSwipe("up",t)}),1500,t)).then((function(){return e.loopAbortControllers=void 0,e.looperSwipe("left")})).catch((function(t){var r;if("UserAborted"!==(null===(r=t.cause)||void 0===r?void 0:r.code))return e.loopAbortControllers=void 0,e.looperSwipe("left")}));var t})).then((function(){return(0,v.wO)(100,i)})).catch((function(){}))}},{key:"looperSwipe",value:function(e,t){var r;return this.state.loop>0&&(r=this.swipeActionHandler(e,t)),r||Promise.reject("loop disabled")}},{key:"arrowKeyPress",value:function(e){for(var t=this,r=0,n=[["ArrowRight",function(){return t.swipeActionHandler("left")}],["ArrowLeft",function(){return t.swipeActionHandler("right")}],["ArrowUp",function(){return t.swipeActionHandler("up")}],["ArrowDown",function(){return t.swipeActionHandler("down")}],["MediaPlayPause",function(){}],[" ",this.props.flipPhrasesPracticeSide]];r<n.length;r++){var o=(l=2,function(e){if(Array.isArray(e))return e}(c=n[r])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(c,l)||C(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];if(i===e.key){" "!==i&&(this.abortLoop()?this.forceUpdate():(0,y.gI)("paused")),a();break}}var c,l}},{key:"setOrder",value:function(){var e,t=this,r=Object.keys(this.props.repetition).reduce((function(e,r){return!0===t.props.repetition[r].rein&&(e=[].concat(R(e),[r])),e}),[]),n=(0,v.Dm)(this.props.filterType,this.props.phrases,r,this.props.activeGroup,this.props.togglePhrasesFilter);this.props.termsOrder===p.vl.RANDOM?(this.props.logger("Randomized",p.x6.DEBUG),e=(0,v.tq)(n)):this.props.termsOrder===p.vl.VIEW_DATE?(this.props.logger("Date Viewed",p.x6.DEBUG),e=(0,v.EL)(n,this.props.repetition)):(this.props.logger("Alphabetic",p.x6.DEBUG),e=(0,v.fx)(n).order);var o=n.map((function(e){return e.uid})).reduce((function(e,r){var n;return!0===(null===(n=t.props.repetition[r])||void 0===n?void 0:n.rein)&&(e=[].concat(R(e),[r])),e}),[]);this.setState({filteredPhrases:n,frequency:o,order:e})}},{key:"gotoNext",value:function(){var e=this.state.filteredPhrases.length,t=(e+this.state.selectedIndex+1)%e;t===this.state.errorSkipIndex&&(t=(e+t+1)%e),this.setState({lastNext:Date.now(),reinforcedUID:void 0,selectedIndex:t})}},{key:"gotoNextSlide",value:function(){(0,v.hY)(this.props.reinforce,this.props.filterType,this.state.frequency,this.state.filteredPhrases,this.state.reinforcedUID,this.updateReinforcedUID,this.gotoNext,this.props.removeFrequencyPhrase)}},{key:"gotoPrev",value:function(){var e,t=this.state.filteredPhrases.length,r=this.state.selectedIndex-1;(e=this.state.reinforcedUID?this.state.selectedIndex:(t+r)%t)===this.state.errorSkipIndex&&(e=(t+e-1)%t),this.setState({lastNext:Date.now(),reinforcedUID:void 0,selectedIndex:e})}},{key:"updateReinforcedUID",value:function(e){this.setState({reinforcedUID:e})}},{key:"startMove",value:function(e){var t=(0,g.IY)(e,{verticalSwiping:!0,touchThreshold:this.props.swipeThreshold});this.setState({swiping:t})}},{key:"inMove",value:function(e){if(this.state.swiping){var t=(0,g.Si)(e,this.state.swiping);this.setState({swiping:t})}}},{key:"endMove",value:function(e){if(this.state.loop&&this.loopAbortControllers){var t,r,n=e.target,o=Array.from(document.getElementsByClassName("loop-stop-btn")).some((function(e){return e.contains(n)})),i=Array.from(document.getElementsByClassName("loop-no-interrupt")).some((function(e){return e.contains(n)})),a=void 0===(null===(t=this.state.swiping)||void 0===t||null===(r=t.touchObject)||void 0===r?void 0:r.swipeLength)||this.state.swiping.touchObject.swipeLength<this.state.swiping.touchThreshold;if(o)return void this.setState({loop:0});if(i&&a)return;this.abortLoop()?this.forceUpdate():(0,y.gI)("paused")}(0,g.Kd)(e,N(N({},this.state.swiping),{},{onSwipe:this.swipeActionHandler}))}},{key:"swipeActionHandler",value:function(e,t){var r;if("left"===e)this.gotoNextSlide(),r=Promise.all([Promise.resolve()]);else if("right"===e)this.gotoPrev(),r=Promise.all([Promise.resolve()]);else{var n=this.state.reinforcedUID||(0,v.vr)(this.state.selectedIndex,this.state.order,this.state.filteredPhrases),o=(0,v.cc)(n,this.props.phrases),i=this.state.recacheAudio?"/override_cache":"";if("up"===e){var a=(0,m._I)(o),c=(0,b.b1)(s.vT+i,{tl:"ja",q:a,uid:n});r=(0,h.R$)(c,t)}else if("down"===e){var l=o.english,u=(0,b.b1)(s.vT+i,{tl:"en",q:l,uid:o.uid+".en"});r=(0,h.R$)(u,t)}}return r||Promise.reject()}},{key:"render",value:function(){var e,t,r=this;if(this.state.errorMsgs.length>0){var i=(0,d.zV)(this.state),a=(0,d.zV)(this.props),l=[].concat(R(this.state.errorMsgs),[{msg:"props:",lvl:p.x6.WARN,css:"px-2"},{msg:a,lvl:p.x6.WARN,css:"px-4"},{msg:"state:",lvl:p.x6.WARN,css:"px-2"},{msg:i,lvl:p.x6.WARN,css:"px-4"}]);return c.createElement(S.R,{next:this.gotoNext,prev:this.gotoPrev},c.createElement("div",{className:"d-flex flex-column justify-content-around"},c.createElement(E.Z,{messages:l})))}if(this.state.filteredPhrases.length<1)return c.createElement(O.n,{addlStyle:"main-panel"});var s,u=this.state.reinforcedUID||(0,v.vr)(this.state.selectedIndex,this.state.order,this.state.filteredPhrases),f=(0,v.cc)(u,this.props.phrases),h=!0===(null===(e=this.props.repetition[f.uid])||void 0===e?void 0:e.rein),y=m.TZ.parse(f),g=y.toHTML(),b=c.createElement("span",{onClick:f.lit?function(){r.setState((function(e){return{showLit:!e.showLit}}))}:void 0},this.state.showLit?f.lit:f.english),T=f.romaji,A=c.createElement("span",null,"[English]"),C=c.createElement("span",null,"[Japanese]"),M=(0,v.JS)(this.props.practiceSide,b,g,A,C),I=M.topValue,D=M.bottomValue,_=M.bottomLabel,F=this.props.practiceSide?{tl:"en",q:f.english,uid:f.uid+".en"}:{tl:"ja",q:(0,m._I)(f),uid:(0,v.gW)(f)};this.state.loop>0&&void 0===this.loopAbortControllers?s=c.createElement(j.Qp,{onClick:this.beginLoop}):this.state.loop>0&&void 0!==this.loopAbortControllers&&(s=c.createElement(j.Vv,{onClick:function(){r.abortLoop(),r.setState({loop:0})}}));var G=c.createElement(w.Z,{visible:0===this.props.swipeThreshold&&0===this.state.loop,word:F,reCache:this.state.recacheAudio}),q=((null===(t=f.lit)||void 0===t?void 0:t.length)||f.english.length)<55,V=y.getSpelling().length<55,U=(this.state.selectedIndex+1)/this.state.filteredPhrases.length*100;return[c.createElement("div",{key:0,className:"phrases main-panel h-100"},c.createElement("div",{className:"d-flex justify-content-between h-100",onTouchStart:this.props.swipeThreshold>0?this.startMove:void 0,onTouchMove:this.props.swipeThreshold>0?this.inMove:void 0,onTouchEnd:this.props.swipeThreshold>0?this.endMove:void 0},c.createElement(x.Z,{ariaLabel:"Previous",action:this.gotoPrev},c.createElement(o.wyc,{size:16})),c.createElement("div",{className:"pt-3 d-flex flex-column justify-content-around text-center"},c.createElement(P.Z,{breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:N({},this.props.practiceSide?L({},q?"h1":"h3",!0):L({},V?"h1":"h3",!0))},I),this.props.romajiActive&&T&&c.createElement("h5",null,c.createElement("span",{onClick:function(){r.setState((function(e){return{showRomaji:!e.showRomaji}}))},className:"clickable loop-no-interrupt"},this.state.showRomaji?T:"[Romaji]")),c.createElement(P.Z,{className:{"loop-no-interrupt":!0},breakPoint:"md",onClick:function(){r.setState((function(e){return{showMeaning:!e.showMeaning}}))},largeClassName:{"fs-display-5":!0},smallClassName:N({},this.props.practiceSide?L({},V?"h1":"h3",!0):L({},q?"h1":"h3",!0))},this.state.showMeaning?D:_),c.createElement("div",{className:"d-flex justify-content-center"},G)),c.createElement(x.Z,{ariaLabel:"Next",action:this.gotoNextSlide},c.createElement(o.XCv,{size:16})))),c.createElement("div",{key:1,className:"options-bar mb-3 flex-shrink-1"},c.createElement("div",{className:"row opts-max-h"},c.createElement("div",{className:"col"},c.createElement("div",{className:"d-flex justify-content-start"},c.createElement(k.uY,{toggle:this.props.practiceSide,action:this.props.flipPhrasesPracticeSide}),c.createElement(k.Ro,{active:this.state.recacheAudio,action:function(){!1===r.state.recacheAudio&&(r.setState({recacheAudio:!0}),setTimeout((function(){r.setState({recacheAudio:!1})}),2e3))}}),c.createElement("div",{className:"sm-icon-grp"},c.createElement(j.e2,{active:this.state.loop>0,loop:this.state.loop,onClick:function(){r.abortLoop(),r.setState((function(e){return{loop:e.loop<3?e.loop+1:0}}))}})),c.createElement("div",{className:"sm-icon-grp"},s))),c.createElement("div",{className:"col text-center"},c.createElement(k.Qp,{visible:void 0!==this.state.reinforcedUID&&""!==this.state.reinforcedUID})),c.createElement("div",{className:"col"},c.createElement("div",{className:"d-flex justify-content-end"},c.createElement(k.D4,{visible:void 0!==f.lit&&""!==f.lit,toggle:this.state.showLit,action:function(){r.setState((function(e){return{showLit:!e.showLit}}))}}),c.createElement(k.R_,{addFrequencyTerm:this.props.addFrequencyPhrase,removeFrequencyTerm:this.props.removeFrequencyPhrase,toggle:h,term:f,count:this.state.frequency.length}))))),c.createElement("div",{key:2,className:"progress-line flex-shrink-1"},c.createElement(n.Z,{variant:"determinate",value:U,color:h?"secondary":"primary"}))]}}])&&I(t.prototype,r),i&&I(t,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(c.Component);U.propTypes={activeGroup:a().array,frequency:a().object,phrases:a().array.isRequired,romajiActive:a().bool,practiceSide:a().bool,termsOrder:a().number,filterType:a().number,reinforce:a().bool,repetition:a().object,swipeThreshold:a().number,getPhrase:a().func.isRequired,addFrequencyPhrase:a().func,removeFrequencyPhrase:a().func,flipPhrasesPracticeSide:a().func,togglePhrasesFilter:a().func,updateSpaceRepPhrase:a().func,logger:a().func};const W=(0,l.$j)((function(e){return{swipeThreshold:e.global.swipeThreshold,phrases:e.phrases.value,practiceSide:e.phrases.setting.practiceSide,termsOrder:e.phrases.setting.ordered,romajiActive:e.phrases.setting.romaji,filterType:e.phrases.setting.filter,frequency:e.phrases.setting.frequency,activeGroup:e.phrases.setting.activeGroup,reinforce:e.phrases.setting.reinforce,repetition:e.phrases.setting.repetition}}),{getPhrase:f.cC,flipPhrasesPracticeSide:f.d1,addFrequencyPhrase:f.Lp,removeFrequencyPhrase:f.gP,togglePhrasesFilter:f.f6,updateSpaceRepPhrase:f.s5,logger:u.kg})(U)},1946:(e,t,r)=>{r.d(t,{E:()=>m,F:()=>v});var n=r(5472),o=r.n(n),i=r(3174),a=r.n(i),c=r(5697),l=r.n(c),s=r(7294),u=r(6892);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return e.includes("_")&&Number.isInteger(parseInt(e.split("_")[1],10))}function m(e){var t=e.termsActive,r=e.termsTags,n=e.toggleTermActive,i=e.selectedCount;(0,s.useEffect)((function(){t.forEach((function(e){r.includes(e)||n(e)}))}),[t,r,n]);var c=p(a()(r,(function(e){return v(e)})),2),l=c[0],h=c[1],d=Object.values(l.reduce((function(e,t){var r=t.split("_")[0];return e[r]?e[r]=[].concat(f(e[r]),[t]):e[r]=[t],e}),{})),m=[].concat(f(o()(h)),f(d.reduce((function(e,t){var r=o()(t,(function(e){var t=p(e.split("_"),2)[1];return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}));return[].concat(f(e),f(r))}),[]))),y=i&&i>0&&"("+i+")"||"";return s.createElement("div",null,s.createElement("h5",{key:0},"Tag List ",y),m.map((function(e,r){return s.createElement("div",{key:r+1},s.createElement(u.M,{key:r,active:t.includes(e),onClick:function(){n(e)}},e))})))}m.propTypes={termsTags:l().array,termsActive:l().array,toggleTermActive:l().func,selectedCount:l().number}},6509:(e,t,r)=>{r.r(t),r.d(t,{SettingsMeta:()=>xe,default:()=>Ae});var n=r(5529),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),l=r(7294),s=r(6706),u=r(7835),f=r(5412),p=r(5956),h=r(2778),d=r(118),v=r(5560),m=r(2022),y=r(7679),g=r(8602),b=r(3058),w=r(1513),j=r(5231),E=r(245),S=r(4793);function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){for(var t=32,r=[],n={},o=4;o<17;o++){var i=(o-4)/13*75;r=[].concat(O(r),[{value:i,raw:o}]),n["r"+i]=o,n["s"+o]=i}r=[].concat(O(r),[{value:100,raw:t}]),n.r100=t,n.s32=100;var a,c=function(e){return n["r"+e]};return l.createElement("div",{className:"kana-slider"},l.createElement(E.Z,{id:"discrete-slider-restrict",gutterBottom:!0},"Difficulty"),l.createElement(S.ZP,{value:(a=e.initial,n["s"+a]),valueLabelFormat:c,getAriaValueText:function(e){return""+c(e)},"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:r,onChange:function(r,n){"number"==typeof n&&function(r){var n=e.initial,o=c(r);o!==t&&n!==t&&o!==n||o!==t&&n===t&&o!==n?(e.setChoiceN(o),!0===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide()):o===t&&o!==n&&(e.setChoiceN(o),!1===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide())}(n)}}))}P.propTypes={initial:c().number,wideMode:c().bool,setChoiceN:c().func,toggleWide:c().func};var x=r(1741),T=r(6259);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function N(e){var t={disabled:!!e.disabled||void 0};return l.createElement("div",{className:"settings-switch-root"},l.createElement("p",{className:i()({"disabled-color":t.disabled})},e.statusText),l.createElement(T.Z,A({},t,{checked:e.active,onChange:function(){e.action()},color:e.color||"primary",inputProps:{"aria-label":e.statusText+" checkbox"}})))}N.propTypes={active:c().bool,action:c().func.isRequired,statusText:c().string.isRequired,color:c().string,disabled:c().bool};const L=N;var R=r(6892),C=r(5472),M=r.n(C);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e){return l.createElement("div",null,l.createElement("h5",{key:0},"Groups"),Object.keys(e.termsGroups).map((function(t,r){var n=e.termsActive.includes(t);return l.createElement("div",{key:r+1},l.createElement(R.M,{key:r,active:e.termsActive.includes(t),onClick:function(){return e.toggleTermActiveGrp(t)}},t),!n&&M()(e.termsGroups[t],(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("_"),2)[1];return Number.isInteger(parseInt(t,10))?parseInt(t,10):e})).map((function(r,n){return l.createElement(R.M,{key:n,addlStyle:"ms-3",active:e.termsActive.includes(t+"."+r),onClick:function(){e.toggleTermActiveGrp(t+"."+r)}},r)})))})))}function _(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e,t,r,o,a){return l.createElement("div",{key:t,className:i()({"p-0 px-2":!0,clickable:e}),onClick:function(){e&&a(r)}},l.createElement("span",{className:"p-1"},e&&l.createElement(n.oOx,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&l.createElement(n.aNF,{size:"small","aria-label":"inactive"})),l.createElement("span",{className:"p-1"},o))}function q(e){var t=[],r=e.termsFreq.reduce((function(r,n){var o=e.terms.find((function(e){return e.uid===n}));return o?r=[].concat(_(r),[o]):t=[].concat(_(t),[n]),r}),[]).reduce((function(e,t){var r=t.grp?t.grp:"undefined";return e[r]?e[r]=[].concat(_(e[r]),[t]):e[r]=[t],e}),{});return l.createElement("div",null,l.createElement("h5",{key:0},"Frequency"),l.createElement("div",{key:1},Object.keys(r).map((function(t,n){var o=e.termsActive.includes(t);return l.createElement("div",{key:n,className:"mb-2"},l.createElement("span",{className:i()({"font-weight-bold":o}),onClick:function(){return e.toggleTermActiveGrp(t)}},t),l.createElement("div",null,r[t].map((function(t,r){return G(o,r,t.uid,t.english,e.removeFrequencyTerm)}))))}))),t.length>0&&l.createElement("div",{className:"mt-5 text-break"},l.createElement("span",{className:"font-weight-bold"},"Manual cleanup"),t.map((function(t,r){return G(!0,r,t,t,e.removeFrequencyTerm)}))))}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function K(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}D.propTypes={termsGroups:c().object,termsActive:c().array,toggleTermActiveGrp:c().func},q.propTypes={termsActive:c().array,termsFreq:c().array,terms:c().array,removeFrequencyTerm:c().func,toggleTermActiveGrp:c().func};var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(n);if(o){var r=Z(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return K(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).props,0===t.props.phrases.length&&t.props.getPhrase(),t}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.phrases,r=e.phraseOrder,n=e.phraseRomaji,o=e.phraseRep,i=e.phraseReinforce,a=e.phraseGroups,c=e.phraseActive,s=e.phraseFilter,u=e.togglePhrasesFilter,f=e.togglePhraseActiveGrp,p=e.removeFrequencyPhrase,h=e.togglePhrasesOrdering,d=e.togglePhrasesReinforcement,v=e.togglePhrasesRomaji,y=Object.keys(o).filter((function(e){var t;return!0===(null===(t=o[e])||void 0===t?void 0:t.rein)}));if(t.length<1||Object.keys(a).length<1)return l.createElement(x.n,{addlStyle:"phrases-settings"});var g,w=(0,b.wG)(a,c);if(w.length>0)throw new Error("Stale phrases active group",{cause:{code:"StalePhraseActiveGrp",value:w}});try{g=l.createElement("div",{className:"outer"},l.createElement("div",{className:"d-flex flex-row justify-content-between"},l.createElement("div",{className:"column-1"},l.createElement("h4",null,(0,b.w_)(s,["Phrases Group","Frequency List","NOT_USED_Tags"])),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:s%2==0,action:u,color:"default",statusText:"Filter by"})),s===m.Lx.GROUP&&l.createElement(D,{termsGroups:a,termsActive:c,toggleTermActiveGrp:f}),s===m.Lx.FREQUENCY&&0===y.length&&l.createElement("div",{className:"fst-italic"},"No phrases have been chosen"),s===m.Lx.FREQUENCY&&y.length>0&&l.createElement(q,{termsActive:c,termsFreq:y,terms:t,removeFrequencyTerm:p,toggleTermActiveGrp:f})),l.createElement("div",{className:"column-2"},l.createElement("div",{className:"setting-block"},l.createElement("div",{className:"mb-2"},l.createElement(L,{active:r===m.vl.RANDOM,action:h,color:"default",statusText:(0,b.w_)(r,m.iU)})),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:i,action:d,disabled:s===m.Lx.FREQUENCY,statusText:"Reinforcement"})),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:n,action:v,statusText:"Romaji"}))))))}catch(e){g=l.createElement("div",null,JSON.stringify(e))}return g}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(l.Component);B.propTypes={phrases:c().array,phraseGroups:c().object,phraseOrder:c().number,phraseRomaji:c().bool,phraseReinforce:c().bool,phraseActive:c().array,phraseFilter:c().number,phraseRep:c().object,getPhrase:c().func,togglePhrasesOrdering:c().func,togglePhrasesFilter:c().func,togglePhraseActiveGrp:c().func,togglePhrasesRomaji:c().func,togglePhrasesReinforcement:c().func,removeFrequencyPhrase:c().func};const z=(0,s.$j)((function(e){return{phrases:e.phrases.value,phraseGroups:e.phrases.grpObj,phraseOrder:e.phrases.setting.ordered,phraseRomaji:e.phrases.setting.romaji,phraseReinforce:e.phrases.setting.reinforce,phraseActive:e.phrases.setting.activeGroup,phraseFilter:e.phrases.setting.filter,phraseRep:e.phrases.setting.repetition}}),{getPhrase:p.cC,togglePhrasesFilter:p.f6,togglePhraseActiveGrp:p.cz,removeFrequencyPhrase:p.gP,togglePhrasesOrdering:p.mW,togglePhrasesReinforcement:p.vy,togglePhrasesRomaji:p.OJ})(B);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e){for(var t=Math.min(e.max,e.initial),r=e.max,n=[],o={},i=0;i<r+1;i++){var a=(i-0)/(r-0)*100;n=[].concat(function(e){if(Array.isArray(e))return H(e)}(c=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:a,raw:i}]),o["r"+a]=i,o["s"+i]=a}var c,s,u=function(e){return o["r"+e]},f=function(e){var t=u(e),n=Math.trunc(r/2),o="",i=n+Math.abs(n-t);return r%2!=0&&t<=n&&(o=++i+""),r%2==0&&t===n||(o=t<n+1?i+" "+(r-i):r-i+" "+i),o};return l.createElement("div",{className:"verb-form-slider-root"},l.createElement(E.Z,{id:"discrete-slider-restrict",gutterBottom:!0},e.statusText),l.createElement(S.ZP,{value:(s=t,o["s"+s]),valueLabelFormat:f,getAriaValueText:f,"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:n,onChange:function(r,n){"number"==typeof n&&function(r){var n=t,o=u(r);o!==n&&e.setChoiceN(o)}(n)}}))}J.propTypes={statusText:c().string,initial:c().number.isRequired,max:c().number.isRequired,setChoiceN:c().func.isRequired};var Y=r(5834),Q=r(6867),$=r(2440),X=r(9334),ee=r(8238),te=r(7182);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e){var t=re((0,l.useState)(null),2),r=t[0],o=t[1],a=re((0,l.useState)(e.initial),2),c=a[0],s=a[1],u=(0,l.useMemo)((function(){return e.options}),[]);(0,l.useMemo)((function(){s(e.initial)}),[e.initial]);var f=Boolean(r),p=function(e){o(e.currentTarget)};return l.createElement("div",{className:i()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0})},l.createElement($.Z,{component:"nav",disablePadding:!0},l.createElement(Y.Z,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":f?"true":void 0,onClick:p},l.createElement(X.Z,{primary:e.title,secondary:u[c],secondaryTypographyProps:{color:"unset"}}))),l.createElement(ee.Z,{id:"filter-menu",anchorEl:r,open:f,onClose:function(){o(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"}},u.map((function(t,r){return l.createElement(te.Z,{key:t,selected:r===c,onClick:function(t){return function(t,r){s(r),o(null),e.onChange(r)}(0,r)}},t)}))),l.createElement(Q.Z,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:p},l.createElement(n.Ui8,{size:"medium",className:i()({"rotate-transition":!0,"rotate-90":f})})))}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ie(o)?o:String(o)),n)}var o}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ue(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}oe.propTypes={disabled:c().bool,flip:c().bool,title:c().string,options:c().arrayOf(c().string),initial:c().number,onChange:c().func};var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(s,e);var t,r,o,a,c=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fe(o);if(a){var r=fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ue(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).props,0===Object.keys(t.props.vocabGroups).length&&t.props.getVocabulary(),t}return t=s,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.vocabulary,o=t.vocabOrder,a=t.verbFormsOrder,c=t.vocabFilter,s=t.vocabRep,u=t.vocabGroups,f=t.vocabActive,p=t.vocabReinforce,h=t.vocabRomaji,d=t.showBareKanji,v=t.vocabHint,g=t.autoVerbView,w=t.verbColSplit,j=t.removeFrequencyWord,E=t.setVerbFormsOrder,O=t.toggleVocabularyOrdering,k=t.toggleVocabularyActiveGrp,P=t.toggleAutoVerbView,T=t.toggleVocabularyFilter,A=t.toggleVocabularyHint,N=t.toggleVocabularyReinforcement,R=t.toggleVocabularyRomaji,C=t.updateVerbColSplit,M=t.toggleVocabularyBareKanji,I=Object.keys(s).filter((function(e){var t;return!0===(null===(t=s[e])||void 0===t?void 0:t.rein)}));if(r.length<1||Object.keys(u).length<1)return l.createElement(x.n,{addlStyle:"vocabulary-settings"});var _,F=y.E3.setting.verbFormsOrder,G=a.reduce((function(e,t){return F.includes(t)&&(e=[].concat(ae(e),[t])),e}),[]),V=F.reduce((function(e,t){return G.includes(t)||(e=[].concat(ae(e),[t])),e}),[]),U=(0,b.wG)(u,f);if(U.length>0)throw new Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:U}});try{_=l.createElement("div",{className:"outer"},l.createElement("div",{className:"d-flex flex-row justify-content-between"},l.createElement("div",{className:"column-1"},l.createElement(oe,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:c,onChange:T}),c===m.Lx.GROUP&&l.createElement(D,{termsGroups:u,termsActive:f,toggleTermActiveGrp:k}),c===m.Lx.FREQUENCY&&0===I.length&&l.createElement("div",{className:"fst-italic"},"No words have been chosen"),c===m.Lx.FREQUENCY&&I.length>0&&l.createElement(q,{termsActive:f,termsFreq:I,terms:r,removeFrequencyTerm:j,toggleTermActiveGrp:k})),l.createElement("div",{className:"column-2 setting-block"},l.createElement("div",{className:"mb-2"},l.createElement(oe,{title:"Sort by:",options:m.iU,initial:o,onChange:O})),"Difficulty"===m.iU[o]&&l.createElement("div",null,l.createElement("div",{className:"d-flex justify-content-end px-3"},l.createElement(S.ZP,{value:this.props.difficultyT,onChangeCommitted:function(t,r){console.log(r),e.props.setDifficultyThreshold(r)},step:10,valueLabelDisplay:"on"}))),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:p,action:N,disabled:c===m.Lx.FREQUENCY,statusText:"Reinforcement"})),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:h,action:R,statusText:"Romaji"})),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:d,action:M,statusText:"English+Kanji"})),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:v,action:A,statusText:"Hint"})),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:g,action:P,statusText:"Auto Verb View"})),g&&l.createElement("div",{className:"mb-2"},l.createElement("div",{className:"d-flex flex-row justify-content-end"},l.createElement("div",null,[G.map((function(e,t){return l.createElement("div",{key:t,className:"d-flex justify-content-between"},l.createElement("div",{className:i()({"me-3":!0,"disabled-color":0===t}),onClick:function(){if(t>0){var e=G.slice(0,t-1),r=G[t-1],n=G[t],o=G.slice(t+1);E([].concat(ae(e),[n,r],ae(o)))}}},l.createElement(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})),l.createElement("span",{className:"w-100 text-start"},e),l.createElement("div",{onClick:function(){if(G.length>1){var e=[].concat(ae(G.slice(0,t)),ae(G.slice(t+1)));E(e)}}},l.createElement(n.oOx,{className:i()({"mt-1 ms-3":!0,"incorrect-color":G.length>1,"disabled-color":1===G.length}),size:"small","aria-label":"remove"})))})),V.map((function(e,t){return l.createElement("div",{key:G.length+t,className:"d-flex justify-content-between"},l.createElement("div",{className:"me-3 invisible"},l.createElement(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})),l.createElement("span",{className:"w-100 text-start disabled-color"},e),l.createElement("div",{onClick:function(){E([].concat(ae(G),[V[t]]))}},l.createElement(n.wl8,{className:"mt-1 ms-3",size:"small","aria-label":"add"})))}))]))),g&&l.createElement("div",null,l.createElement("div",{className:"d-flex justify-content-end p-2"},l.createElement(J,{initial:w,setChoiceN:C,max:a.length,statusText:"Column layout"}))))))}catch(e){_=l.createElement("div",null,JSON.stringify({verbColSplit:w,updateVerbColSplit:C}))}return _}}])&&le(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(l.Component);pe.propTypes={vocabulary:c().array,vocabGroups:c().object,vocabOrder:c().number,vocabRomaji:c().bool,showBareKanji:c().bool,vocabHint:c().bool,vocabActive:c().array,autoVerbView:c().bool,verbColSplit:c().number,vocabFilter:c().number,vocabRep:c().object,vocabReinforce:c().bool,verbFormsOrder:c().array,getVocabulary:c().func,removeFrequencyWord:c().func,setVerbFormsOrder:c().func,toggleVocabularyOrdering:c().func,toggleVocabularyActiveGrp:c().func,toggleAutoVerbView:c().func,toggleVocabularyFilter:c().func,toggleVocabularyHint:c().func,toggleVocabularyReinforcement:c().func,toggleVocabularyRomaji:c().func,updateVerbColSplit:c().func,toggleVocabularyBareKanji:c().func};const he=(0,s.$j)((function(e){return{vocabulary:e.vocabulary.value,vocabGroups:e.vocabulary.grpObj,vocabOrder:e.vocabulary.setting.ordered,vocabRomaji:e.vocabulary.setting.romaji,showBareKanji:e.vocabulary.setting.bareKanji,vocabHint:e.vocabulary.setting.hintEnabled,vocabActive:e.vocabulary.setting.activeGroup,autoVerbView:e.vocabulary.setting.autoVerbView,verbColSplit:e.vocabulary.setting.verbColSplit,vocabFilter:e.vocabulary.setting.filter,difficultyT:e.vocabulary.setting.difficultyT,vocabRep:e.vocabulary.setting.repetition,vocabReinforce:e.vocabulary.setting.reinforce,verbFormsOrder:e.vocabulary.setting.verbFormsOrder}}),{getVocabulary:y.Rz,removeFrequencyWord:y.xz,setVerbFormsOrder:y.Hi,toggleVocabularyOrdering:y.wf,toggleVocabularyActiveGrp:y.sG,toggleAutoVerbView:y.eK,toggleVocabularyFilter:y.ZZ,toggleVocabularyHint:y.Tn,toggleVocabularyReinforcement:y.gl,toggleVocabularyRomaji:y.VX,updateVerbColSplit:y.oG,toggleVocabularyBareKanji:y.Vb,setDifficultyThreshold:y.Sz})(pe);var de=r(1946);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ee(n.key),n)}}function Ee(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ve(t)?t:String(t)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function Oe(e,t){if(t&&("object"===ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}var xe={location:"/settings/",label:"Settings"},Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(u,e);var t,r,o,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pe(a);if(c){var r=Pe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Oe(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={spin:!1,sectionKanji:!1,sectionVocabulary:!1,sectionPhrase:!1,sectionStaleSpaceRep:!1,swVersion:"",jsVersion:"",bundleVersion:"",hardRefreshUnavailable:!1,errorMsgs:[],shakeIntensity:0},t.props,t.setState,t.collapseExpandToggler=t.collapseExpandToggler.bind(ke(t)),0===t.props.vocabulary.length&&t.props.getVocabulary(),0===t.props.kanjiTags.length&&t.props.getKanji(),0===t.props.phrases.length&&t.props.getPhrase(),t.swMessageEventListener=t.swMessageEventListener.bind(ke(t)),t.motionListener=t.motionListener.bind(ke(t)),t}return t=u,o=[{key:"getDerivedStateFromError",value:function(e){var t=void 0!==e.cause&&[{msg:JSON.stringify(e.cause).replaceAll(",",", "),css:"px-4"}]||[];return{errorMsgs:[{msg:e.name+": "+e.message,css:"px-2"}].concat(be(t)).map((function(e){return ye(ye({},e),{},{lvl:m.x6.ERROR})}))}}}],(r=[{key:"componentDidMount",value:function(){var e,t=this;this.props.getMemoryStorageStatus(),navigator.serviceWorker.addEventListener("message",this.swMessageEventListener),null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"SW_VERSION"}),this.props.motionThreshold>0&&(0,b.HG)((function(){window.addEventListener("devicemotion",t.motionListener)}),this.componentDidCatch)}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.motionThreshold>0&&0===e.motionThreshold?(0,b.HG)((function(){window.addEventListener("devicemotion",t.motionListener)}),this.componentDidCatch):0===this.props.motionThreshold&&e.motionThreshold>0&&window.removeEventListener("devicemotion",this.motionListener)}},{key:"componentWillUnmount",value:function(){navigator.serviceWorker.removeEventListener("message",this.swMessageEventListener),this.props.motionThreshold>0&&window.removeEventListener("devicemotion",this.motionListener)}},{key:"componentDidCatch",value:function(e){var t=e.cause;switch(this.props.debugToggled(m.x6.DEBUG),null==t?void 0:t.code){case"StaleVocabActiveGrp":var r=t.value;this.props.logger("Error: "+e.message,m.x6.ERROR),this.props.logger("Group "+JSON.stringify(r)+" Removed",m.x6.ERROR),this.props.toggleVocabularyActiveGrp(r),this.setState({errorMsgs:[]});break;case"StalePhraseActiveGrp":var n=t.value;this.props.logger("Error: "+e.message,m.x6.ERROR),this.props.logger("Group "+JSON.stringify(n)+" Removed",m.x6.ERROR),this.props.togglePhraseActiveGrp(n),this.setState({errorMsgs:[]});break;case"DeviceMotionEvent":this.props.logger("Error: "+e.message,m.x6.ERROR),this.props.setMotionThreshold(0)}}},{key:"swMessageEventListener",value:function(e){var t=this;if("DO_HARD_REFRESH"===e.data.type){var r=e.data.error;r&&this.props.logger(r,m.x6.ERROR),setTimeout((function(){t.setState({spin:!1,hardRefreshUnavailable:r})}),2e3)}else if("SW_VERSION"===e.data.type){var n=e.data,o=n.swVersion,i=n.jsVersion,a=n.bundleVersion;this.setState({swVersion:o,jsVersion:i,bundleVersion:a})}}},{key:"motionListener",value:function(e){var t=this;try{(0,b.Mm)(e,this.props.motionThreshold,(function(e){t.setState({shakeIntensity:Number(e.toFixed(2))}),setTimeout((function(){t.setState({shakeIntensity:void 0})}),300)}))}catch(e){e instanceof Error&&this.componentDidCatch(e)}}},{key:"staleSpaceRep",value:function(e){return e.reduce((function(t,r,n){var o=l.createElement("hr",{key:e.length+n}),i=l.createElement("div",{key:n,className:"row"},l.createElement("span",{className:"col p-0"},r.key),l.createElement("span",{className:"col p-0"},r.english),l.createElement("span",{className:"col p-0 app-sm-fs-xx-small"},l.createElement("div",null,r.uid)));return t.length>0&&n<e.length?[].concat(be(t),[o,i]):[].concat(be(t),[i])}),[])}},{key:"failedFuriganaList",value:function(e){return e.reduce((function(t,r,n){var o=w.TZ.parse(r);if(o.hasFurigana())try{(0,w.Wp)(o.getPronunciation(),o.getSpelling())}catch(p){var i,a;if(p instanceof Error&&("ParseError"===(null===(i=p.cause)||void 0===i?void 0:i.code)||"InputError"===(null===(a=p.cause)||void 0===a?void 0:a.code))){var c,s,u=l.createElement("hr",{key:e.length+n}),f=l.createElement("div",{key:n,className:"row"},l.createElement("span",{className:"col p-0"},o.toHTML()),l.createElement("span",{className:"col p-0"},r.english),l.createElement("span",{className:"col p-0 app-sm-fs-xx-small"},l.createElement("div",null,p.message),l.createElement("div",null,null!==(c=p.cause)&&void 0!==c&&c.info?JSON.stringify(null===(s=p.cause)||void 0===s?void 0:s.info):"")));return t.length>0&&n<e.length-1?[].concat(be(t),[u,f]):[].concat(be(t),[f])}}return t}),[])}},{key:"collapseExpandToggler",value:function(e){var t=this,r=this.state[e]?l.createElement(n.oOx,{className:"clickable",size:"medium","aria-label":"collapse"}):l.createElement(n.wl8,{className:"clickable",size:"medium","aria-label":"expand"});return l.createElement("h2",{onClick:function(){t.setState((function(t){return ge({},e,!t[e])}))}},r)}},{key:"render",value:function(){var e,t=this;if(this.state.errorMsgs.length>0){var r=(0,g.zV)(this.state),o=(0,g.zV)(this.props),a=[].concat(be(this.state.errorMsgs),[{msg:"props:",lvl:m.x6.WARN,css:"px-2"},{msg:o,lvl:m.x6.WARN,css:"px-4"},{msg:"state:",lvl:m.x6.WARN,css:"px-2"},{msg:r,lvl:m.x6.WARN,css:"px-4"}]);return l.createElement("div",null,l.createElement("div",{className:"d-flex flex-column justify-content-around"},l.createElement(j.Z,{messages:a})))}var c=i()({"mb-5":!0});if(this.props.vocabulary.length<1||this.props.phrases.length<1||this.props.kanjiTags.length<1)return l.createElement(x.n,{addlStyle:"main-panel"});var s=this.failedFuriganaList([].concat(be(this.props.phrases),be(this.props.vocabulary))),u=(0,b.XQ)(this.props.vRepetition,this.props.vocabulary,"[Stale Vocabulary]"),p=u.keys,h=u.list,d=(0,b.XQ)(this.props.pRepetition,this.props.phrases,"[Stale Phrase]"),v=d.keys,y=d.list,w=(0,b.XQ)(this.props.pRepetition,this.props.phrases,"[Stale Kanji]"),E=w.keys,S=w.list,O=new Set([].concat(be(p),be(v),be(E))),k=this.staleSpaceRep([].concat(be(h),be(y),be(S))),T=Object.values(this.props.kanji).filter((function(e){return e.tag.some((function(e){return t.props.kanjiActive.includes(e)}))})),A=T.map((function(e){return e.uid})),N=Object.keys(this.props.kRepetition).filter((function(e){var r;return!0===(null===(r=t.props.kRepetition[e])||void 0===r?void 0:r.rein)})),R=N.filter((function(e){return!A.includes(e)}));return l.createElement("div",{className:"settings"},l.createElement("div",{className:"d-flex flex-column justify-content-between px-3"},l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Global"),l.createElement("h2",null)),l.createElement("div",null,l.createElement("div",{className:"d-flex flex-row justify-content-between"},l.createElement("div",{className:"column-1 d-flex flex-column justify-content-end"},l.createElement("div",{className:i()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===this.props.swipeThreshold})},l.createElement("div",{className:"clickable px-2 pb-2",onClick:function(){t.props.swipeThreshold-1<=0?t.props.setSwipeThreshold(0):t.props.setSwipeThreshold(t.props.swipeThreshold-1)}},"-"),l.createElement("div",{className:"px-2"},this.props.swipeThreshold),l.createElement("div",{className:"clickable px-2",onClick:function(){t.props.setSwipeThreshold(t.props.swipeThreshold+1)}},"+")),l.createElement("div",{className:i()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===this.props.motionThreshold})},l.createElement("div",{className:"clickable px-2 pb-2",onClick:function(){t.props.motionThreshold-.5<=0?t.props.setMotionThreshold(0):t.props.setMotionThreshold(t.props.motionThreshold-.5)}},"-"),l.createElement("div",{className:i()({"px-2":!0,"correct-color":this.state.shakeIntensity>this.props.motionThreshold&&this.state.shakeIntensity<=this.props.motionThreshold+1,"question-color":this.state.shakeIntensity>this.props.motionThreshold+1&&this.state.shakeIntensity<=this.props.motionThreshold+2,"incorrect-color":this.state.shakeIntensity>this.props.motionThreshold+2})},null!==(e=this.state.shakeIntensity)&&void 0!==e?e:this.props.motionThreshold),l.createElement("div",{className:"clickable px-2",onClick:function(){t.props.setMotionThreshold(t.props.motionThreshold+.5)}},"+"))),l.createElement("div",{className:"column-2"},l.createElement("div",{className:"setting-block"},l.createElement(L,{active:this.props.darkMode,action:this.props.toggleDarkMode,statusText:(this.props.darkMode?"Dark":"Light")+" Mode"})),l.createElement("div",{className:"setting-block"},l.createElement(L,{active:this.props.swipeThreshold>0,action:function(){t.props.swipeThreshold>0?t.props.setSwipeThreshold(0):t.props.setSwipeThreshold(1)},statusText:"Touch Swipes"})),l.createElement("div",{className:"setting-block"},l.createElement(L,{active:this.props.motionThreshold>0,action:function(){0===t.props.motionThreshold?t.props.setMotionThreshold(6):t.props.setMotionThreshold(0)},statusText:"Accelerometer"})))))),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Phrases"),this.collapseExpandToggler("sectionPhrase")),this.state.sectionPhrase&&l.createElement(z,null)),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Vocabulary"),this.collapseExpandToggler("sectionVocabulary")),this.state.sectionVocabulary&&l.createElement(he,null)),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Kanji"),this.collapseExpandToggler("sectionKanji")),this.state.sectionKanji&&l.createElement("div",{className:"d-flex flex-row justify-content-between"},l.createElement("div",{className:"column-1"},l.createElement("h4",null,(0,b.w_)(this.props.kanjiFilter,["Kanji Group","Frequency List","Tags"])),l.createElement("div",{className:"mb-2"},l.createElement(L,{active:this.props.kanjiFilter%2==0,action:this.props.toggleKanjiFilter,color:"default",statusText:"Filter by"})),this.props.kanjiFilter===m.Lx.FREQUENCY&&0===N.length&&l.createElement("div",{className:"fst-italic"},"No words have been chosen"),this.props.kanjiFilter===m.Lx.TAGS&&l.createElement(de.E,{selectedCount:0===T.length?Object.values(this.props.kanji).length:T.length,termsTags:this.props.kanjiTags,termsActive:this.props.kanjiActive,toggleTermActive:this.props.toggleKanjiActiveTag}),this.props.kanjiFilter===m.Lx.FREQUENCY&&N.length>0&&l.createElement(q,{termsActive:this.props.kanjiActive,termsFreq:N,terms:this.props.kanji,removeFrequencyTerm:f.SI,toggleTermActiveGrp:f.LD})),l.createElement("div",{className:"column-2 setting-block"},l.createElement("div",{className:"mb-2"},l.createElement(L,{active:this.props.kanjiReinforce,action:this.props.toggleKanjiReinforcement,disabled:this.props.kanjiFilter===m.Lx.FREQUENCY,statusText:(this.props.kanjiReinforce?"(+"+R.length+") ":"")+"Reinforcement"}))))),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Opposites Game")),l.createElement("div",{className:"setting-block"},l.createElement("div",{className:"mb-2"},l.createElement(L,{active:this.props.oppositesQRomaji,action:this.props.setOppositesQRomaji,statusText:"Question Romaji"})),l.createElement("div",null,l.createElement(L,{active:this.props.oppositesARomaji,action:this.props.setOppositesARomaji,statusText:"Answer Romaji"})))),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Kana Game")),l.createElement("div",{className:"setting-block"},l.createElement("div",null,l.createElement(L,{active:0===this.props.charSet,action:this.props.toggleKana,statusText:(0,b.w_)(this.props.charSet,["Hiragana","Katakana","Mixed"])})),l.createElement("div",{className:"d-flex justify-content-end p-2"},l.createElement(P,{initial:this.props.choiceN,wideMode:this.props.wideMode,setChoiceN:this.props.setKanaBtnN,toggleWide:this.props.toggleKanaGameWideMode})),l.createElement("div",null,l.createElement(L,{active:this.props.easyMode,action:this.props.toggleKanaEasyMode,statusText:"Kana Hints"})))),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Kanji Game")),l.createElement("div",{className:"setting-block"},l.createElement("div",{className:"d-flex justify-content-end p-2"},l.createElement(P,{initial:this.props.kanjiChoiceN,setChoiceN:this.props.setKanjiBtnN})))),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Particles Game")),l.createElement("div",{className:"setting-block"},l.createElement(L,{active:this.props.particlesARomaji,action:this.props.setParticlesARomaji,statusText:"Answer Romaji"}))),l.createElement("div",{className:c},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,"Application")),l.createElement("div",{className:"d-flex flex-row justify-content-between"},l.createElement("div",{className:"column-1"},l.createElement("div",{className:"setting-block mb-2 mt-2"},l.createElement("div",{className:"d-flex flex-row justify-content-between clickable",onClick:function(){t.setState({swVersion:"",jsVersion:"",bundleVersion:""}),setTimeout((function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"SW_VERSION"})}),1e3)}},l.createElement("div",{className:"pe-2"},l.createElement("div",null,"swVersion:"),l.createElement("div",null,"jsVersion:"),l.createElement("div",null,"bundleVersion:")),l.createElement("div",null,l.createElement("div",null,this.state.swVersion),l.createElement("div",null,this.state.jsVersion),l.createElement("div",null,this.state.bundleVersion))))),l.createElement("div",{className:"column-2"},l.createElement("div",{className:"setting-block mb-2"},l.createElement(L,{active:this.props.debug>m.x6.OFF,action:this.props.debugToggled,color:"default",statusText:(0,b.w_)(this.props.debug,["Debug","Debug Error","Debug Warn","Debug"])})),l.createElement("div",{className:i()({"d-flex justify-content-end mb-2":!0,"disabled-color":this.state.hardRefreshUnavailable})},l.createElement("p",{id:"hard-refresh",className:"text-right"},"Hard Refresh"),l.createElement("div",{className:i()({"spin-a-bit":this.state.spin}),style:{height:"24px"},"aria-labelledby":"hard-refresh",onClick:function(){var e;t.setState({spin:!0,hardRefreshUnavailable:!1}),setTimeout((function(){t.state.spin&&t.setState({spin:!1,hardRefreshUnavailable:!0})}),3e3),null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"DO_HARD_REFRESH"})}},l.createElement(n.bnu,{className:"clickable",size:24,"aria-label":"Hard Refresh"}))),l.createElement("div",{className:"setting-block mb-2"},l.createElement(L,{active:this.props.memory.persistent,action:this.props.setPersistentStorage,disabled:this.props.memory.persistent,color:"default",statusText:this.props.memory.persistent?"Persistent "+~~(this.props.memory.usage/1024/1024)+"/"+~~(this.props.memory.quota/1024/1024)+"MB":"Persistent off"})))),k.length>0&&l.createElement("div",{className:"mb-2"},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h5",null,"Stale Space Repetition"),this.collapseExpandToggler("sectionStaleSpaceRep")),l.createElement("div",{className:"px-4"},l.createElement("span",null,"keys: "+JSON.stringify(Array.from(O)))),this.state.sectionStaleSpaceRep&&l.createElement("div",{className:"failed-spacerep-view container mt-2 p-0"},k)),s.length>0&&l.createElement("div",{className:"mb-2"},l.createElement("h5",null,"Failed Furigana Parse"),l.createElement("div",{className:"failed-furigana-view container mt-2 p-0"},s)))))}}])&&je(t.prototype,r),o&&je(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(l.Component);Te.propTypes={darkMode:c().bool,memory:c().object,debug:c().number,swipeThreshold:c().number,motionThreshold:c().number,toggleDarkMode:c().func,debugToggled:c().func,setPersistentStorage:c().func,getMemoryStorageStatus:c().func,setMotionThreshold:c().func,setSwipeThreshold:c().func,phrases:c().array,pRepetition:c().object,getPhrase:c().func,togglePhraseActiveGrp:c().func,vocabulary:c().array,vRepetition:c().object,getVocabulary:c().func,toggleVocabularyActiveGrp:c().func,wideMode:c().bool,easyMode:c().bool,charSet:c().number,choiceN:c().number,setKanaBtnN:c().func,toggleKanaGameWideMode:c().func,toggleKanaEasyMode:c().func,toggleKana:c().func,particlesARomaji:c().bool,setParticlesARomaji:c().func,kanji:c().array,kanjiFilter:c().number,kanjiTags:c().array,kanjiActive:c().array,kRepetition:c().object,kanjiReinforce:c().bool,kanjiChoiceN:c().number,getKanji:c().func,toggleKanjiActiveGrp:c().func,toggleKanjiActiveTag:c().func,toggleKanjiReinforcement:c().func,toggleKanjiFilter:c().func,setKanjiBtnN:c().func,oppositesQRomaji:c().bool,oppositesARomaji:c().bool,setOppositesQRomaji:c().func,setOppositesARomaji:c().func,logger:c().func};const Ae=(0,s.$j)((function(e){return{darkMode:e.global.darkMode,swipeThreshold:e.global.swipeThreshold,motionThreshold:e.global.motionThreshold,memory:e.global.memory,debug:e.global.debug,phrases:e.phrases.value,pRepetition:e.phrases.setting.repetition,vocabulary:e.vocabulary.value,vRepetition:e.vocabulary.setting.repetition,kanji:e.kanji.value,kanjiTags:e.kanji.tagObj,kanjiChoiceN:e.kanji.setting.choiceN,kanjiActive:e.kanji.setting.activeTags,kanjiFilter:e.kanji.setting.filter,kRepetition:e.kanji.setting.repetition,kanjiReinforce:e.kanji.setting.reinforce,oppositesQRomaji:e.opposite.qRomaji,oppositesARomaji:e.opposite.aRomaji,choiceN:e.kana.setting.choiceN,wideMode:e.kana.setting.wideMode,easyMode:e.kana.setting.easyMode,charSet:e.kana.setting.charSet,particlesARomaji:e.particle.setting.aRomaji}}),{setKanaBtnN:v.Bs,toggleKanaGameWideMode:v.PD,toggleKanaEasyMode:v._S,toggleKana:v.I_,setOppositesQRomaji:h.Cz,setOppositesARomaji:h.CO,setParticlesARomaji:d.ro,toggleDarkMode:u.In,getVocabulary:y.Rz,getPhrase:p.cC,getKanji:f.tk,setKanjiBtnN:f.ow,toggleVocabularyActiveGrp:y.sG,togglePhraseActiveGrp:p.cz,toggleKanjiActiveTag:f.X8,toggleKanjiActiveGrp:f.LD,toggleKanjiReinforcement:f.vT,toggleKanjiFilter:f.cy,setPersistentStorage:u.TJ,getMemoryStorageStatus:u.M4,debugToggled:u.zA,setSwipeThreshold:u.nh,setMotionThreshold:u.cv,logger:u.kg})(Te)},6196:(e,t,r)=>{r.r(t),r.d(t,{VocabularyMeta:()=>Le,default:()=>Ce});var n=r(9041),o=r(6514),i=r(8223),a=r(5529),c=r(3174),l=r.n(c),s=r(5697),u=r.n(s),f=r(7294),p=r(6706),h=r(2022),d=r(1513),v=r(1741),m=r(1816),y=r(4793);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){for(var t=e.list.length,r=Math.min(t,e.initial),n=[],o={},i=1;i<=t;i++){var a=i/t*100;n=[].concat(function(e){if(Array.isArray(e))return g(e)}(c=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:a,raw:i-1}]),o["r"+a]=i-1,o["s"+(i-1)]=a}var c,l,s=function(e){return o["r"+e]};return f.createElement("div",{className:"vocabulary-slider"},f.createElement(y.ZP,{value:(l=r,o["s"+l]),valueLabelFormat:function(t){var r=o["r"+t];return e.list[r].label[0]},getAriaValueText:function(e){return""+s(e)},"aria-label":"Quick card scroll",step:null,valueLabelDisplay:"auto",marks:n,onChange:function(t,n){"number"==typeof n&&function(t){var n=r,o=s(t);o!==n&&e.setIndex(o)}(n)}}))}b.propTypes={initial:u().number.isRequired,list:u().array.isRequired,setIndex:u().func.isRequired};var w=r(4184),j=r.n(w),E=r(1423),S=r(3058),O=r(7679);function k(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=r(6456),T=r(3307),A=r(1080);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===N(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t){var r=Math.trunc(e.length/2)+(e.length%2==0?0:1)-t;return Math.trunc(e.length/2)+r}function _(e){var t=M((0,f.useState)(!1),2),r=t[0],n=t[1],o=M((0,f.useState)(!1),2),i=o[0],a=o[1],c=(0,p.I0)(),l=(0,A.x)(),s=l.verbForm,u=l.repetition,h=l.swipeThreshold,v=l.englishSideUp,m=l.verbFormsOrder,y=l.romajiActive,g=l.hintEnabled,b=l.verbColSplit,w=e.verb,P=e.reCache,N=e.linkToOtherTerm,L=e.showHint;(0,f.useEffect)((function(){n(!1),a(!1)}),[w]);var C,I,_=function(e,t){var r=j()({"pt-3 pe-sm-3 flex-shrink-1 d-flex flex-column justify-content-around text-nowrap":!0,"text-end":0!==e}),n=t.map((function(e,t){var r=j()({clickable:!0}),n=j()({invisible:s===e.name});return f.createElement("div",{className:r,key:t,onClick:function(){s===e.name?c((0,O.rZ)("dictionary")):c((0,O.rZ)(e.name))}},f.createElement("span",{className:n},"["),f.createElement("span",null,e.name),f.createElement("span",{className:n},"]"))}));return f.createElement("div",{key:e,className:r},n)},F=(C=w,I=m,(0,f.useMemo)((function(){var e,t,r,n,o,i,a,c,l,s,u,f,p={dictionary:void 0===C?void 0:E.R.parse(C)},h=[{name:"-masu",value:null===(e=p.dictionary)||void 0===e?void 0:e.masuForm()},{name:"-mashou",value:null===(t=p.dictionary)||void 0===t?void 0:t.mashouForm()},{name:"dictionary",value:p.dictionary},{name:"-nai",value:null===(r=p.dictionary)||void 0===r?void 0:r.naiForm()},{name:"-saseru",value:null===(n=p.dictionary)||void 0===n?void 0:n.saseruForm()},{name:"-te",value:null===(o=p.dictionary)||void 0===o?void 0:o.teForm()},{name:"-ta",value:null===(i=p.dictionary)||void 0===i?void 0:i.taForm()}].concat(k(null!==(null===(a=p.dictionary)||void 0===a?void 0:a.chattaForm())?[{name:"-chatta",value:null===(c=p.dictionary)||void 0===c?void 0:c.chattaForm()}]:[]),k(null!==(null===(l=p.dictionary)||void 0===l?void 0:l.reruForm())?[{name:"-reru",value:null===(s=p.dictionary)||void 0===s?void 0:s.reruForm()}]:[]));return I&&I.length>0&&(f=I.reduce((function(e,t){var r=h.find((function(e){return e.name===t}));return void 0!==r&&(e=[].concat(k(e),[r])),e}),[])),null!==(u=f)&&void 0!==u?u:h}),[C,I])),G=function(e,t){var r=D(e,t);return{t1:e.slice(0,r),t2:e.slice(r)}}(F,b),q=G.t1,V=G.t2,U=function(e,t,r){var n=(0,p.I0)(),o=!(t&&t[e]&&!1===t[e].f);return(0,f.useMemo)((function(){return{furigana:{show:o,toggle:!1===r&&function(){n((0,O._n)(e))}||void 0}}}),[n,e,o,r])}(w.uid,u,v),W=function(e,t,r,n,o){var i=e.romaji||".",a=D(t,n),c=t.find((function(e){return e.name===r})),l=c?c.value:t[a].value;return{inJapanese:l.toHTML(o),inEnglish:e.english,romaji:i,japaneseObj:l}}(w,F,s,b,U),K=W.inJapanese,Z=W.inEnglish,B=W.romaji,z=W.japaneseObj,H=(0,f.useMemo)((function(){return E.R.parse(w)}),[w]),J=function(e,t,r,n){return(0,f.useMemo)((function(){var o,i=!e,a=[],c=!1,l=!1;t.constructor.name===E.R.name&&"isExceptionVerb"in t&&(c=t.isExceptionVerb()||3===t.getVerbClass(),l=t.isIntransitive(),o=t.getTransitivePair()||t.getIntransitivePair());var s=t.isNaAdj(),u=t.isSlang(),p=t.isKeigo();return i&&(l||o)&&(a=[].concat(k(a),[f.createElement("span",{key:a.length+1,className:j()({clickable:o,"question-color":o}),onClick:o&&n?function(){n(o)}:void 0},l?"intr":"trans")])),i&&u&&(a=[].concat(k(a),[f.createElement("span",{key:a.length+1},"slang")])),i&&p&&(a=[].concat(k(a),[f.createElement("span",{key:a.length+1},"keigo")])),c&&a.length>0&&(a=[f.createElement("span",{key:a.length+1},"*")].concat(k(a))),a.length>0?f.createElement("span",null,r,s&&f.createElement("span",{className:"opacity-25"}," ","な"),f.createElement("span",{className:"fs-5"},f.createElement("span",null," ("),a.reduce((function(e,t,r){return r>0&&r<a.length?[].concat(k(e),[f.createElement("span",{key:a.length+r}," , "),t]):[].concat(k(e),[t])}),[]),f.createElement("span",null,")"))):c?f.createElement("span",null,r,f.createElement("span",null," ","*")):s?f.createElement("span",null,r,f.createElement("span",{className:"opacity-25"}," ","な")):r}),[e,t,r,n])}(v,H,K,N),Y=function(e,t,r,n){return(0,f.useMemo)((function(){var o,i=[],a=!1;t.constructor.name===E.R.name&&"isExceptionVerb"in t&&(a=t.isIntransitive(),o=t.getTransitivePair()||t.getIntransitivePair());var c=t.isSlang(),l=t.isKeigo();return e&&(a||o)&&(i=[].concat(k(i),[f.createElement("span",{key:i.length+1,className:j()({clickable:o,"question-color":o}),onClick:o&&n?function(){n(o)}:void 0},a?"intr":"trans")])),e&&c&&(i=[].concat(k(i),[f.createElement("span",{key:i.length+1},"slang")])),e&&l&&(i=[].concat(k(i),[f.createElement("span",{key:i.length+1},"keigo")])),i.length>0?f.createElement("span",null,r,f.createElement("span",null,f.createElement("span",null," ("),i.reduce((function(e,t,r){return r>0&&r<i.length?[].concat(k(e),[f.createElement("span",{key:i.length+r}," , "),t]):[].concat(k(e),[t])}),[]),f.createElement("span",null,")"))):r}),[e,t,r,n])}(v,H,Z,N),Q=(0,f.useMemo)((function(){var e=f.createElement("span",null,"[English]"),t=f.createElement(T.Z,{fragment:!0,breakPoint:"sm",smallValue:"[J]",largeValue:"[Japanese]"});if(g&&L)if(v){var r=(0,S.tu)(z);r&&(t=r)}else{var n=(0,S.iz)(w);n&&(e=n)}return{jLabel:t,eLabel:e}}),[g,L,v,z,w]),$=Q.jLabel,X=Q.eLabel,ee=function(e,t,r,n,o){return(0,f.useMemo)((function(){var i,a,c,l;return e?(i=t,a=r,c=n,l=o):(i=r,a=t,c=o,l=n),{topValue:i,topLabel:c,bottomValue:a,bottomLabel:l}}),[e,t,r,n,o])}(v,Y,J,X,$),te=ee.topValue,re=ee.bottomValue,ne=ee.bottomLabel,oe=(0,f.useMemo)((function(){return R(R({},w),{},{japanese:z.toString(),pronounce:w.pronounce&&z.getPronunciation(),form:s})}),[w,z,s]),ie=(0,f.useMemo)((function(){return v?{tl:"en",q:oe.english,uid:oe.uid+".en"}:{tl:"ja",q:(0,d._I)(oe),uid:(0,S.gW)(oe)}}),[v,oe]),ae=f.createElement(x.Z,{visible:0===h,word:ie,reCache:P});return f.createElement(f.Fragment,null,_(0,q),f.createElement("div",{key:1,className:"pt-3 w-100 d-flex flex-column justify-content-around text-center"},f.createElement(T.Z,{breakPoint:"md",smallClassName:R({},v?{h5:!0}:{"fs-display-6":!0}),largeClassName:{"fs-display-6":!0}},te),y&&B&&f.createElement("div",null,f.createElement("span",{className:"clickable loop-no-interrupt",onClick:function(){return a((function(e){return!e}))}},i?B:"[romaji]")),f.createElement(T.Z,{breakPoint:"md",className:{"loop-no-interrupt":!0},smallClassName:R({},v?{"fs-display-6":!0}:{h5:!0}),largeClassName:{"fs-display-6":!0},onClick:function(){return n((function(e){return!e}))}},r?re:ne),f.createElement("div",{className:"d-flex justify-content-center"},ae)),_(2,V))}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function W(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function Z(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}_.propTypes={verb:u().object.isRequired,reCache:u().bool,linkToOtherTerm:u().func,showHint:u().bool};var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(n);if(o){var r=B(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Z(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={showMeaning:!1,showRomaji:!1},t.props,t.setState,t}return t=a,(r=[{key:"componentDidUpdate",value:function(e){this.props.vocabulary!==e.vocabulary&&this.setState({showMeaning:!1,showRomaji:!1})}},{key:"render",value:function(){var e,t=this,r=this.props.vocabulary,n=this.props.practiceSide,o=(0,S.$q)(r.uid,this.props.repetition,n,this.props.furiganaToggled),i=f.createElement("span",null,"[Japanese]"),a=f.createElement("span",null,"[English]"),c=d.TZ.parse(r),l=c.toHTML(o),s=r.english,u=r.romaji,p=(0,S.hF)(n,c,l),h=(0,S.yT)(n,c,s);this.props.hintEnabled&&this.props.showHint&&(n?i=(0,S.tu)(c)||i:a=(0,S.iz)(r)||a);var v=(0,S.JS)(n,h,p,a,i),m=v.topValue,y=v.bottomValue,g=v.bottomLabel,b=!0===n&&!0===this.props.showBareKanji&&!1===(null===(e=this.props.repetition[r.uid])||void 0===e?void 0:e.f),w=r;if(d.TZ.parse(r).isNaAdj()){var j=this.state.naFlip,E=d.TZ.parse(r).append(j&&"な");w=q(q({},r),{},{japanese:E.toString(),pronounce:r.pronounce&&E.getPronunciation(),form:j})}var O=this.props.practiceSide?{tl:"en",q:r.english,uid:r.uid+".en"}:{tl:this.props.practiceSide?"en":"ja",q:(0,d._I)(w),uid:(0,S.gW)(w)},k=f.createElement(x.Z,{visible:0===this.props.swipeThreshold,word:O,reCache:this.props.reCache,onPushedPlay:function(){t.setState((function(e){return{naFlip:e.naFlip?void 0:"-na"}}))}}),P=s.length<55;return f.createElement("div",{className:"pt-3 d-flex flex-column justify-content-around text-center"},f.createElement(T.Z,{breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:q({},n?V({},P?"fs-display-6":"h3",!0):{"fs-display-6":!0})},m),this.props.romajiActive&&u&&f.createElement("h5",null,f.createElement("span",{onClick:function(){t.setState((function(e){return{showRomaji:!e.showRomaji}}))},className:"clickable loop-no-interrupt"},this.state.showRomaji?u:"[Romaji]")),f.createElement(T.Z,{className:{"loop-no-interrupt":!0},breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:q({},n?{"fs-display-6":!0}:V({},P?"fs-display-6":"h3",!0)),onClick:function(){b||t.setState((function(e){return{showMeaning:!e.showMeaning}}))}},this.state.showMeaning||b?y:g),f.createElement("div",{className:"d-flex justify-content-center"},k))}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(f.Component);z.propTypes={vocabulary:u().object.isRequired,romajiActive:u().bool,practiceSide:u().bool,reCache:u().bool,scrollingDone:u().bool,played:u().bool,prevPushPlay:u().bool,swipeThreshold:u().number,repetition:u().object,hintEnabled:u().bool,showHint:u().bool,showBareKanji:u().bool,flipVocabularyPracticeSide:u().func,furiganaToggled:u().func,toggleFuriganaSettingHelper:u().func};const H=(0,p.$j)((function(e){return{scrollingDone:!e.global.scrolling,swipeThreshold:e.global.swipeThreshold,practiceSide:e.vocabulary.setting.practiceSide,romajiActive:e.vocabulary.setting.romaji,repetition:e.vocabulary.setting.repetition,hintEnabled:e.vocabulary.setting.hintEnabled,showBareKanji:e.vocabulary.setting.bareKanji}}),{flipVocabularyPracticeSide:O.$u,furiganaToggled:O._n})(z);var J=r(7508),Y=r(7835),Q=r(1243),$=r(8090),X=r(8602),ee=r(8816),te=r(7672),re=r(9886),ne=r(5231),oe=r(2409),ie=r(8301),ae=r(1436),ce=r(7625),le=r(7),se=r(2613);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e){var t,r,n=void 0!==e.value?e.value:30,o=pe((0,f.useState)(n),2),i=o[0],a=o[1];(0,f.useEffect)((function(){a(n)}),[n,a]);var c=i/100,l=[255,(0,le.t7)(0,255,c),0],s=[(0,le.t7)(255,0,c),255,0],u=[13,(0,le.t7)(255,110,c),(0,le.t7)(0,256,c)],p=[(0,le.t7)(l[0],s[0],c),(0,le.t7)(l[1],s[1],c),(0,le.t7)(l[2],s[2],c)],h=[(0,le.t7)(s[0],u[0],c),(0,le.t7)(s[1],u[1],c),(0,le.t7)(s[2],u[2],c)],d=pe([(0,le.t7)(p[0],h[0],c),(0,le.t7)(p[1],h[1],c),(0,le.t7)(p[2],h[2],c)].map((function(e){return Math.floor(e)})),3),v="rgb("+d[0]+","+d[1]+","+d[2]+",0.25)",m=[{value:S.YZ},{value:S.$t}],g=(0,se.iP)(),b=pe((0,f.useState)(-1),2),w=b[0],E=b[1],O=(0,f.useRef)(null),k=(0,oe.YF)({placement:"top",middleware:[(0,ie.cv)({mainAxis:8,crossAxis:10}),(0,ie.uY)(),(0,oe.x7)({element:O})]}),P=k.x,x=k.y,T=k.strategy,A=k.refs,N=k.middlewareData,L=k.update;return(0,f.useEffect)((function(){L()}),[L,g.height,g.width,e.manualUpdate]),f.createElement(f.Fragment,null,f.createElement("div",{ref:A.setReference,className:"sm-icon-grp clickable","aria-label":"Set difficulty",onClick:function(){E((function(e){e>0&&clearTimeout(e);var t=setTimeout((function(){return E(-1)}),3500);return Number(t)}))}},f.createElement(ce.G,{icon:ae.scR})),f.createElement("div",{id:"tooltip",ref:A.setFloating,style:{height:"200px",position:T,top:null!=x?x:0,left:null!=P?P:0,width:"max-content"},className:j()(fe({invisible:w<0,"tooltip-fade":w<0},Q.pK,!0))},f.createElement(y.ZP,{sx:{color:v},orientation:"vertical",value:i,onChange:function(e,t){clearTimeout(w),E(0),"number"==typeof t&&a(t)},onChangeCommitted:function(t,r){var n=setTimeout((function(){return E(-1)}),1e3);E(Number(n)),"function"==typeof e.onChange&&"number"==typeof r&&e.onChange(r)},marks:m,step:10,valueLabelFormat:function(e){return e>S.$t?"Pass":"Fail"}}),f.createElement("div",{ref:O,id:"arrow",style:{position:T,height:8,width:8,bottom:-4,left:8+(null!==(t=null===(r=N.arrow)||void 0===r?void 0:r.x)&&void 0!==t?t:0)}})))}de.propTypes={value:u().number,onChange:u().func,manualUpdate:u().string};var ve=r(7588),me=r(3653);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||Se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ee(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pe(n.key),n)}}function Pe(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ye(t)?t:String(t)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Te(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ae(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}var Le={location:"/vocabulary/",label:"Vocabulary"},Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(y,e);var t,r,c,s,u,p=(s=y,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ne(s);if(u){var r=Ne(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Te(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=p.call(this,e)).loopAbortControllers,t.loopQuitTimer,t.loopQuitMs=15e3,t.state={errorMsgs:[],errorSkipIndex:-1,lastNext:Date.now(),selectedIndex:0,showHint:!1,filteredVocab:[],frequency:[],recacheAudio:!1,jbare:[],ebare:[],loop:0,loopQuitCount:t.loopQuitMs/1e3},t.props,t.setState,0===t.props.vocab.length&&t.props.getVocabulary(),t.gotoNext=t.gotoNext.bind(Ae(t)),t.gotoNextSlide=t.gotoNextSlide.bind(Ae(t)),t.gotoPrev=t.gotoPrev.bind(Ae(t)),t.setOrder=t.setOrder.bind(Ae(t)),t.updateReinforcedUID=t.updateReinforcedUID.bind(Ae(t)),t.startMove=t.startMove.bind(Ae(t)),t.inMove=t.inMove.bind(Ae(t)),t.endMove=t.endMove.bind(Ae(t)),t.swipeActionHandler=t.swipeActionHandler.bind(Ae(t)),t.beginLoop=t.beginLoop.bind(Ae(t)),t.looperSwipe=t.looperSwipe.bind(Ae(t)),t.abortLoop=t.abortLoop.bind(Ae(t)),t.arrowKeyPress=t.arrowKeyPress.bind(Ae(t)),t.getElapsedTimedPlay=t.getElapsedTimedPlay.bind(Ae(t)),t}return t=y,c=[{key:"getDerivedStateFromError",value:function(e){var t=void 0!==e.cause&&[{msg:JSON.stringify(e.cause).replaceAll(",",", "),css:"px-4"}]||[];return{errorMsgs:[{msg:e.name+": "+e.message,css:"px-2"}].concat(Ee(t)).map((function(e){return we(we({},e),{},{lvl:h.x6.ERROR})}))}}}],(r=[{key:"componentDidMount",value:function(){var e=this;this.props.vocab&&this.props.vocab.length>0&&this.setOrder(),document.addEventListener("keydown",this.arrowKeyPress,!0),(0,ee.$T)("Vocabulary Loop"),(0,ee.gI)("paused");var t=[["play",function(){e.state.loop&&(e.beginLoop(),(0,ee.gI)("playing"))}],["pause",function(){e.state.loop&&(e.abortLoop()?e.forceUpdate():(0,ee.gI)("paused"))}],["stop",function(){e.state.loop&&(e.abortLoop()?e.forceUpdate():(0,ee.gI)("paused"))}],["previoustrack",function(){e.state.loop&&(e.abortLoop(),e.looperSwipe("right"))}],["nexttrack",function(){e.state.loop&&(e.abortLoop(),e.looperSwipe("left"))}]];(0,ee.aw)(t)}},{key:"componentDidUpdate",value:function(e,t){var r=this;if(this.props.vocab.length!==e.vocab.length&&this.setOrder(),this.props.vocab.length>0&&this.props.termsOrder!=e.termsOrder&&this.setOrder(),(this.props.activeGroup.length!=e.activeGroup.length||this.props.activeGroup.some((function(t){return!e.activeGroup.includes(t)}))||e.activeGroup.some((function(e){return!r.props.activeGroup.includes(e)})))&&this.setOrder(),this.props.frequency.uid!=e.frequency.uid||this.props.frequency.count!=e.frequency.count)if(this.props.filterType===h.Lx.FREQUENCY&&0===this.props.frequency.count)this.setOrder();else{var n=this.state.filteredVocab.map((function(e){return e.uid})).reduce((function(e,t){var n;return!0===(null===(n=r.props.repetition[t])||void 0===n?void 0:n.rein)&&(e=[].concat(Ee(e),[t])),e}),[]);this.setState({frequency:n})}if(this.state.reinforcedUID!==t.reinforcedUID||this.state.selectedIndex!==t.selectedIndex){var o,i=t.reinforcedUID||(0,S.vr)(t.selectedIndex,this.state.order,this.state.filteredVocab);if(this.state.loop>0&&void 0!==this.state.tpAnswered)if("reset"===this.state.tpBtn)!0===(null===(o=this.props.repetition[i])||void 0===o?void 0:o.pron)&&void 0!==this.state.tpElapsed&&this.props.setWordTPCorrect(i,this.state.tpElapsed,{pronunciation:null});else if(!0===this.state.tpAnswered)void 0!==this.state.tpElapsed&&this.props.setWordTPCorrect(i,this.state.tpElapsed);else{var a={pronunciation:"pronunciation"===this.state.tpBtn||void 0};this.props.setWordTPIncorrect(i,a)}if((0,S.Zc)(t.lastNext)){var c=(0,S.cc)(i,this.props.vocab),l=i!==t.reinforcedUID,s=this.state.tpAnswered,u=void 0!==t.reinforcedUID;this.props.updateSpaceRepWord({uid:i,shouldIncrement:l}).then((function(e){var t=e.payload,n=t.map,o=t.prevMap,a=o&&o[i]&&o[i].d,l=je({},i,we(we({},n[i]),{},{d:a}));void 0!==s?(0,X.lP)(r.props.logger,c,l,{frequency:u}):(0,X.Ps)(r.props.logger,c,l,{frequency:u})}))}this.state.loop>0&&void 0===this.loopAbortControllers&&(void 0!==this.loopQuitTimer&&(this.loopQuitTimer.forEach((function(e){clearTimeout(e)})),this.loopQuitTimer=void 0),this.setState({loopQuitCount:this.loopQuitMs/1e3,tpAnswered:void 0,tpBtn:void 0,tpTimeStamp:void 0,tpElapsed:void 0}),(0,S.u3)(t.lastNext)&&this.beginLoop()),this.setState({showHint:!1,errorMsgs:[]})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.arrowKeyPress,!0),this.abortLoop(),(0,ee.CU)()}},{key:"componentDidCatch",value:function(e){var t,r,n=this,o=e.cause;switch(o&&o.code){case"InvalidPronunciation":if(this.props.debugLevel!==h.x6.OFF&&this.state.errorSkipIndex<this.state.filteredVocab.length-1){var i;this.props.logger("Error: "+e.message,h.x6.ERROR),this.props.logger("["+(null===(i=o.value)||void 0===i?void 0:i.english)+"] Skipped",h.x6.ERROR),this.abortLoop();var a=this.state.filteredVocab.length;t=(a+this.state.selectedIndex+1)%a}break;case"DeviceMotionEvent":this.props.logger("Error: "+e.message,h.x6.ERROR)}if(this.state.reinforcedUID){var c,l=this.state.filteredVocab.findIndex((function(e){return e.uid===n.state.reinforcedUID}));r=null===(c=this.state.order)||void 0===c?void 0:c.indexOf(l)}else r=this.state.selectedIndex;this.setState(we(we({reinforcedUID:void 0},t?{selectedIndex:t}:{}),{},{errorSkipIndex:r,errorMsgs:[]}))}},{key:"abortLoop",value:function(){var e=!1;return this.loopAbortControllers&&this.loopAbortControllers.length>0&&(e=!0,this.loopAbortControllers.forEach((function(e){e.abort()})),this.loopAbortControllers=void 0,(0,ee.gI)("paused")),e}},{key:"beginLoop",value:function(){var e=this;(0,ee.gI)("playing"),this.abortLoop();var t,r,n=new AbortController,o=new AbortController,i=new AbortController,a=new AbortController,c=new AbortController,l=function(){void 0!==e.state.tpTimeStamp&&(e.abortLoop(),e.setState({loop:0,tpTimeStamp:void 0,tpAnimation:void 0}))},s=function(t){try{(0,S.Mm)(t,e.props.motionThreshold,l)}catch(t){t instanceof Error&&e.componentDidCatch(t)}};this.props.motionThreshold>0&&(0,S.HG)((function(){window.addEventListener("devicemotion",s)}),this.componentDidCatch),this.loopAbortControllers=[n,o,i,a,c],this.forceUpdate(),this.props.practiceSide?(t=function(t){return e.looperSwipe("down",t)},r=function(t){return(0,S.nD)(e.state.loop,(function(){return e.looperSwipe("up",t)}),1500,t)}):(t=function(t){return e.looperSwipe("up",t)},r=function(t){return(0,S.nD)(e.state.loop,(function(){return e.looperSwipe("down",t)}),1500,t)});var u=function(t,r){e.setState((function(e){return{tpAnimation:void 0===e.tpAnimation||100-e.tpAnimation<1?t/r*100:e.tpAnimation+t/r*100}}))};(0,S.wO)(700,n).then((function(){return e.setState({tpTimeStamp:Date.now()}),t(o).catch((function(e){var t;if("UserAborted"===(null===(t=e.cause)||void 0===t?void 0:t.code))throw e}))})).then((function(){return(0,S.wO)(3e3,i,u)})).then((function(){return e.setState({tpAnimation:void 0,tpTimeStamp:void 0}),r(a).then((function(){return e.loopAbortControllers=void 0,e.looperSwipe("left")})).catch((function(t){var r;if("UserAborted"!==(null===(r=t.cause)||void 0===r?void 0:r.code))return e.loopAbortControllers=void 0,e.looperSwipe("left")}))})).then((function(){return(0,S.wO)(100,c)})).catch((function(){})).then((function(){e.props.motionThreshold>0&&window.removeEventListener("devicemotion",s)}))}},{key:"looperSwipe",value:function(e,t){var r;return this.state.loop>0&&(r=this.swipeActionHandler(e,t)),r||Promise.reject("loop disabled")}},{key:"arrowKeyPress",value:function(e){for(var t=this,r=[["ArrowRight",function(){return t.swipeActionHandler("left")}],["ArrowLeft",function(){return t.swipeActionHandler("right")}],["ArrowUp",function(){return t.swipeActionHandler("up")}],["ArrowDown",function(){return t.swipeActionHandler("down")}],["MediaPlayPause",function(){}],[" ",this.props.flipVocabularyPracticeSide]],n=function(){var r=ge(i[o],2),n=r[0],a=r[1];if(n===e.key){var c=a,l=function(){},s=function(){setTimeout((function(){t.setState({tpAnimation:0}),setTimeout((function(){t.setState((function(e){if(0===e.tpAnimation)return{tpAnimation:void 0}}))}),1e3)}),1500)};if(" "!==n)if(t.abortLoop()){var u,f,p=void 0===t.state.tpAnimation&&void 0!==t.state.tpTimeStamp,h=void 0===t.state.tpAnimation&&void 0===t.state.tpTimeStamp;if("ArrowUp"===n&&t.props.practiceSide||"ArrowDown"===n&&!t.props.practiceSide)f=t.getElapsedTimedPlay().tpElapsed,u=!0,p?s=l:h&&(u=!1,c=l,s=l);else{h&&(s=l);var d=setInterval((function(){t.setState((function(e){var r=1===e.loopQuitCount;return r&&clearTimeout(d),{loopQuitCount:r?t.loopQuitMs/1e3:e.loopQuitCount-1,loop:r?0:e.loop}}))}),1e3);t.loopQuitTimer=[d]}t.setState({tpAnswered:u,tpElapsed:f}),s()}else(0,ee.gI)("paused");return c(),"break"}},o=0,i=r;o<i.length&&"break"!==n();o++);}},{key:"setOrder",value:function(){var e,t=this,r=Object.keys(this.props.repetition).reduce((function(e,r){return!0===t.props.repetition[r].rein&&(e=[].concat(Ee(e),[r])),e}),[]),n=(0,S.Dm)(this.props.filterType,this.props.vocab,r,this.props.activeGroup,this.props.toggleVocabularyFilter),o=[],i=[];if(this.props.termsOrder===h.vl.RANDOM)this.props.logger("Randomized",h.x6.DEBUG),e=(0,S.tq)(n);else if(this.props.termsOrder===h.vl.VIEW_DATE)this.props.logger("Date Viewed",h.x6.DEBUG),e=(0,S.EL)(n,this.props.repetition);else if(this.props.termsOrder===h.vl.GAME)if(this.props.logger("Space Rep",h.x6.DEBUG),!0===this.props.reinforce){var a=ge(l()(n,(function(e){var r;return!0===(null===(r=t.props.repetition[e.uid])||void 0===r?void 0:r.rein)})),2),c=a[0],s=a[1];n=[].concat(Ee(s),Ee(c));var u=(0,S.rU)(s,this.props.repetition),f=c.map((function(e,t){return s.length+t}));e=[].concat(Ee(u),Ee(f))}else e=(0,S.rU)(n,this.props.repetition);else if(this.props.termsOrder===h.vl.DIFFICULTY)this.props.logger("Difficulty",h.x6.DEBUG),n=n.filter((function(e){var r,n=null===(r=t.props.repetition[e.uid])||void 0===r?void 0:r.difficulty;return void 0===n||n<t.props.difficultyT})),e=(0,S.J0)(n,this.props.repetition);else{this.props.logger("Alphabetic",h.x6.DEBUG);var p=(0,S.fx)(n);e=p.order,o=p.jOrder,i=p.eOrder}var d=n.map((function(e){return e.uid})).reduce((function(e,r){var n;return!0===(null===(n=t.props.repetition[r])||void 0===n?void 0:n.rein)&&(e=[].concat(Ee(e),[r])),e}),[]);this.setState({filteredVocab:n,frequency:d,order:e,jbare:o,ebare:i,scrollJOrder:!0})}},{key:"gotoNext",value:function(){var e=this.state.filteredVocab.length,t=(e+this.state.selectedIndex+1)%e;t===this.state.errorSkipIndex&&(t=(e+t+1)%e),this.setState({lastNext:Date.now(),reinforcedUID:void 0,selectedIndex:t})}},{key:"gotoNextSlide",value:function(){(0,S.hY)(this.props.reinforce,this.props.filterType,this.state.frequency,this.state.filteredVocab,this.state.reinforcedUID,this.updateReinforcedUID,this.gotoNext,this.props.removeFrequencyWord)}},{key:"gotoPrev",value:function(){var e,t=this.state.filteredVocab.length,r=this.state.selectedIndex-1;(e=this.state.reinforcedUID?this.state.selectedIndex:(t+r)%t)===this.state.errorSkipIndex&&(e=(t+e-1)%t),this.setState({lastNext:Date.now(),reinforcedUID:void 0,selectedIndex:e})}},{key:"updateReinforcedUID",value:function(e){this.setState({reinforcedUID:e})}},{key:"startMove",value:function(e){if(!(0,Q.jE)(e)){var t=(0,Q.IY)(e,{verticalSwiping:!0,touchThreshold:this.props.swipeThreshold});this.setState({swiping:t})}}},{key:"inMove",value:function(e){if(this.state.swiping){var t=(0,Q.Si)(e,this.state.swiping);this.setState({swiping:t})}}},{key:"endMove",value:function(e){var t,r,n=this;if(this.state.swiping){var o=this.swipeActionHandler,i=function(){},a=function(){setTimeout((function(){n.setState({tpAnimation:0}),setTimeout((function(){n.setState((function(e){if(0===e.tpAnimation)return{tpAnimation:void 0}}))}),1e3)}),1500)},c=e.target,l=Array.from(document.getElementsByClassName("loop-stop-btn")).some((function(e){return e.contains(c)})),s=Array.from(document.getElementsByClassName("loop-no-interrupt")).some((function(e){return e.contains(c)})),u=void 0===(null===(t=this.state.swiping)||void 0===t||null===(r=t.touchObject)||void 0===r?void 0:r.swipeLength)||this.state.swiping.touchObject.swipeLength<this.state.swiping.touchThreshold;if(l)this.setState({loop:0});else if(!s||!u){if(this.abortLoop()){var f,p,h=(0,Q.Yg)(this.state.swiping.touchObject,!0),d=void 0===this.state.tpAnimation&&void 0!==this.state.tpTimeStamp,v=void 0!==this.state.tpAnimation&&void 0!==this.state.tpTimeStamp,m=void 0===this.state.tpAnimation&&void 0===this.state.tpTimeStamp;if("up"===h||"down"===h)if(p=this.getElapsedTimedPlay().tpElapsed,f=!0,d)a=i;else if(v){var y=this.props.practiceSide?"up":"down";o=function(e,t){return n.swipeActionHandler(y,t)}}else m&&(f=!1,o=i,a=i);else{m&&(a=i);var g=setInterval((function(){n.setState((function(e){var t=1===e.loopQuitCount;return t&&clearTimeout(g),{loopQuitCount:t?n.loopQuitMs/1e3:e.loopQuitCount-1,loop:t?0:e.loop}}))}),1e3);this.loopQuitTimer=[g]}this.setState({tpAnswered:f,tpElapsed:p}),a()}(0,Q.Kd)(e,we(we({},this.state.swiping),{},{onSwipe:o}))}}}},{key:"getElapsedTimedPlay",value:function(){var e,t=this.state.reinforcedUID||(0,S.vr)(this.state.selectedIndex,this.state.order,this.state.filteredVocab),r=(0,S.cc)(t,this.props.vocab),n=(0,X.xr)(r.english,30);if(void 0!==this.state.tpTimeStamp){var o=this.state.tpTimeStamp;e=Math.abs(Date.now()-o);var i=" "+(0,X.p1)(e)+"s";this.props.logger("Timed Play ["+n+"]"+i,h.x6.DEBUG)}else this.props.logger("Timed Play ["+n+"] X-( ",h.x6.DEBUG);return{tpElapsed:e}}},{key:"swipeActionHandler",value:function(e,t){var r;if("left"===e)this.gotoNextSlide(),r=Promise.all([Promise.resolve()]);else if("right"===e)this.gotoPrev(),r=Promise.all([Promise.resolve()]);else{var n=this.state.reinforcedUID||(0,S.vr)(this.state.selectedIndex,this.state.order,this.state.filteredVocab),o=(0,S.cc)(n,this.props.vocab),i=this.state.recacheAudio?"/override_cache":"";if("up"===e){var a;if("Verb"===o.grp&&"dictionary"!==this.props.verbForm){var c=(0,S.dP)(o,this.props.verbForm);a=we(we({},o),{},{japanese:c.toString(),pronounce:o.pronounce&&c.getPronunciation(),form:this.props.verbForm})}else if(d.TZ.parse(o).isNaAdj()){var l=this.state.naFlip,s=d.TZ.parse(o).append(l&&"な");a=we(we({},o),{},{japanese:s.toString(),pronounce:o.pronounce&&s.getPronunciation(),form:l}),this.setState((function(e){return{naFlip:e.naFlip?void 0:"-na"}}))}else a=o;var u=(0,te.b1)(J.vT+i,{tl:"ja",q:(0,d._I)(a),uid:(0,S.gW)(a)});r=(0,$.R$)(u,t)}else if("down"===e){var f=o.english,p=(0,te.b1)(J.vT+i,{tl:"en",q:f,uid:o.uid+".en"});r=(0,$.R$)(p,t)}}return r||Promise.reject()}},{key:"render",value:function(){var e,t=this;if(this.state.errorMsgs.length>0){var r=(0,X.zV)(this.state),c=(0,X.zV)(this.props),l=[].concat(Ee(this.state.errorMsgs),[{msg:"props:",lvl:h.x6.WARN,css:"px-2"},{msg:c,lvl:h.x6.WARN,css:"px-4"},{msg:"state:",lvl:h.x6.WARN,css:"px-2"},{msg:r,lvl:h.x6.WARN,css:"px-4"}]);return f.createElement(ve.R,{next:this.gotoNext,prev:this.gotoPrev},f.createElement("div",{className:"d-flex flex-column justify-content-around"},f.createElement(ne.Z,{messages:l})))}if(this.state.filteredVocab.length<1)return f.createElement(v.n,{addlStyle:"main-panel"});var s,u,p,y=this.state.reinforcedUID||(0,S.vr)(this.state.selectedIndex,this.state.order,this.state.filteredVocab),g=(0,S.cc)(y,this.props.vocab),w=!0===(null===(e=this.props.repetition[g.uid])||void 0===e?void 0:e.rein),j="Verb"===g.grp,E=d.TZ.parse(g),O=E.hasFurigana(),k=E.isHintable(3),P=void 0!==g.grp&&""!==g.grp,x=this.state.showHint,T=!x&&this.props.practiceSide?k:P;this.state.scrollJOrder?(s=this.state.selectedIndex,u=this.state.jbare):(s=this.state.jbare[this.state.selectedIndex].idx,u=this.state.ebare),this.state.loop>0&&void 0===this.loopAbortControllers?p=f.createElement(re.Qp,{countDown:void 0!==this.loopQuitTimer?this.state.loopQuitCount:void 0,onClick:function(){if(void 0!==t.loopQuitTimer){var e=ge(t.loopQuitTimer,1)[0];clearInterval(e),t.setState({loopQuitCount:t.loopQuitMs/1e3})}t.beginLoop()}}):this.state.loop>0&&void 0!==this.loopAbortControllers&&(p=f.createElement(re.Vv,{onClick:function(){t.abortLoop(),t.setState({loop:0,tpTimeStamp:void 0,tpAnimation:void 0})}}));var A,N,L=(this.state.selectedIndex+1)/this.state.filteredVocab.length*100,R=[f.createElement("div",{key:0,className:"vocabulary main-panel h-100"},f.createElement("div",{className:"d-flex justify-content-between h-100",onTouchStart:this.props.swipeThreshold>0?this.startMove:void 0,onTouchMove:this.props.swipeThreshold>0?this.inMove:void 0,onTouchEnd:this.props.swipeThreshold>0?this.endMove:void 0},f.createElement(m.Z,{ariaLabel:"Previous",action:this.gotoPrev},f.createElement(a.wyc,{size:16})),j&&this.props.autoVerbView?f.createElement(_,{verb:g,reCache:this.state.recacheAudio,linkToOtherTerm:function(e){return t.setState({reinforcedUID:e})},showHint:x}):f.createElement(H,{vocabulary:g,reCache:this.state.recacheAudio,showHint:x}),f.createElement(m.Z,{ariaLabel:"Next",action:this.gotoNextSlide},f.createElement(a.XCv,{size:16}))))];return R=this.state.showPageBar?[].concat(Ee(R),[f.createElement(o.Z,{in:this.state.showPageBar,timeout:500,key:3},f.createElement(i.Z,{style:{position:"absolute",bottom:"25vh",left:"65vw"}},f.createElement("div",{onClick:function(){t.setState((function(e){return{scrollJOrder:!e.scrollJOrder}}))}},this.state.scrollJOrder?"JP":"EN"))),f.createElement("div",{key:4,className:"page-bar flex-shrink-1",onTouchStart:function(){t.props.scrollingState(!0)},onTouchEnd:function(){t.props.scrollingState(!1)}},f.createElement(b,{initial:s,list:u,setIndex:function(e){if(t.state.scrollJOrder)t.setState({selectedIndex:e});else{var r=t.state.ebare[e].idx;t.setState({selectedIndex:r})}}}))]):[].concat(Ee(R),[f.createElement("div",{key:1,className:"options-bar mb-3 flex-shrink-1"},f.createElement("div",{className:"row opts-max-h"},f.createElement("div",{className:"col"},f.createElement("div",{className:"d-flex justify-content-start"},f.createElement(me.uY,{toggle:this.props.practiceSide,action:function(){t.abortLoop()&&t.setState({tpTimeStamp:void 0,tpAnimation:void 0}),t.props.flipVocabularyPracticeSide()}}),f.createElement(me.Ro,{active:this.state.recacheAudio,action:function(){!1===t.state.recacheAudio&&(t.setState({recacheAudio:!0}),setTimeout((function(){t.setState({recacheAudio:!1})}),2e3))}}),f.createElement(me.ph,{visible:j,toggleAutoVerbView:this.props.toggleAutoVerbView,autoVerbView:this.props.autoVerbView}),f.createElement("div",{className:"sm-icon-grp"},f.createElement(re.e2,{active:this.state.loop>0,loop:this.state.loop,onClick:function(){t.abortLoop(),t.loopQuitTimer=void 0,t.setState((function(e){var t=3===e.loop;return{loop:t?0:e.loop+1,tpAnswered:t?void 0:e.tpAnswered}}))}})),f.createElement("div",{className:"sm-icon-grp"},p))),f.createElement("div",{className:"col text-center"},f.createElement(me.Qp,{visible:void 0!==this.state.reinforcedUID&&""!==this.state.reinforcedUID})),f.createElement("div",{className:"col"},f.createElement("div",{className:"d-flex justify-content-end"},f.createElement(me.lh,{visible:void 0!==this.state.tpAnswered,hover:this.state.tpBtn,prevMissPronu:!0===(null===(A=this.props.repetition[y])||void 0===A?void 0:A.pron),onPronunciation:function(){var e;!0===(null===(e=t.props.repetition[y])||void 0===e?void 0:e.pron)?t.setState((function(e){return{tpAnswered:!1,tpBtn:"reset"===e.tpBtn?void 0:"reset"}})):t.setState((function(e){return{tpAnswered:!1,tpBtn:"pronunciation"===e.tpBtn?void 0:"pronunciation"}}))},onIncorrect:function(){t.setState((function(e){return{tpAnswered:!1,tpBtn:"incorrect"===e.tpBtn?void 0:"incorrect"}}))},onReset:function(){t.setState((function(e){return{tpAnswered:!1,tpBtn:"reset"===e.tpBtn?void 0:"reset"}}))}}),f.createElement(de,{value:null===(N=this.props.repetition[y])||void 0===N?void 0:N.difficulty,onChange:function(e){return t.props.setWordDifficulty(y,e)},manualUpdate:y}),f.createElement(me.y8,{visible:this.props.hintEnabled,active:T,setShowHint:function(e){return t.setState({showHint:e})}}),f.createElement(me.A,{active:O,toggle:(0,S.$q)(g.uid,this.props.furigana).furigana.show,toggleFurigana:function(e){return t.props.furiganaToggled(e)},vocabulary:g}),f.createElement(me.R_,{addFrequencyTerm:this.props.addFrequencyWord,removeFrequencyTerm:this.props.removeFrequencyWord,toggle:w,term:g,count:this.state.frequency.length}))))),f.createElement("div",{key:2,className:"progress-line flex-shrink-1",onClick:function(){t.props.termsOrder===h.vl.ALPHABETIC&&(t.setState({showPageBar:!0}),setTimeout((function e(){t.props.scrollingDone?t.setState({showPageBar:!1}):setTimeout(e,4e3)}),4e3))}},f.createElement(n.Z,{variant:void 0===this.state.tpAnimation?"determinate":"buffer",value:void 0===this.state.tpAnimation?L:0,valueBuffer:void 0===this.state.tpAnimation?void 0:this.state.tpAnimation,color:w?"secondary":"primary"}))]),R}}])&&ke(t.prototype,r),c&&ke(t,c),Object.defineProperty(t,"prototype",{writable:!1}),y}(f.Component);Re.propTypes={vocab:u().array.isRequired,verbForm:u().string,activeGroup:u().array,frequency:u().object,hintEnabled:u().bool,romajiActive:u().bool,practiceSide:u().bool,termsOrder:u().number,scrollingDone:u().bool,filterType:u().number,autoVerbView:u().bool,reinforce:u().bool,repetition:u().object,furigana:u().object,swipeThreshold:u().number,motionThreshold:u().number,debugLevel:u().number,flipVocabularyPracticeSide:u().func.isRequired,logger:u().func,furiganaToggled:u().func,setWordDifficulty:u().func,setWordTPIncorrect:u().func,updateSpaceRepWord:u().func,setWordTPCorrect:u().func,getVocabulary:u().func.isRequired,addFrequencyWord:u().func.isRequired,removeFrequencyWord:u().func.isRequired,scrollingState:u().func,toggleAutoVerbView:u().func,toggleVocabularyFilter:u().func};const Ce=(0,p.$j)((function(e){return{swipeThreshold:e.global.swipeThreshold,motionThreshold:e.global.motionThreshold,debugLevel:e.global.debug,scrollingDone:!e.global.scrolling,vocab:e.vocabulary.value,verbForm:e.vocabulary.verbForm,practiceSide:e.vocabulary.setting.practiceSide,termsOrder:e.vocabulary.setting.ordered,romajiActive:e.vocabulary.setting.romaji,hintEnabled:e.vocabulary.setting.hintEnabled,filterType:e.vocabulary.setting.filter,difficultyT:e.vocabulary.setting.difficultyT,frequency:e.vocabulary.setting.frequency,activeGroup:e.vocabulary.setting.activeGroup,autoVerbView:e.vocabulary.setting.autoVerbView,reinforce:e.vocabulary.setting.reinforce,repetition:e.vocabulary.setting.repetition,furigana:e.vocabulary.setting.repetition}}),{getVocabulary:O.Rz,flipVocabularyPracticeSide:O.$u,addFrequencyWord:O.S5,removeFrequencyWord:O.xz,scrollingState:Y.lv,toggleAutoVerbView:O.eK,toggleVocabularyFilter:O.ZZ,furiganaToggled:O._n,updateSpaceRepWord:O.Wo,setWordTPCorrect:O.Gy,setWordTPIncorrect:O.d1,setWordDifficulty:O.kn,logger:Y.kg})(Re)},2209:(e,t,r)=>{r.d(t,{_:()=>n});var n="userSettings"},1513:(e,t,r)=>{r.d(t,{TZ:()=>v,Wp:()=>y,_I:()=>b});var n,o=r(4184),i=r.n(o),a=r(7294),c=r(1410),l=r(7178);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function h(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}n=Symbol.toStringTag;var v=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._furigana=t,this._kanji=r,this._parseObj={furiganas:[],kanjis:[],okuriganas:[],startsWKana:!1},this.slang=!1,this.keigo=!1,this.adj=""}var t,r;return t=e,r=[{key:n,get:function(){return"JapaneseText"}},{key:"furigana",get:function(){return this._furigana}},{key:"furigana",set:function(e){this._furigana=e}},{key:"kanji",get:function(){return this._kanji}},{key:"kanji",set:function(e){this._kanji=e}},{key:"parseObj",get:function(){return 0===this._parseObj.furiganas.length&&0===this._parseObj.kanjis.length&&0===this._parseObj.okuriganas.length&&!1===this._parseObj.startsWKana&&(this.hasFurigana()?this._parseObj=y(this.getPronunciation(),this.getSpelling()):this._parseObj={okuriganas:[this.getSpelling()],startsWKana:!0,kanjis:[],furiganas:[]}),this._parseObj}},{key:"hasFurigana",value:function(){return!!this._kanji}},{key:"getSpelling",value:function(){return this._kanji?this._kanji:this._furigana}},{key:"getPronunciation",value:function(){return this._furigana}},{key:"getObject",value:function(){return{furigana:this._furigana,kanji:this._kanji}}},{key:"isSlang",value:function(){return!0===this.slang}},{key:"isKeigo",value:function(){return!0===this.keigo}},{key:"isNaAdj",value:function(){return"na"===this.adj}},{key:"isIAdj",value:function(){return"i"===this.adj}},{key:"debug",value:function(){return JSON.stringify(this)}},{key:"append",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.hasFurigana()?new e(this.getPronunciation()+t,this.getSpelling()+t):new e(this.getSpelling()+t)}},{key:"toString",value:function(){return this._furigana+(this._kanji?"\n"+this._kanji:"")}},{key:"isHintable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=!0,r=this;if(r.hasFurigana()){var n=r.getPronunciation(),o=r.getSpelling();if(n.length<e)t=!1;else try{y(n,o)}catch(e){console.log(e),t=!1}}else{var i=r.getSpelling();i.length<e&&(t=!1)}return t}},{key:"getHint",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i="invisible",a="hint-mora",c={shown:a,hidden:i};if(this.isHintable(n))if(this.hasFurigana()){var l=this.getPronunciation(),s=this.getSpelling(),u=y(l,s),f=u.kanjis,p=u.furiganas,h=u.okuriganas,d=u.startsWKana;r=t(c,f,p,h,d,o)}else{var v=this.getSpelling();r=e(c,v,o)}else r=void 0;return r}},{key:"toHTML",value:function(e){var t,r,n,o=!1===(null==e||null===(t=e.furigana)||void 0===t?void 0:t.show),c=null==e||null===(r=e.furigana)||void 0===r?void 0:r.toggle,s=i()({"incorrect-color":!0,"d-block":!0}),u=a.createElement("span",null,a.createElement("span",{className:s},this.getPronunciation()),a.createElement("span",null,this.getSpelling()));if(this.hasFurigana())try{var f=this.parseObj,p=f.kanjis,h=f.furiganas,d=f.okuriganas,v=f.startsWKana,m=(0,l.je)(this.parseObj),y=i()({clickable:!!c})||void 0,g=c||void 0,b=o?"transparent-font":void 0;n=a.createElement("span",{className:y,onClick:g},m.map((function(e,t){var r=(0,l.re)(p[t]),n=(0,l.re)(),o=(0,l.re)(h[t],b),i=(0,l.re)(),a=(0,l.re)(d[t]),c=(0,l.re)();return(0,l.v5)(t,{sk:r,hk:n},{sf:o,hf:i},{so:a,ho:c},v)})))}catch(e){console.error(e),n=u}else n=a.createElement("span",null,this.getSpelling());return n}}],r&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){var r,n=e.japanese.split("\n");if("function"==typeof t)r=t(e);else{var o=u(n,2),i=o[0],a=o[1];r=new v(i,a)}return e.slang&&!0===e.slang&&(r.slang=!0),e.keigo&&!0===e.keigo&&(r.keigo=!0),!e.adj||"na"!==e.adj&&"i"!==e.adj||(r.adj=e.adj),r}function y(e,t){var r,n,o,i;try{var a=g(e,t);r=a.kanjis,n=a.furiganas,o=a.okuriganas,i=a.startsWKana}catch(a){var l;if(a instanceof Error&&"ParseError"===(null===(l=a.cause)||void 0===l?void 0:l.code))try{var s=g(e.split("").reverse().join(""),t.split("").reverse().join("")),u=s.kanjis,f=s.furiganas,p=s.okuriganas;return{kanjis:r=u.map((function(e){return e.split("").reverse().join("")})).reverse(),furiganas:n=f.map((function(e){return e.split("").reverse().join("")})).reverse(),okuriganas:o=p.map((function(e){return e.split("").reverse().join("")})).reverse(),startsWKana:i=!(0,c.AF)(t.charAt(0))}}catch(e){}throw a}return{kanjis:r,furiganas:n,okuriganas:o,startsWKana:i}}function g(e,t){if(t.split("").every((function(e){return(0,c.AF)(e)||(0,c.BE)(e)})))return{kanjis:[t],furiganas:[e],okuriganas:[],startsWKana:!1};var r=new RegExp(/\s/g),n=r.test(e)||r.test(t),o=!(0,c.AF)(t.charAt(0))&&!(0,c.IE)(t.charAt(0)),i=0,a=[],l=[],s=[],f="",p="",h="",d=!1;t.split("").forEach((function(r,o){if((0,c.AF)(r)||function(e,t,r){var n=r.charAt(e);return Number.isInteger((0,c.F8)(n))||Number.isInteger(Number.parseInt(n))&&!t.includes(n)&&!(0,c.AF)(n)&&!(0,c.f_)(n)&&!(0,c.xn)(n)&&e<r.length-1}(o,e,t))" "!==e.charAt(i)&&(f+=e.charAt(i))," "!==r&&(p+=r),d=!0,i++,""!==h&&(s.push(h),h=""),t.length-o==1&&(" "!==e.slice(i)&&(f+=e.slice(i)),a.push(f),l.push(p));else{if(d){for(;e.charAt(i)!=r;)if(" "!==e.charAt(i)&&(f+=e.charAt(i)),++i>e.length)throw new Error("The two phrases do not match"+(n?" (contains white space)":""),{cause:{code:"InputError",info:{input:{pronunciation:e,orthography:t},kanjis:l,furiganas:a,okuriganas:s}}});a.push(f),f=""}" "!==r&&(h+=r),""!==p&&(l.push(p),p=""),i++,d=!1}})),""!==h&&s.push(h);var v=function(e,t,r,n){var o,i;return n?(i=r.reduce((function(t,r,n){return t+r+(e[n]||"")}),""),o=r.reduce((function(e,r,n){return e+r+(t[n]||"")}),"")):(i=e.reduce((function(e,t,n){return e+t+(r[n]||"")}),""),o=t.reduce((function(e,t,n){return e+t+(r[n]||"")}),"")),[o,i]}(l,a,s,o),m=u(v,2),y=m[0],g=m[1],b=e.replaceAll(" ",""),w=t.replaceAll(" ","");if(y!==b||g!==w)throw new Error("Failed to parse text to build furigana"+(n?" (contains white space)":""),{cause:{code:"ParseError",info:{input:{pronunciation:e,orthography:t},output:{pronunciation:y,orthography:g}}}});return{kanjis:l,furiganas:a,okuriganas:s,startsWKana:o}}function b(e){var t;if(e.pronounce){if(!e.pronounce.split("").every((function(e){return(0,c.f_)(e)||(0,c.xn)(e)})))throw new Error("No valid pronunciation",{cause:{code:"InvalidPronunciation",value:e}});t=e.pronounce}else t=v.parse(e).getSpelling().replaceAll(" ","");return t}h(v,"parse",(function(e){return m(e)})),h(v,"parser",m)},1423:(e,t,r)=>{r.d(t,{R:()=>w});var n,o=r(6954),i=r(1410),a=r(1513);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=p(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},f.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}n=Symbol.toStringTag;var y,g,b,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(m,e);var t,r,c,s,p=(c=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(c);if(s){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function m(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(r=p.call(this,e,t)).trans=void 0,r.intr=void 0,r.exv=void 0,r}return t=m,(r=[{key:n,get:function(){return"JapaneseVerb"}},{key:"isExceptionVerb",value:function(){return void 0!==this.exv}},{key:"isIntransitive",value:function(){return void 0!==this.trans||!0===this.intr}},{key:"getTransitivePair",value:function(){return this.isIntransitive()&&this.trans?this.trans:void 0}},{key:"getIntransitivePair",value:function(){return this.isIntransitive()||"string"!=typeof this.intr?void 0:this.intr}},{key:"getVerbClass",value:function(){var e=f(v(m.prototype),"getPronunciation",this).call(this),t=f(v(m.prototype),"getSpelling",this).call(this);if(this.exv&&this.isExceptionVerb())return this.exv;var r=e.slice(-1),n=e.slice(-2,-1),o=(0,i.dv)(n).iVowel;return"する"===t.slice(-2)||"くる"===e||"だ"===e||"ある"===e?3:1===o&&"る"===r||3===o&&"る"===r?2:1}},{key:"getStem",value:function(){var e,t,r=o.Bw;f(v(m.prototype),"hasFurigana",this).call(this)&&(t=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-1));var n=f(v(m.prototype),"getPronunciation",this).call(this).slice(-1),a=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-1);if(1===this.getVerbClass()||"る"!==n){var c=(0,i.dv)(n).iConsonant;e=t?[a+r[c][1],t+r[c][1]]:[a+r[c][1]]}else{if("る"!==n)throw new Error("Unknown verb type");e=t?[a,t]:[a]}return e}},{key:"naiForm",value:function(){var e,t="ない",r=this.getVerbClass(),n=f(v(m.prototype),"getSpelling",this).call(this),c=f(v(m.prototype),"hasFurigana",this).call(this);if(1===r){var s=n[n.length-1],u=o.Bw,p=o.Be.indexOf("a"),h=(0,i.dv)(s).iConsonant,d=u[0===h?14:h][p]+t,y=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-1);if(c){var g=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(g+d,y+d)}else e=new a.TZ(y+d)}else if(2===r){var b=l(this.getStem(),2),w=b[0],j=b[1];e=j?new a.TZ(w+t,j+t):new a.TZ(w+t)}else if("来る"===n||"くる"===n)e=new a.TZ("こない","来ない");else if("する"===n)e=new a.TZ("しない");else if("ある"===n)e=new a.TZ("ない");else{if("する"!==n.slice(-2))throw new Error("Unknown exception verb type");var E=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-2);if(c){var S=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(S+"しない",E+"しない")}else e=new a.TZ(E+"しない")}return e}},{key:"saseruForm",value:function(){var e,t="せる",r=this.getVerbClass(),n=f(v(m.prototype),"getSpelling",this).call(this),c=f(v(m.prototype),"hasFurigana",this).call(this);if(1===r){var s=n[n.length-1],u=o.Bw,p=o.Be.indexOf("a"),h=(0,i.dv)(s).iConsonant,d=u[0===h?14:h][p]+t,y=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-1);if(c){var g=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(g+d,y+d)}else e=new a.TZ(y+d)}else if(2===r){"居る"!==n&&"いる"!==n||(e=new a.TZ("いる","居る"));var b=l(this.getStem(),2),w=b[0],j=b[1];e=c?new a.TZ(w+"さ"+t,j+"さ"+t):new a.TZ(w+"さ"+t)}else if("来る"===n||"くる"===n)e=new a.TZ("こさせる","来させる");else if("する"===n)e=new a.TZ("させる");else if("ある"===n)e=new a.TZ("ある");else{if("する"!==n.slice(-2))throw new Error("Unknown exception verb type");var E=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-2);if(c){var S=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(S+"させる",E+"させる")}else e=new a.TZ(E+"させる")}return e}},{key:"reruForm",value:function(){var e,t=this.getVerbClass(),r=f(v(m.prototype),"getSpelling",this).call(this),n=f(v(m.prototype),"hasFurigana",this).call(this);if(this.isIntransitive()||void 0!==this.getIntransitivePair())return null;if(1===t){var c=r[r.length-1],s=o.Bw,u=o.Be.indexOf("e"),p=s[(0,i.dv)(c).iConsonant][u]+"る",h=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-1);if(n){var d=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(d+p,h+p)}else e=new a.TZ(h+p)}else if(2===t){var y=l(this.getStem(),2),g=y[0],b=y[1];e=n?new a.TZ(g+"られる",b+"られる"):new a.TZ(g+"られる")}else if("来る"===r||"くる"===r)e=new a.TZ("こられる","来られる");else if("する"===r)e=new a.TZ("できる");else if("する"===r.slice(-2)){var w=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-2);if(n){var j=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(j+"できる",w+"できる")}else e=new a.TZ(w+"できる")}else{if("ある"!==r&&"いる"!==r)throw new Error("Unknown exception verb type");e=null}return e}},{key:"masuForm",value:function(){var e,t="ます";switch(this.toString()){case"くる\n来る":e=new a.TZ("きます","来ます");break;case"ある":e=new a.TZ("あります");break;case"だ":e=new a.TZ("です")}if("する"===f(v(m.prototype),"getSpelling",this).call(this).slice(-2)){var r="します",n=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-2),o=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-2);e=f(v(m.prototype),"hasFurigana",this).call(this)?new a.TZ(n+r,o+r):new a.TZ(n+r)}if(!e){var i=l(this.getStem(),2),c=i[0],s=i[1];e=s?new a.TZ(c+t,s+t):new a.TZ(c+t)}return e}},{key:"mashouForm",value:function(){var e,t="ましょう";switch(this.toString()){case"くる\n来る":e=new a.TZ("きましょう","来ましょう");break;case"ある":e=new a.TZ("ありましょう");break;case"だ":e=new a.TZ("でしょう")}if("する"===f(v(m.prototype),"getSpelling",this).call(this).slice(-2)){var r="しましょう",n=f(v(m.prototype),"getPronunciation",this).call(this).slice(0,-2),o=f(v(m.prototype),"getSpelling",this).call(this).slice(0,-2);e=f(v(m.prototype),"hasFurigana",this).call(this)?new a.TZ(n+r,o+r):new a.TZ(n+r)}if(!e){var i=l(this.getStem(),2),c=i[0],s=i[1];e=s?new a.TZ(c+t,s+t):new a.TZ(c+t)}return e}},{key:"taForm",value:function(){return this.t_Form(j)}},{key:"chattaForm",value:function(){if(3===this.getVerbClass())return null;var e,t=f(v(m.prototype),"hasFurigana",this).call(this)?f(v(m.prototype),"getSpelling",this).call(this):f(v(m.prototype),"getPronunciation",this).call(this);switch(t[t.length-1]){case"ぶ":case"む":case"ぬ":case"ぐ":e="じゃった";break;default:e="ちゃった"}var r=this.t_Form(j);return new a.TZ(r.getPronunciation().slice(0,-1)+e,r.getSpelling().slice(0,-1)+e)}},{key:"teForm",value:function(){return this.t_Form(E)}},{key:"t_Form",value:function(e){var t,r,n,o=this.getVerbClass(),i=f(v(m.prototype),"furigana",this);f(v(m.prototype),"hasFurigana",this).call(this)&&f(v(m.prototype),"kanji",this)&&(r=f(v(m.prototype),"furigana",this),i=f(v(m.prototype),"kanji",this));var c=i[i.length-1];if(1===o)if("行く"===i||"いく"===i)t=a.TZ.parse({japanese:e.g1.iku});else{switch(c){case"う":case"つ":case"る":n=e.g1.u_tsu_ru;break;case"く":n=e.g1.ku;break;case"ぐ":n=e.g1.gu;break;case"ぬ":case"ぶ":case"む":n=e.g1.mu_nu_bu;break;case"す":n=e.g1.su}t=r?new a.TZ(r.slice(0,-1)+n,i.slice(0,-1)+n):new a.TZ(i.slice(0,-1)+n)}else if(2===o)n=e.g2.ru,t=r?new a.TZ(r.slice(0,-1)+n,i.slice(0,-1)+n):new a.TZ(i.slice(0,-1)+n);else if("来る"===i||"くる"===i)t=a.TZ.parse({japanese:e.g3.kuru});else if("する"===i)t=a.TZ.parse({japanese:e.g3.suru});else if("だ"===i)t=a.TZ.parse({japanese:e.g3.da});else if("ある"===i)t=a.TZ.parse({japanese:e.g3.aru});else{if("する"!==i.slice(-2))throw new Error("Unknown exception verb type");var l=e.g3.suru,s=i.slice(0,-2);if(r){var u=r.slice(0,-2);t=new a.TZ(u+l,s+l)}else t=new a.TZ(s+l)}return t}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(a.TZ);y=w,b=function(e){var t=a.TZ.parser(e,(function(e){var t=l(e.japanese.split("\n"),2),r=t[0],n=t[1];return new w(r,n)}));return e.intr&&(t.intr=e.intr),e.trans&&(t.trans=e.trans),e.exv&&e.exv>0&&e.exv<4&&(t.exv=e.exv),t},(g=m(g="parse"))in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b;var j={g1:{u_tsu_ru:"った",mu_nu_bu:"んだ",ku:"いた",gu:"いだ",su:"した",iku:"いった\n行った"},g2:{ru:"た"},g3:{suru:"した",kuru:"きた\n来た",da:"だった",aru:"あった",iru:"いた"}},E={g1:{u_tsu_ru:"って",mu_nu_bu:"んで",ku:"いて",gu:"いで",su:"して",iku:"いって\n行って"},g2:{ru:"て"},g3:{suru:"して",kuru:"きて\n来て",da:"で",aru:"あって",iru:"いて"}}},1243:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{IY:()=>u,Kd:()=>p,Si:()=>f,Yg:()=>s,jE:()=>h,pK:()=>c});var c="slick-swipe-ignore";function l(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()}function s(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,r=e.startY-e.curY,n=Math.atan2(r,t),(o=Math.round(180*n/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===i?o>=35&&o<=135?"up":"down":"vertical"}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{verticalSwiping:!1,touchThreshold:5},r=t.verticalSwiping,n=t.touchThreshold;return"IMG"===e.target.tagName&&l(e),{verticalSwiping:r,touchThreshold:n,touchObject:{startX:"touches"in e?e.touches[0].pageX:e.clientX,startY:"touches"in e?e.touches[0].pageY:e.clientY,curX:"touches"in e?e.touches[0].pageX:e.clientX,curY:"touches"in e?e.touches[0].pageY:e.clientY}}}function f(e,t){var r=t.verticalSwiping,n=t.touchThreshold,o=t.swiped,a=t.swiping,c=t.touchObject,u=t.swipeEvent;c.curX="touches"in e?e.touches[0].pageX:e.clientX,c.curY="touches"in e?e.touches[0].pageY:e.clientY,c.swipeLength=Math.abs(c.curX-c.startX);var f=Math.abs(c.curY-c.startY);if(!r&&!a&&f>10)return{scrolling:!0};r&&(c.swipeLength=Math.sqrt(Math.pow(f,2)+Math.pow(c.swipeLength,2)));var p=s(t.touchObject,r),h={touchObject:c,verticalSwiping:r,touchThreshold:n,swiped:!1,swiping:!1};return!o&&u&&(u(p),h=i(i({},h),{},{swiped:!0})),c.swipeLength>10&&(h=i(i({},h),{},{swiping:!0}),l(e)),h}function p(e,t){var r,n=t.touchObject,o=t.touchThreshold,a=t.verticalSwiping,c=t.onSwipe,u=o;return n.swipeLength&&(r=s(n,a)),n.swipeLength>u&&(l(e),c&&c(r)),i({swipeDirection:r},t)}function h(e){var t=e.target;return Array.from(document.getElementsByClassName(c)).some((function(e){return e.contains(t)}))}},7:(e,t,r)=>{function n(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e}function o(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.clamped,i=void 0===o||o,a=Math.min.apply(Math,[1,r]),c=i?Math.max.apply(Math,[a,0]):r,l=(1-c)*e+c*t;return l}r.d(t,{Sy:()=>n,t7:()=>o})},8090:(e,t,r)=>{r.d(t,{R$:()=>i});var n=new Error("User interrupted audio playback.",{cause:{code:"UserAborted"}}),o=new AudioContext;function i(e,t){var r=o.createBufferSource(),i=fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return o.decodeAudioData(e).then((function(e){r.buffer=e,r.connect(o.destination),r.start()}))})),a=new Promise((function(e,o){var i=function(){r.stop(),o(n)};r.addEventListener("ended",(function(){null==t||t.signal.removeEventListener("abort",i),e()})),null!=t&&t.signal.aborted&&i(),null==t||t.signal.addEventListener("abort",i)}));return Promise.all([a,i])}},8602:(e,t,r)=>{r.d(t,{O5:()=>u,Ps:()=>p,lP:()=>h,p1:()=>f,xr:()=>s,zV:()=>d});var n=r(2022);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Math.ceil(t/2);return e.length<t?e:e.slice(0,r)+"..."+e.slice(-(t-r))}function u(e){var t,r,n=(t=e.split("T"),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=Date.parse(n),i=Math.abs(Date.now()-o);return Math.ceil(i/864e5)}function f(e){return(Math.round(e)/1e3).toFixed(2)+"".replace("0.",".").replace(".00","").replace(/0$/,"")}function p(e,t,r,o){if(r[t.uid]&&r[t.uid].d){var i=s(t.english,30),a=!0===(null==o?void 0:o.frequency)?" F[w]":"",c=" "+(u(r[t.uid].d)-1)+"d",l=" "+r[t.uid].vC+"v",f=r[t.uid].tpAcc;e("Space Rep ["+i+"]"+a+c+l+(void 0!==f?" "+(100*f).toFixed(0)+"%":""),n.x6.DEBUG)}}function h(e,t,r,o){if(r[t.uid]&&r[t.uid].d){var i=s(t.english,30),a=!0===(null==o?void 0:o.frequency)?" F[w]":"",c=" "+(u(r[t.uid].d)-1)+"d",l=r[t.uid].tpPc,p=void 0!==l?" "+l+"v":"",h=r[t.uid].tpAcc,d=void 0!==h?" "+(100*h).toFixed(0)+"%":"",v=r[t.uid].tpCAvg;e("Timed Play ["+i+"]"+a+c+p+d+(void 0!==v?" "+f(v)+"s":""),n.x6.DEBUG)}}function d(e){var t=Object.keys(e).reduce((function(t,r){return["boolean","number","string"].includes(c(e[r]))&&(t=i(i({},t),{},a({},r,e[r]))),Array.isArray(e[r])&&(t=i(i({},t),{},a({},r+"Len",e[r].length))),t}),{});return JSON.stringify(t).replaceAll(",",", ")}},3058:(e,t,r)=>{r.d(t,{$q:()=>J,$t:()=>I,Dm:()=>O,EL:()=>C,HG:()=>X,II:()=>q,J0:()=>D,JS:()=>Z,Mm:()=>$,XQ:()=>x,YZ:()=>M,Zc:()=>T,cc:()=>S,dP:()=>U,fx:()=>_,gW:()=>H,hF:()=>W,hY:()=>j,iz:()=>B,kf:()=>V,nD:()=>Q,rU:()=>N,tq:()=>F,tu:()=>z,u3:()=>A,vr:()=>E,wG:()=>P,wO:()=>Y,w_:()=>G,yT:()=>K});var n=r(7294),o=r(4184),i=r.n(o),a=r(5472),c=r.n(a),l=r(2022),s=r(7),u=r(1513),f=r(1423),p=r(8602),h=r(1410),d=r(7178);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t,r,n,o,i,a,c){var s=e&&[!1,!1,!0][Math.floor(3*Math.random())];if(t!==l.Lx.FREQUENCY&&s&&r.length>0){var u=r.length,f=Math.floor(Math.random()*(u-0)+0),p=n.find((function(e){return r[f]===e.uid}));p?o!==p.uid?i(p.uid):a():(console.warn("uid no longer exists"),c(r[f]),a())}else a()}function E(e,t,r){var n;if(!(n=t?r[t[e]]:r[e]))throw new Error("No term found");return n.uid}function S(e,t){var r=t.find((function(t){return e===t.uid}));if(!r)throw new Error("No term found");return r}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=t;if(e===l.Lx.FREQUENCY){if(!r)throw new TypeError("Filter type requires frequencyList");if(!o)throw new TypeError("Filter type requires toggleFilterType");r.length>0?i=n.length>0?t.filter((function(e){return r.includes(e.uid)&&k(n,e)})):t.filter((function(e){return r.includes(e.uid)})):o(l.Lx.GROUP)}else e===l.Lx.TAGS?n.length>0&&(i=t.filter((function(e){return e.tag&&e.tag.some((function(e){return n.includes(e)}))}))):n.length>0&&(i=t.filter((function(e){return k(n,e)})));return i}function k(e,t){return t.grp&&e.includes(t.grp)||e.includes(t.grp+"."+t.subGrp)||void 0===t.grp&&(e.includes("undefined")||e.includes("undefined."+t.subGrp))}function P(e,t){var r=Object.keys(e).reduce((function(t,r){return[].concat(b(t),[r],b(e[r].map((function(e){return r+"."+e}))))}),[]);return t.reduce((function(e,t){return r.includes(t)||(e=[].concat(b(e),[t])),e}),[])}function x(e,t,r){var n=new Set(Object.keys({d:null,difficulty:null,nextReview:null,vC:null,f:null,rein:null,pron:null,tpPc:null,tpAcc:null,tpCAvg:null})),o=new Set,i=[];return Object.keys(e).forEach((function(a){Object.keys(e[a]).forEach((function(e){var c;if(!n.has(e)){var l;try{l=S(a,t)}catch(e){l={english:r}}c={key:e,uid:a,english:l.english}}void 0!==c&&(o.add(e),i=[].concat(b(i),[c]))}))})),{keys:o,list:i}}function T(e){return~~(Date.now()-e)>1500}function A(e){return~~(Date.now()-e)>300}function N(e,t){var r=[],n=[],o=[],i=[],a=[];for(var l in e){var s=e[l].uid,u=t[s];if(void 0!==u){if(void 0===u.tpAcc)i=[].concat(b(i),[{date:u.d,views:u.vC,uid:s,index:Number(l)}]);else if(!0===u.pron){var f=L(u.d,u.tpAcc,u.vC),p=R(u.tpPc,u.tpCAvg);n=[].concat(b(n),[{staleness:f,correctness:p,uid:s,index:Number(l)}])}else if(u.tpAcc>=.65){var h=L(u.d,u.tpAcc,u.vC),d=R(u.tpPc,u.tpCAvg);a=[].concat(b(a),[{staleness:h,correctness:d,uid:s,index:Number(l)}])}else if(u.tpAcc<.65){var v=L(u.d,u.tpAcc,u.vC),m=R(u.tpPc,u.tpCAvg);r=[].concat(b(r),[{staleness:v,correctness:m,uid:s,index:Number(l)}])}}else o=[].concat(b(o),[Number(l)])}var y=c()(r,["staleness","correctness","uid"],["desc","asc","asc"]),g=c()(n,["staleness","correctness","uid"],["desc","asc","asc"]),w=c()(i,["date","views","uid"],["asc","asc","asc"]),j=c()(a,["staleness","correctness","uid"],["desc","asc","asc"]),E=y.map((function(e){return e.index})),S=g.map((function(e){return e.index})),O=w.map((function(e){return e.index})),k=j.map((function(e){return e.index}));return[].concat(b(E),b(S),b(o),b(O),b(k))}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=Number.MAX_SAFE_INTEGER;return void 0!==e&&t>0&&r>0&&(n=(0,p.O5)(e)*(1/t)*(1/r)),n}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Number.MIN_SAFE_INTEGER;return e>0&&t>0&&(r=e*(1/t)),r}function C(e,t){var r=[],n=[];for(var o in e){var i=e[o].uid,a=t[i];void 0!==a&&void 0!==a.d?n=[].concat(b(n),[{date:a.d,uid:i,index:Number(o)}]):r=[].concat(b(r),[Number(o)])}var l=c()(n,["date","uid"],["asc","asc"]).map((function(e){return e.index}));return[].concat(b(r),b(l))}var M=80,I=30;function D(e,t){var r=[],n=[],o=[];for(var i in e){var a=e[i].uid,l=t[a];if(void 0!==l&&void 0!==l.difficulty){var s=Number(l.difficulty);s<M?n=[].concat(b(n),[{difficulty:s,uid:a,index:Number(i)}]):o=[].concat(b(o),[Number(i)])}else r=[].concat(b(r),[Number(i)])}var u=c()(n,["difficulty","uid"],["asc","asc"]).map((function(e){return e.index}));return[].concat(b(u),b(r),b(o))}function _(e){var t={},r=[];e.forEach((function(e,n){t[e.uid]=n,r=[].concat(b(r),[{uid:e.uid,japanese:e.japanese,english:e.english}])}));var n=[],o=[],i=[];return(r=c()(r,["japanese"],["asc"])).forEach((function(e,r){n=[].concat(b(n),[t[e.uid]]),i=[].concat(b(i),[{uid:e.uid,label:u.TZ.parse(e).getPronunciation(),idx:-1}]),o=[].concat(b(o),[{uid:e.uid,label:e.english.toLowerCase(),idx:r}])})),(o=c()(o,["label"],["asc"])).forEach((function(e,t){i[e.idx]=y(y({},i[e.idx]),{},{idx:t})})),{order:n,jOrder:i,eOrder:o}}function F(e){var t=e.map((function(e,t){return t}));return(0,s.Sy)(t),t}function G(e,t){return t[e]}function q(e,t){return e+1<t.length?e+1:0}function V(e,t){var r,n,o,i,a,c,l,s,u,p,h,d,v={dictionary:void 0===e?void 0:f.R.parse(e)},m=[{name:"-masu",value:null===(r=v.dictionary)||void 0===r?void 0:r.masuForm()},{name:"-mashou",value:null===(n=v.dictionary)||void 0===n?void 0:n.mashouForm()},{name:"dictionary",value:v.dictionary},{name:"-nai",value:null===(o=v.dictionary)||void 0===o?void 0:o.naiForm()},{name:"-saseru",value:null===(i=v.dictionary)||void 0===i?void 0:i.saseruForm()},{name:"-te",value:null===(a=v.dictionary)||void 0===a?void 0:a.teForm()},{name:"-ta",value:null===(c=v.dictionary)||void 0===c?void 0:c.taForm()}].concat(b(null!==(null===(l=v.dictionary)||void 0===l?void 0:l.chattaForm())?[{name:"-chatta",value:null===(s=v.dictionary)||void 0===s?void 0:s.chattaForm()}]:[]),b(null!==(null===(u=v.dictionary)||void 0===u?void 0:u.reruForm())?[{name:"-reru",value:null===(p=v.dictionary)||void 0===p?void 0:p.reruForm()}]:[]));return t&&t.length>0&&(d=t.reduce((function(e,t){var r=m.find((function(e){return e.name===t}));return void 0!==r&&(e=[].concat(b(e),[r])),e}),[])),null!==(h=d)&&void 0!==h?h:m}function U(e,t){var r=V(e).find((function(e){return e.name===t}));if(!r)throw new Error("Invalid targetForm");return r.value}function W(e,t,r,o){var a,c=!e,l=[],s=!1,u=!1;t.constructor.name===f.R.name&&"isExceptionVerb"in t&&(s=t.isExceptionVerb()||3===t.getVerbClass(),u=t.isIntransitive(),a=t.getTransitivePair()||t.getIntransitivePair());var p=t.isNaAdj(),h=t.isSlang(),d=t.isKeigo();return c&&(u||a)&&(l=[].concat(b(l),[n.createElement("span",{key:l.length+1,className:i()({clickable:a,"question-color":a}),onClick:a&&o?function(){o(a)}:void 0},u?"intr":"trans")])),c&&h&&(l=[].concat(b(l),[n.createElement("span",{key:l.length+1},"slang")])),c&&d&&(l=[].concat(b(l),[n.createElement("span",{key:l.length+1},"keigo")])),s&&l.length>0&&(l=[n.createElement("span",{key:l.length+1},"*")].concat(b(l))),l.length>0?n.createElement("span",null,r,p&&n.createElement("span",{className:"opacity-25"}," ","な"),n.createElement("span",{className:"fs-5"},n.createElement("span",null," ("),l.reduce((function(e,t,r){return r>0&&r<l.length?[].concat(b(e),[n.createElement("span",{key:l.length+r}," , "),t]):[].concat(b(e),[t])}),[]),n.createElement("span",null,")"))):s?n.createElement("span",null,r,n.createElement("span",null," ","*")):p?n.createElement("span",null,r,n.createElement("span",{className:"opacity-25"}," ","な")):r}function K(e,t,r,o){var a,c=[],l=!1;t.constructor.name===f.R.name&&"isExceptionVerb"in t&&(l=t.isIntransitive(),a=t.getTransitivePair()||t.getIntransitivePair());var s=t.isSlang(),u=t.isKeigo();return e&&(l||a)&&(c=[].concat(b(c),[n.createElement("span",{key:c.length+1,className:i()({clickable:a,"question-color":a}),onClick:a&&o?function(){o(a)}:void 0},l?"intr":"trans")])),e&&s&&(c=[].concat(b(c),[n.createElement("span",{key:c.length+1},"slang")])),e&&u&&(c=[].concat(b(c),[n.createElement("span",{key:c.length+1},"keigo")])),c.length>0?n.createElement("span",null,r,n.createElement("span",null,n.createElement("span",null," ("),c.reduce((function(e,t,r){return r>0&&r<c.length?[].concat(b(e),[n.createElement("span",{key:c.length+r}," , "),t]):[].concat(b(e),[t])}),[]),n.createElement("span",null,")"))):r}function Z(e,t,r,n,o){var i,a,c,l;return e?(i=t,a=r,c=n,l=o):(i=r,a=t,c=o,l=n),{topValue:i,topLabel:c,bottomValue:a,bottomLabel:l}}function B(e){return e.grp&&""!==e.grp?n.createElement("span",{className:"hint"},e.grp+(e.subGrp?", "+e.subGrp:"")):void 0}function z(e){var t=e.getPronunciation().slice(1,2);return(0,h.BM)(t)?e.getHint(h.Ot,d.AG,3,2):e.getHint(h.Ot,d.AG,3,1)}function H(e){var t=e.uid;if(!t)throw console.warn(JSON.stringify(e)),new Error("Missing uid");return e.form&&(t+="dictionary"!==e.form?e.form.replace("-","."):""),t}function J(e,t,r,n){return{furigana:{show:!(t&&t[e]&&!1===t[e].f),toggle:!1===r&&n&&function(){n(e)}||void 0}}}function Y(e,t,r){var n=t.signal;return new Promise((function(t,o){var i=function(){clearTimeout(c),clearInterval(a),o(new Error("Aborted"))},a="function"==typeof r?setInterval(r,200,200,e):-1,c=setTimeout((function(){null==n||n.removeEventListener("abort",i),clearInterval(a),t()}),e);null!=n&&n.aborted&&i(),null==n||n.addEventListener("abort",i)}))}function Q(e,t,r,n){var o=n.signal;return new Promise((function(n,i){var a=function(){clearTimeout(c);var e=new Error("User interrupted loop.",{cause:{code:"UserAborted"}});i(e)},c=setTimeout((function(){e>0?t().then((function(){return Q(e-1,t,r,{signal:o}).then((function(){null==o||o.removeEventListener("abort",a),n()}))})).catch((function(e){i(e)})):(null==o||o.removeEventListener("abort",a),n())}),r);null!=o&&o.aborted&&a(),null==o||o.addEventListener("abort",a)}))}function $(e,t,r){var n,o,i=null===(n=e.acceleration)||void 0===n?void 0:n.y,a=null===(o=e.acceleration)||void 0===o?void 0:o.z;if(null==i||null==a)throw new Error("Device does not support DeviceMotionEvent",{cause:{code:"DeviceMotionEvent"}});var c=Math.sqrt(i*i+a*a);c>t&&"function"==typeof r&&r(c)}function X(e,t){"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(t){"granted"===t&&e()})).catch(t):e()}},1410:(e,t,r)=>{r.d(t,{AF:()=>i,BE:()=>u,BM:()=>l,C5:()=>p,F8:()=>h,IE:()=>s,Ot:()=>v,Vj:()=>f,dv:()=>d,f_:()=>a,xn:()=>c});var n=r(7294),o=r(6954);function i(e){return new RegExp("[一-龯㐀-䶿々]").test(e)}function a(e){return new RegExp("[ぁ-ゟ]").test(e)}function c(e){return new RegExp("[゠-ヿ]").test(e)}function l(e){return new RegExp("^[ゃャゅュょョ]$").test(e)}function s(e){return new RegExp("[０-９]").test(e)}function u(e){return new RegExp("[　-〄〆-〿｡-･！-／：-＠［-｀｛-～]").test(e)}function f(e){var t=e;if(a(e)){var r=e.codePointAt(0);if(r){var n=r+96;t=String.fromCharCode(n)}}else if(c(e)){var o=e.codePointAt(0);if(o){var i=o-96;t=String.fromCharCode(i)}}return t}function p(e){var t;switch(e){case"は":t="wa";break;case"には":t="niwa";break;case"を":t="o";break;case"って":t="tte";break;default:t=e.split("").map((function(e){return function(e){var t=e;if(a(e)){var r=d(e),n=r.iConsonant,i=r.iVowel;t=o.sH[n]+o.Be[i]}else if(c(e)){var l=e.codePointAt(0);if(l){var s=l-96,u=d(String.fromCharCode(s)),f=u.iConsonant,p=u.iVowel;t=o.sH[f]+o.Be[p]}}return t}(e)})).join("")}return t}function h(e){var t=Number.NaN;if(s(e)){var r=e.codePointAt(0);if(r){var n=r-65249;t=Number.parseInt(String.fromCharCode(n))}}return t}function d(e){var t=o.Bw,r=t[0].length,n=t.length,i=-1,a=-1;if(" "===e||""===e)return{iConsonant:i,iVowel:a};if("ん"===e)return{iConsonant:15,iVowel:a};for(var c=0;c<r&&i<0;c++)for(var l=0;l<n;l++)if(t[l][c]===e){i=l,a=c;break}return{iConsonant:i,iVowel:a}}function v(e,t,r){return n.createElement("span",{className:"hint"},n.createElement("span",{className:e.shown},t.slice(0,r)),n.createElement("span",{className:e.hidden},t.slice(r)))}},7178:(e,t,r)=>{r.d(t,{AG:()=>s,je:()=>u,re:()=>h,tn:()=>p,v5:()=>d});var n=r(4184),o=r.n(n),i=r(7294);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r,n,o=e.kanjis,i=e.furiganas,c=e.okuriganas,l=e.startsWKana,s=t;return i.length>c.length?c=[].concat(a(c),[""]):i.length<c.length&&(o=[].concat(a(o),[""]),i=[].concat(a(i),[""])),i.reduce((function(e,t,u){var f=Math.trunc(i[u].length/o[u].length);if(s>0)if(l)if(r=c[u],n=i[u],r.length<=s){var p,h=s-=r.length;n.length<=s?(s-=n.length,p=o[u].length,h=n.length):(p=Math.ceil(s/f),s=0),e=[].concat(a(e),[{k:p,f:h,o:r.length}])}else e=[].concat(a(e),[{k:0,f:0,o:s}]),s=0;else if(r=i[u],n=c[u],r.length<=s){var d;s-=r.length,n.length<s?(s-=n.length,d=n.length):(d=s,s=0),e=[].concat(a(e),[{k:o[u].length,f:r.length,o:d}])}else{var v=Math.ceil(s/f);e=[].concat(a(e),[{k:v,f:s,o:0}]),s=0}else e=[].concat(a(e),[{k:0,f:0,o:0}]);return e}),[])}function s(e,t,r,n,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=l({kanjis:t,furiganas:r,okuriganas:n,startsWKana:o},c);r.length>n.length?n=[].concat(a(n),[""]):r.length<n.length&&(t=[].concat(a(t),[""]),r=[].concat(a(r),[""]));var u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t?[i.createElement("span",{key:r,className:e},t)]:[]},f=s.map((function(i,a){return d(a,{sk:i.k>0?u(e.shown,t[a].slice(0,i.k)):[],hk:i.k<t[a].length?u(e.hidden,t[a].slice(i.k)):[]},{sf:i.f>0?u(e.shown,r[a].slice(0,i.f)):[],hf:i.f<r[a].length?u(e.hidden,r[a].slice(i.f)):[]},{so:i.o>0?u(e.shown,n[a].slice(0,i.o)):[],ho:i.o<n[a].length?u(e.hidden,n[a].slice(i.o)):[]},o)}));return i.createElement("span",{className:"hint"},f)}function u(e){var t=e.kanjis,r=e.furiganas,n=e.okuriganas;return r.length>n.length?n=[].concat(a(n),[""]):r.length<n.length&&(t=[].concat(a(t),[""]),r=[].concat(a(r),[""])),r.map((function(e,o){return{k:t[o].length,f:r[o].length,o:n[o].length}}))}function f(e,t){var r=e.kanjis,n=e.furiganas,o=e.okuriganas,i=e.startsWKana,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+1,l=c-t;n.length>o.length?o=[].concat(a(o),[""]):n.length<o.length&&(r=[].concat(a(r),[""]),n=[].concat(a(n),[""]));var s=u({kanjis:r,furiganas:n,okuriganas:o,startsWKana:i}),f=[0];return s.map((function(e,r){var n=e.k,o=e.o,s=0,u=0;if(f=[].concat(a(f),[f[r]+n+o]),i){if(f[r]+o>t)if(f[r]+o<c){var p=t-(f[r]+o);u=Math.min.apply(Math,[o,Math.abs(p)]),l-=u}else u=l,l=0;if(f[r]+o+n>t)if(f[r]+o+n<c){var h=t-(f[r]+o+n);s=Math.min.apply(Math,[n,Math.abs(h)]),l-=s}else s=l,l=0}else{if(f[r]+n>t)if(f[r]+n<c){var d=t-(f[r]+n);s=Math.min.apply(Math,[n,Math.abs(d)]),l-=s}else s=l,l=0;if(f[r]+n+o>t)if(f[r]+n+o<c){var v=t-(f[r]+n+o);u=Math.min.apply(Math,[o,Math.abs(v)]),l-=u}else u=l,l=0}return{k:s,f:0,o:u}}))}function p(e,t,r){var n=e.kanjis,o=e.furiganas,c=e.okuriganas,l=e.startsWKana,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r+1,u=t.shown,p=t.hidden,h=f({kanjis:n,furiganas:o,okuriganas:c,startsWKana:l},r,s);o.length>c.length?c=[].concat(a(c),[""]):o.length<c.length&&(n=[].concat(a(n),[""]),o=[].concat(a(o),[""]));var v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t?[i.createElement("span",{key:r,className:e},t)]:[]},m=function(e,t,n,o){var i=[],c=[],l=e.length;if(l>0)if(0===t)c=v(u,e);else if(t===l)i=v(p,e),n-=l;else if(t<l)if(n<t)i=v(p,e.slice(0,t)),c=v(u,e.slice(t-l)),n=0;else if(n===t){var s=o,f=r-s,h=f+n,d=v(u,e.slice(0,f),s+1),m=v(p,e.slice(f,h),s+2),y=v(u,e.slice(h,l),s+3);c=[].concat(a(d),a(m),a(y)),n=0}else n>t&&(c=v(u,e.slice(0,t)),i=v(p,e.slice(t-l)),n-=t);return{s:c,h:i,spliceLen:n}},y=s-r,g=[0],b=h.map((function(e,t){var r,i,s=n[t].length,f=c[t].length;g=[].concat(a(g),[g[t]+f+s]);var p=m(n[t],e.k,y,g[t]+(l?f:0));r=p.s,i=p.h,y=p.spliceLen;var h,b,w=v(u,o[t]),j=m(c[t],e.o,y,g[t]+(l?0:s));return h=j.s,b=j.h,y=j.spliceLen,d(t,{sk:r,hk:i},{sf:w,hf:[]},{so:h,ho:b},l)}));return i.createElement("span",{className:"decorated"},b)}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e?[i.createElement("span",{key:r,className:t},e)]:[]}function d(e,t,r,n,a){var c=t.sk,l=t.hk,s=r.sf,u=r.hf,f=n.so,p=n.ho,h=c.length>0||l.length>0,d=s.length>0||u.length>0,v=f.length>0||p.length>0,m=h&&d&&i.createElement("ruby",null,c,l,i.createElement("rt",null,s,u))||void 0,y=v&&i.createElement("span",null,f,p)||void 0,g=a?y:m,b=a?m:y,w=o()({"lh-furigana":h&&d})||void 0;return(g||b)&&i.createElement("span",{key:e,className:w},g,b)||void 0}},4612:(e,t,r)=>{r.d(t,{xr:()=>m,JW:()=>v});var n=r(2209);function o(){return window.localStorage}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return function(e){if(Array.isArray(e))return e}(e)||p(e)||u(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e,t){if(1===t.length)return e[t[0]];var r=s(t),n=r[0],o=r.slice(1);return h(e[n],o)}function d(e,t,r){if(1===t.length){var n=t[0];return c(c({},e),{},l({},n,r))}var o=s(t),i=o[0],a=o.slice(1);return c(c({},e),{},l({},i,d(e[i]||{},a,r)))}function v(e,t,r,i,a){var l,s=m(n._)||{},v=[].concat(function(e){if(Array.isArray(e))return f(e)}(l=r.split("/").filter((function(e){return""!==e})))||p(l)||u(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]);void 0===a&&(a=!h(t,v));var y=d(c({},s),v,a),g=h(y,v);return function(e,t){try{o().setItem(e,JSON.stringify(t))}catch(e){console.log("setLocalStorage failed"),console.error(e)}}(n._,c(c({},y),{},{lastModified:e})),g}function m(e){var t;try{var r,n=o().getItem(e);try{n&&(r=JSON.parse(n))}catch(e){console.error("localStore parse failed"),console.error(e)}"object"!==i(r)||Array.isArray(r)||null===r||(t=r)}catch(e){console.error("localStore getItem failed"),console.error(e)}return t}},8816:(e,t,r)=>{function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Nmemonica App",r=arguments.length>2?arguments[2]:void 0;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t,album:r,artwork:[{src:"icon192.png",sizes:"192x192",type:"image/png"},{src:"icon512.png",sizes:"512x512",type:"image/png"}]}))}function a(e){if("mediaSession"in navigator){var t=navigator.mediaSession;try{t.playbackState=e}catch(e){console.error(e)}}else console.error("mediaSession not available")}function c(e){if("mediaSession"in navigator){var t=navigator.mediaSession;try{var r,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=(l=r.value,s=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(l,s)||n(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];try{t.setActionHandler(a,c)}catch(e){console.error(e)}}}catch(e){o.e(e)}finally{o.f()}}catch(e){console.error(e)}}else console.error("mediaSession not available");var l,s}function l(){if("mediaSession"in navigator){var e=navigator.mediaSession;try{e.metadata=null,e.playbackState="none",navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("stop",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null)}catch(e){console.error(e)}}else console.error("mediaSession not available")}r.d(t,{$T:()=>i,CU:()=>l,aw:()=>c,gI:()=>a})},3036:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t={},r=Object.keys(e).map((function(r){var n=e[r].trans;return n&&(t[n]={intr:r,trans:e[r].trans}),c(c({},e[r]),{},{uid:r})}));return r.map((function(e){return t[e.uid]?c(c({},e),{},{intr:t[e.uid].intr}):e}))}function u(e){var t="grp",r="subGrp";return Object.values(e).reduce((function(e,n){return n[t]?e[n[t]]?n[r]&&!e[n[t]].includes(n[r])?c(c({},e),{},l({},n[t],[].concat(o(e[n[t]]),[n[r]]))):e:n[r]?c(c({},e),{},l({},n[t],[n[r]])):c(c({},e),{},l({},n[t],[])):c({},e)}),{})}function f(e){var t="tag",r=[];return Object.values(e).forEach((function(e){e[t]&&e[t].length>0&&(r=[].concat(o(r),o(e[t])))})),Array.from(new Set(r))}r.d(t,{MS:()=>s,by:()=>u,fh:()=>f})},7672:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=n(e.includes("?")?e.split("?"):[e,""],2),o=r[0],i=r[1],a=new URLSearchParams(i),c=0,l=Object.entries(t);c<l.length;c++){var s=n(l[c],2),u=s[0],f=s[1];void 0!==f&&a.append(u,f)}return[o,a.toString()].join("?")}r.d(t,{b1:()=>i})},7641:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(7294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return(0,n.useMemo)((function(){return t.reduce((function(t,r){var n,i;return!0===(null===(n=e[r.uid])||void 0===n?void 0:n.rein)?[].concat(function(e){if(Array.isArray(e))return o(e)}(i=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r.uid]):t}),[])}),[e,t])}},2613:(e,t,r)=>{r.d(t,{iP:()=>c,oU:()=>a});var n=r(7294);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(){var e=o((0,n.useState)(!0),2),t=e[0],r=e[1];return function(){return r(!t)}}function c(){var e=o((0,n.useState)({width:void 0,height:void 0}),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}},9252:(e,t,r)=>{r.d(t,{b:()=>u,n:()=>s});var n=r(7294),o=r(2022),i=r(7),a=r(3058);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,i,l){var s=(0,n.useRef)(e),u=(0,n.useMemo)((function(){var e=Object.keys(s.current).reduce((function(e,t){return!0===s.current[t].rein&&(e=[].concat(c(e),[t])),e}),[]),n=(0,a.Dm)(i,t,e,i===o.Lx.TAGS?l:[],(function(){}));if(r&&i===o.Lx.TAGS){var u=n.map((function(e){return e.uid})),f=t.filter((function(t){return e.includes(t.uid)&&!u.includes(t.uid)}));n=[].concat(c(n),c(f))}return n}),[t,r,i,l]);return s.current=e,u}function u(e,t,r,o){return(0,n.useMemo)((function(){if(!r)return[];for(var n=[r],a=function(){var e=Math.floor(Math.random()*o.length),r=o[e];n.every((function(e){return e[t]!==r[t]}))&&(n=[].concat(c(n),[r]))};n.length<e;)a();return(0,i.Sy)(n),n}),[e,t,r,o])}},4410:(e,t,r)=>{r.d(t,{h:()=>o});var n=r(7294);function o(e,t,r){return(0,n.useMemo)((function(){if(e&&t.length>0){var n=t.length,o=Math.floor(Math.random()*(n-0)+0),i=t[o];return r.find((function(e){return i===e.uid}))}}),[e,r,t])}},609:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(7294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r,i){var a,c,l=(a=(0,n.useState)(0),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(a,c)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=l[1],f=(0,n.useRef)(s),p=(0,n.useRef)(s),h=(0,n.useRef)(void 0),d=(0,n.useMemo)((function(){if(0!==r&&(0!==f.current||0!==s)){var n,o=function(e){p.current=e,i(e)},a=r,c=f.current>s?"prev":"next";return n="prev"===c?(p.current-1<0?a:0)+(p.current-1)%a:(p.current+1)%a,e&&"next"===c&&void 0!==t&&h.current!==t.uid?(o(p.current),t):void o(n)}}),[s,e,r,t,i]);return f.current=s,h.current=null==d?void 0:d.uid,[d,u]}},1080:(e,t,r)=>{r.d(t,{A:()=>i,x:()=>o});var n=r(6706);function o(){var e=(0,n.v9)((function(e){return{global:e.global,vocabulary:e.vocabulary}})),t=e.global,r=e.vocabulary,o=t.swipeThreshold,i=r.setting,a=i.repetition,c=i.romaji,l=i.verbFormsOrder,s=i.practiceSide,u=i.hintEnabled,f=i.verbColSplit;return{verbForm:r.verbForm,repetition:a,swipeThreshold:o,romajiActive:c,verbFormsOrder:l,englishSideUp:s,hintEnabled:u,verbColSplit:f}}function i(){var e=(0,n.v9)((function(e){return e.kanji})),t=e.value,r=e.setting;return{rawKanjis:t,activeTags:r.activeTags,filterType:r.filter,reinforce:r.reinforce,repetitionObj:r.repetition,choiceN:r.choiceN,repetition:r.repetition}}},8067:(e,t,r)=>{var n=r(7294),o=r(745),i=r(6706),a=r(9829),c=r(5560),l=r(5412),s=r(2778),u=r(5956),f=r(7508);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function d(){}function v(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==p(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,c,"next",e)}function c(e){d(i,n,o,a,c,"throw",e)}a(void 0)}))}}var m=(0,a.hg)("version/getVersions",v(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(f.qe.databaseURL+"/lambda/cache.json").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)}))));const y=(0,a.oM)({name:"version",initialState:{vocabulary:void 0,phrases:void 0,kanji:void 0,opposites:void 0,particles:void 0,suffixes:void 0},reducers:{},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,t){return t.payload}))}}).reducer;var g=r(7679),b=r(1634),w=r(118),j=r(7835),E=(0,a.xC)({reducer:{global:j.ZP,sw:b.ZP,version:y,kana:c.ZP,vocabulary:g.ZP,opposite:s.ZP,phrases:u.ZP,kanji:l.ZP,particle:w.ZP}}),S=r(9655),O=r(6335),k=r(5697),P=r.n(k),x=r(5231),T=r(7625),A=r(1436),N=r(5002),L=r(6196),R=r(2917),C=r(1944),M=r(3494),I=r(6509),D=r(4184),_=r.n(D),F=r(5649),G=r(3058),q=r(3151);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function B(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===V(t)?t:String(t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function H(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(o);if(i){var r=Y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return H(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={collapsed:!0,vocabType:0,kanjiType:0},t.setState,t.menuToggle=t.menuToggle.bind(J(t)),t.clickBehavior=t.clickBehavior.bind(J(t)),t}return t=c,(r=[{key:"menuToggle",value:function(){this.setState((function(e){return e.collapsed?(document.body.classList.add("no-scroll"),window.scrollTo(0,0)):document.body.classList.remove("no-scroll"),{collapsed:!e.collapsed}}))}},{key:"clickBehavior",value:function(e){if(e.target){var t=e.target;if(Array.from(document.getElementsByClassName("force-collapse")).includes(t))this.menuToggle();else if(!Array.from(document.getElementsByClassName("prevent-collapse")).includes(t))return this.menuToggle(),!1}}},{key:"render",value:function(){var e=this,t=[{meta:W(W({},C.KanaGameMeta),{},{label:(0,G.w_)(this.props.charSet,C.KanaGameMeta.label)}),icon:n.createElement("div",{className:"not-a-real-icon"},(0,G.w_)(this.props.charSet,["あ","ア","*"])),wrap:function(t){return n.createElement("div",{className:"clickable prevent-collapse",onClick:function(){e.props.toggleKana()}},t)}},{meta:R.OppositesGameMeta,icon:n.createElement(T.G,{icon:A.ejD,size:"2x"})},{meta:[L.VocabularyMeta,N.PhrasesMeta][this.state.vocabType],icon:n.createElement(T.G,{icon:A.yGG,size:"2x"}),wrap:function(t){return n.createElement("div",{className:"clickable prevent-collapse",onClick:function(){e.setState((function(e){return{vocabType:(0,G.II)(e.vocabType,["Vocab","Phrases"])}}))}},t)}},{meta:M.ParticlesGameMeta,icon:n.createElement(T.G,{icon:A._zQ,size:"2x"})},{meta:[F.KanjiMeta,q.KanjiGameMeta][this.state.kanjiType],icon:n.createElement("div",{className:"not-a-real-icon"},(0,G.w_)(this.state.kanjiType,["漢","G"])),wrap:function(t){return n.createElement("div",{className:"clickable prevent-collapse",onClick:function(){e.setState((function(e){return{kanjiType:(0,G.II)(e.kanjiType,["Kanji","KanjiGame"])}}))}},t)}},{meta:I.SettingsMeta,icon:n.createElement(T.G,{icon:A.klh,size:"2x"})}];return n.createElement("div",{className:"navigation"},n.createElement("nav",{className:"my-navbar"},n.createElement(S.rU,{"aria-label":"Home",to:"/"}),n.createElement("div",{className:"button d-lg-none mt-2 me-2",onClick:this.menuToggle},n.createElement("button",{className:_()({"nav-menu-btn":!0,collapsed:this.state.collapsed}),type:"button","aria-controls":"nav-menu-mobile","aria-expanded":"false","aria-label":"Toggle mobile navigation"},n.createElement("span",{className:"nav-btn-line"}),n.createElement("span",{className:"nav-btn-line"}),n.createElement("span",{className:"nav-btn-line"}))),n.createElement("div",{className:_()({"mobile d-lg-none":!0,collapse:this.state.collapsed}),id:"nav-menu-mobile",onClick:this.clickBehavior},n.createElement("ul",{className:"w-100 d-flex justify-content-evenly flex-wrap p-4"},t.map((function(e,t){return n.createElement("li",{key:t,className:"w-25 text-center m-3"},n.createElement(S.rU,{to:e.meta.location},n.createElement("div",{className:"icon force-collapse mb-2"},e.icon)),n.createElement("div",{className:"caption"},e.wrap?e.wrap(e.meta.label):e.meta.label))})))),n.createElement("div",{className:"desktop d-none d-lg-block pt-2 pe-2"},n.createElement("ul",{className:"d-flex"},t.map((function(e,t){return n.createElement("li",{key:t},n.createElement(S.rU,{className:"desktop-link",to:e.meta.location},e.wrap?e.wrap(e.meta.label):e.meta.label))}))))))}}])&&Z(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);Q.propTypes={charSet:P().number,toggleKana:P().func};const $=(0,i.$j)((function(e){return{charSet:e.kana.setting.charSet}}),{toggleKana:c.I_})(Q);var X=r(5045);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ee(o)?o:String(o)),n)}var o}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function ne(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}var ie=(0,n.lazy)((function(){return r.e(236).then(r.bind(r,1236))})),ae=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,5002))})),ce=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,6196))})),le=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,2917))})),se=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,1944))})),ue=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,5649))})),fe=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,3151))})),pe=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,5045))})),he=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,3494))})),de=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,6509))})),ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oe(o);if(i){var r=oe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ne(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={},t.props.getVersions(),t.props.localStorageSettingsInitialized(),t.props.serviceWorkerRegistered().then((function(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(e){e.data.type===b.L6&&t.props.logger(e.data.msg,e.data.lvl,b.L6)}))})),t}return t=c,(r=[{key:"render",value:function(){var e=_()({"d-flex flex-column":!0,"dark-mode":this.props.darkMode});return n.createElement(S.UT,{basename:"/"},n.createElement("div",{id:"page-content",className:e},n.createElement(x.Z,{connected:!0}),n.createElement($,null),n.createElement(n.Suspense,{fallback:n.createElement("div",null)},n.createElement(O.Z5,null,n.createElement(O.AW,{path:"/",element:n.createElement(ce,null)}),n.createElement(O.AW,{path:N.PhrasesMeta.location,element:n.createElement(ae,null)}),n.createElement(O.AW,{path:L.VocabularyMeta.location,element:n.createElement(ce,null)}),n.createElement(O.AW,{path:R.OppositesGameMeta.location,element:n.createElement(le,null)}),n.createElement(O.AW,{path:C.KanaGameMeta.location,element:n.createElement(se,null)}),n.createElement(O.AW,{path:F.KanjiMeta.location,element:n.createElement(ue,null)}),n.createElement(O.AW,{path:q.KanjiGameMeta.location,element:n.createElement(fe,null)}),n.createElement(O.AW,{path:X.KanjiGridMeta.location,element:n.createElement(pe,null)}),n.createElement(O.AW,{path:M.ParticlesGameMeta.location,element:n.createElement(he,null)}),n.createElement(O.AW,{path:I.SettingsMeta.location,element:n.createElement(de,null)}),n.createElement(O.AW,{element:n.createElement(ie,null)})))))}}])&&te(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);ve.propTypes={initialize:P().func,localStorageSettingsInitialized:P().func,getVersions:P().func,serviceWorkerRegistered:P().func,serviceWorkerEventListeners:P().func,darkMode:P().bool,logger:P().func};const me=(0,i.$j)((function(e){return{darkMode:e.global.darkMode}}),{getVersions:m,localStorageSettingsInitialized:j.gK,serviceWorkerRegistered:b.kC,logger:j.kg})(ve);var ye=document.querySelector("#app-container");(0,o.s)(ye).render(n.createElement(n.StrictMode,null,n.createElement(i.zt,{store:E},n.createElement(me,null))))},7835:(e,t,r)=>{r.d(t,{zA:()=>F,ZP:()=>q,M4:()=>A,gK:()=>L,kg:()=>G,lv:()=>_,cv:()=>I,TJ:()=>N,nh:()=>D,In:()=>M});var n=r(9829),o=r(4613),i=r.n(o),a=r(2209),c=r(4612),l=r(2022),s=r(1634);function u(){if("storage"in navigator&&"persist"in navigator.storage)return navigator.storage.persisted().then((function(e){return p().then((function(t){return{quota:t.quota,usage:t.usage,persistent:e}}))}));var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return Promise.reject(e)}function f(){var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return"storage"in navigator&&"persist"in navigator.storage?navigator.storage.persisted().then((function(t){return t?p().then((function(e){return{quota:e.quota,usage:e.usage,persistent:t,warning:void 0}})):navigator.storage.persist().then((function(t){return t?("Storage will not be cleared except by explicit user action",p().then((function(e){return{quota:e.quota,usage:e.usage,persistent:t,warning:"Storage will not be cleared except by explicit user action"}}))):Promise.reject(e)}))})):Promise.reject(e)}function p(){return new Promise((function(e,t){"webkitTemporaryStorage"in navigator?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,r){e({quota:r,usage:t})}),t):null!=navigator.storage&&null!=navigator.storage.estimate?navigator.storage.estimate().then(e).catch(t):t(new Error("Quota info unsupported",{cause:{code:"QuotaInfoUnsupported"}}))}))}var h=r(5956),d=r(5412),v=r(5560),m=r(2778),y=r(118),g=r(7679);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:E(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};l(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&r.call(y,i)&&(v=y);var g=d.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==b(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(g),l(g,c,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function k(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){k(i,n,o,a,c,"next",e)}function c(e){k(i,n,o,a,c,"throw",e)}a(void 0)}))}}var x="ui_logger_msg",T={darkMode:!1,scrolling:!1,memory:{quota:0,usage:0,persistent:!1},debug:0,console:[],swipeThreshold:0,motionThreshold:0},A=(0,n.hg)("setting/getMemoryStorageStatus",function(){var e=P(O().mark((function e(t,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().catch((function(e){throw r.dispatch(G("Could not get memory storage status",l.x6.WARN)),r.dispatch(G(e.message,l.x6.WARN)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),N=(0,n.hg)("setting/setPersistentStorage",function(){var e=P(O().mark((function e(t,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f().catch((function(e){throw r.dispatch(G("Could not set persistent storage",l.x6.WARN)),r.dispatch(G(e.message,l.x6.WARN)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),L=(0,n.hg)("setting/localStorageSettingsInitialized",function(){var e=P(O().mark((function e(t,r){var n,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.xr)(a._),r.dispatch((0,m.DA)(n.opposite)),r.dispatch((0,h.fN)(n.phrases)),r.dispatch((0,d.QJ)(n.kanji)),r.dispatch((0,v.z7)(n.kana)),r.dispatch((0,y.ok)(n.particle)),r.dispatch((0,g.az)(n.vocabulary)),o=i()(T,E({},n.global)),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),R=(0,n.oM)({name:"setting",initialState:T,reducers:{toggleDarkMode:function(e){var t=new Date;(0,c.JW)(t,{global:e},"/global/","darkMode",!e.darkMode),e.darkMode=!e.darkMode},scrollingState:function(e,t){e.scrolling=t.payload},setSwipeThreshold:function(e,t){var r=new Date;(0,c.JW)(r,{global:e},"/global/","swipeThreshold",t.payload),e.swipeThreshold=t.payload},setMotionThreshold:function(e,t){var r=new Date;(0,c.JW)(r,{global:e},"/global/","motionThreshold",t.payload),e.motionThreshold=t.payload},debugToggled:{reducer:function(e,t){var r=t.payload,n=(0,l.P_)(e.debug+1,Object.values(l.x6),r);e.debug=(0,c.JW)(new Date,{global:e},"/global/","debug",n)},prepare:function(e){return{payload:e}}},logger:{reducer:function(e,t){var r,n,o=e.debug,i=t.payload,a=i.msg,c=i.lvl,l=i.type;0!==o&&c<=o&&(r=l===s.L6?"SW: "+a:"UI: "+a,e.console=[].concat(function(e){if(Array.isArray(e))return w(e)}(n=e.console)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{msg:r,lvl:c}]))},prepare:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.x6.DEBUG,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return{payload:{msg:e,lvl:t,type:r}}}}},extraReducers:function(e){e.addCase(L.fulfilled,(function(e,t){return E({},t.payload)})),e.addCase(A.fulfilled,(function(e,t){var r=t.payload,n=r.quota,o=r.usage,i=r.persistent;e.memory={quota:n,usage:o,persistent:i}})),e.addCase(N.fulfilled,(function(e,t){var r=t.payload,n=r.quota,o=r.usage,i=r.persistent,a=r.warning;a&&console.warn(a),e.memory={quota:n,usage:o,persistent:i}}))}}),C=R.actions,M=C.toggleDarkMode,I=C.setMotionThreshold,D=C.setSwipeThreshold,_=C.scrollingState,F=C.debugToggled,G=C.logger;const q=R.reducer},5560:(e,t,r)=>{r.d(t,{Bs:()=>w,I_:()=>b,PD:()=>E,ZP:()=>S,_S:()=>j,aY:()=>g,z7:()=>d});var n=r(9829),o=r(4613),i=r.n(o),a=r(6954),c=r(4612);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function d(){}function v(){}function m(){}var y={};s(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var s=f(e[n],e,i);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==l(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),s(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function h(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var d=(0,n.hg)("kana/kanaFromLocalStorage",function(){var e,t=(e=p().mark((function e(t){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,c,"next",e)}function c(e){h(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),v={hiragana:[],katakana:[],vowels:[],consonants:[],sounds:{},setting:{choiceN:16,wideMode:!1,easyMode:!1,charSet:0}},m=(0,n.oM)({name:"kana",initialState:v,reducers:{getKana:function(e){return u(u({},e),{},{hiragana:a.Bw,katakana:a.TU,vowels:a.Be,consonants:a.sH,sounds:a.jX})},toggleKana:function(e){var t=e.setting.charSet,r=t+1<3?t+1:0;e.setting.charSet=(0,c.JW)(new Date,{kana:e.setting},"/kana/","charSet",r)},setKanaBtnN:function(e,t){var r=t.payload;e.setting.choiceN=(0,c.JW)(new Date,{kana:e.setting},"/kana/","choiceN",r)},toggleKanaEasyMode:function(e){e.setting.easyMode=(0,c.JW)(new Date,{kana:e.setting},"/kana/","easyMode")},toggleKanaGameWideMode:function(e){e.setting.wideMode=(0,c.JW)(new Date,{kana:e.setting},"/kana/","wideMode")}},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var r=t.payload,n=i()(v.setting,r);return u(u({},e),{},{setting:u({},n)})}))}}),y=m.actions,g=y.getKana,b=y.toggleKana,w=y.setKanaBtnN,j=y.toggleKanaEasyMode,E=y.toggleKanaGameWideMode;const S=m.reducer},5412:(e,t,r)=>{r.d(t,{LD:()=>O,Mh:()=>k,QJ:()=>b,SI:()=>P,X8:()=>S,ZP:()=>N,cy:()=>T,ow:()=>x,tk:()=>g,vT:()=>A});var n=r(9829),o=r(4613),i=r.n(o),a=r(7508),c=r(3036),l=r(2022),s=r(4612);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function h(){}function d(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var l=f(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==u(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function m(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){m(i,n,o,a,c,"next",e)}function c(e){m(i,n,o,a,c,"throw",e)}a(void 0)}))}}var g=(0,n.hg)("kanji/getKanji",function(){var e=y(v().mark((function e(t,r){var n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.kanji||"0")&&console.error("fetching kanji: 0"),e.abrupt("return",fetch(a.qe.databaseURL+"/lambda/kanji.json",{headers:{"Data-Version":o}}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("kanji/kanjiFromLocalStorage",function(){var e=y(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w={value:[],tagObj:[],setting:{choiceN:32,filter:2,reinforce:!1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],activeTags:[]}},j=(0,n.oM)({name:"kanji",initialState:w,reducers:{toggleKanjiActiveTag:function(e,t){var r,n,o=t.payload,i=e.setting.activeTags;r=i.includes(o)?i.filter((function(e){return e!==o})):[].concat(function(e){if(Array.isArray(e))return d(e)}(n=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]),e.setting.activeTags=(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","activeTags",r)},toggleKanjiActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,l.c0)(o,n);e.setting.activeGroup=(0,s.JW)(new Date,{kaji:e.setting},"/kanji/","activeGroup",i)},addFrequencyKanji:function(e,t){var r=t.payload,n=(0,l.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",n),e.setting.repetition=n;var o={uid:r,count:e.setting.frequency.count+1};(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","frequency",o),e.setting.frequency=o},removeFrequencyKanji:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,l.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",i),i&&(e.setting.repetition=i);var a={uid:n,count:e.setting.frequency.count-1};(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","frequency",a),e.setting.frequency=a}},setKanjiBtnN:function(e,t){var r=t.payload;e.setting.choiceN=(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","choiceN",r)},toggleKanjiFilter:function(e,t){var r=t.payload,n=e.setting,o=n.filter,i=n.reinforce,a=(0,l.P_)(o+1,[l.Lx.FREQUENCY,l.Lx.TAGS],r);e.setting.filter=(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","filter",a),0!==a&&i&&(e.setting.reinforce=!1)},toggleKanjiReinforcement:function(e){e.setting.reinforce=(0,s.JW)(new Date,{kanji:e.setting},"/kanji/","reinforce")}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){var r=Object.keys(t.payload).map((function(e){return p(p({},t.payload[e]),{},{uid:e,tag:void 0===t.payload[e].tag?[]:t.payload[e].tag})}));e.tagObj=(0,c.fh)(t.payload),e.value=r})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload,n=i()(w.setting,r),o=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:o.length},p(p({},e),{},{setting:p({},n)})}))}}),E=j.actions,S=E.toggleKanjiActiveTag,O=E.toggleKanjiActiveGrp,k=E.addFrequencyKanji,P=E.removeFrequencyKanji,x=E.setKanjiBtnN,T=E.toggleKanjiFilter,A=E.toggleKanjiReinforcement;const N=j.reducer},2778:(e,t,r)=>{r.d(t,{CO:()=>y,Cz:()=>g,DA:()=>d,ZP:()=>b,bt:()=>h});var n=r(9829),o=r(7508),i=r(4612);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function d(){}function v(){}function m(){}var y={};s(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,c,l){var s=p(e[n],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,l)}),(function(e){o("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return o("throw",e,c,l)}))}l(s.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),s(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),s(w,l,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function f(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,c,"next",e)}function c(e){f(i,n,o,a,c,"throw",e)}a(void 0)}))}}var h=(0,n.hg)("opposite/getOpposite",function(){var e=p(u().mark((function e(t,r){var n,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(i=n.version.phrases||"0")&&console.error("fetching opposite: 0"),e.abrupt("return",fetch(o.qe.databaseURL+"/lambda/opposites.json",{headers:{"Data-Version":i}}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),d=(0,n.hg)("opposite/oppositeFromLocalStorage",function(){var e=p(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,n.oM)({name:"opposite",initialState:{value:[],aRomaji:!1,qRomaji:!1},reducers:{setOppositesARomaji:function(e){var t=new Date,r={opposite:e};e.aRomaji=(0,i.JW)(t,r,"/opposite/","aRomaji")},setOppositesQRomaji:function(e){var t=new Date,r={opposite:e};(0,i.JW)(t,r,"/opposite/","qRomaji",!e.qRomaji),e.qRomaji=!e.qRomaji}},extraReducers:function(e){e.addCase(h.fulfilled,(function(e,t){e.value=t.payload})),e.addCase(d.fulfilled,(function(e,t){var r=t.payload;return l(l({},e),r)}))}}),m=v.actions,y=m.setOppositesARomaji,g=m.setOppositesQRomaji;const b=v.reducer},118:(e,t,r)=>{r.d(t,{ZP:()=>k,aq:()=>b,ok:()=>w,ro:()=>O});var n=r(9829),o=r(4613),i=r.n(o),a=r(1410),c=r(1513),l=r(4612),s=r(5956);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function h(){}function d(){}function v(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var l=f(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==u(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function y(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,c,"next",e)}function c(e){y(i,n,o,a,c,"throw",e)}a(void 0)}))}}var b=(0,n.hg)("particle/getParticleGame",function(){var e=g(m().mark((function e(t,r){var n,o,i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState().particle,!((o=r.getState().phrases.value).length>0)){e.next=9;break}return i=0===n.particleGame.phrases.length,a=void 0,i&&(a=j(o)),e.abrupt("return",{game:a});case 9:return e.abrupt("return",r.dispatch((0,s.cC)()).then((function(e){var t=e.payload,r=(0,s.Y1)(t);return{phrase:r,game:j(r)}})));case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),w=(0,n.hg)("particleGame/particleFromLocalStorage",function(){var e=g(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function j(e){var t=[],r={},n=e.reduce((function(e,n){var o;if(n.particles&&(null===(o=n.particles)||void 0===o?void 0:o.length)>0){var i=c.TZ.parse(n).getSpelling();n.particles.forEach((function(o){if(2===i.split(o).length){var c=(0,a.C5)(o),l=i.indexOf(o),s={japanese:o,romaji:c,html:o},u={japanese:o,romaji:c,start:l,end:l+o.length,html:o};t=[].concat(d(t),[s]),e=[].concat(d(e),[{answer:u,question:n,english:n.english,literal:n.lit}])}else r=p(p({},r),{},h({},n.english,{japanese:i,particle:o,times:i.split(o).length}))}))}return e}),[]);return console.error("More than one match "+Object.keys(r).length),console.table(r),{phrases:n,particles:t}}var E={particleGame:{phrases:[],particles:[]},setting:{aRomaji:!1}},S=(0,n.oM)({name:"particleGame",initialState:E,reducers:{setParticlesARomaji:function(e){e.setting.aRomaji=(0,l.JW)(new Date,{particle:e.setting},"/particle/","aRomaji")}},extraReducers:function(e){e.addCase(b.fulfilled,(function(e,t){var r=t.payload.game;r&&(e.particleGame=r)})),e.addCase(w.fulfilled,(function(e,t){var r=t.payload,n=i()(E.setting,r);return p(p({},e),{},{setting:p({},n)})}))}}),O=S.actions.setParticlesARomaji;const k=S.reducer},5956:(e,t,r)=>{r.d(t,{Lp:()=>A,OJ:()=>k,Y1:()=>y,ZP:()=>R,cC:()=>g,cz:()=>x,d1:()=>O,f6:()=>P,fN:()=>b,gP:()=>N,mW:()=>L,s5:()=>w,vy:()=>T});var n=r(9829),o=r(4613),i=r.n(o),a=r(7508),c=r(3036),l=r(4612),s=r(2022);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var l=p(e[n],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==u(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function p(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,c,"next",e)}function c(e){p(i,n,o,a,c,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){return Object.keys(e).map((function(t){return v(v({},e[t]),{},{uid:t})}))},g=(0,n.hg)("phrase/getPhrase",function(){var e=h(f().mark((function e(t,r){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.phrases||"0")&&console.error("fetching phrase: 0"),e.abrupt("return",fetch(a.qe.databaseURL+"/lambda/phrases.json",{headers:{"Data-Version":o}}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("phrase/phraseFromLocalStorage",function(){var e=h(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=(0,n.hg)("phrase/updateSpaceRepPhrase",function(){var e=h(f().mark((function e(t,r){var n,o,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,o=t.shouldIncrement,i=r.getState().phrases,a=i.setting.repetition,e.abrupt("return",(0,s.pg)(n,a,{count:o,date:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),j={value:[],grpObj:{},setting:{ordered:0,practiceSide:!1,romaji:!1,reinforce:!1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],filter:0}},E=(0,n.oM)({name:"phrase",initialState:j,reducers:{togglePhrasesFilter:function(e,t){var r=t.payload,n=[s.Lx.FREQUENCY,s.Lx.GROUP],o=e.setting,i=o.filter,a=o.reinforce,c=(0,s.P_)(i+1,n,r);e.setting.filter=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","filter",c),c!==s.Lx.GROUP&&a&&(e.setting.reinforce=!1)},togglePhraseActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,s.c0)(o,n);e.setting.activeGroup=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","activeGroup",i)},togglePhrasesReinforcement:function(e){e.setting.reinforce=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","reinforce")},addFrequencyPhrase:function(e,t){var r=t.payload,n=(0,s.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",n);var o={uid:r,count:e.setting.frequency.count+1};e.setting.frequency=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",o)},removeFrequencyPhrase:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,s.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",i);var a={uid:n,count:e.setting.frequency.count-1};e.setting.frequency=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",a)}},flipPhrasesPracticeSide:function(e){e.setting.practiceSide=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","practiceSide")},togglePhrasesRomaji:function(e){e.setting.romaji=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","romaji")},togglePhrasesOrdering:function(e){var t=[s.vl.RANDOM,s.vl.VIEW_DATE],r=e.setting.ordered,n=(0,s.P_)(r+1,t);e.setting.ordered=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","ordered",n)}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){e.grpObj=(0,c.by)(t.payload),e.value=y(t.payload)})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload,n=i()(j.setting,r),o=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:o.length},v(v({},e),{},{setting:v({},n)})})),e.addCase(w.fulfilled,(function(e,t){var r=t.payload.value;e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",r)}))}}),S=E.actions,O=S.flipPhrasesPracticeSide,k=S.togglePhrasesRomaji,P=S.togglePhrasesFilter,x=S.togglePhraseActiveGrp,T=S.togglePhrasesReinforcement,A=S.addFrequencyPhrase,N=S.removeFrequencyPhrase,L=S.togglePhrasesOrdering;const R=E.reducer},1634:(e,t,r)=>{r.d(t,{L6:()=>l,ZP:()=>f,kC:()=>s});var n=r(9829);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function d(){}function v(){}function m(){}var y={};u(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,c)&&(y=b);var w=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(n,a,c,l){var s=p(e[n],e,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,c,l)}),(function(e){i("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,l)}))}l(s.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),u(E.prototype,l,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,s,"Generator"),u(w,c,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function a(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,l,"next",e)}function l(e){a(i,n,o,c,l,"throw",e)}c(void 0)}))}}var l="service_worker_logger_msg",s=(0,n.hg)("serviceWorker/serviceWorkerRegistered",c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=4;break}return e.abrupt("return",navigator.serviceWorker.register("sw.js").then((function(e){var t;return null===(t=e.active)||void 0===t?void 0:t.state})));case 4:return e.abrupt("return",Promise.reject("No Service Worker"));case 5:case"end":return e.stop()}}),e)})))),u=(0,n.oM)({name:"serviceWorker",initialState:{registered:!1},reducers:{serviceWorkerNewTermsAdded:function(e,t){var r=t.payload.newestWords;for(var n in r){var o=r[n],i=o.freq;o.dic,console.warn("serviceWorkerNewTermsAdded Disabled"),console.warn(i.length+" new "+n)}}},extraReducers:function(e){e.addCase(s.fulfilled,(function(e){e.registered=!0}))}});u.actions.serviceWorkerNewTermsAdded;const f=u.reducer},2022:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Lx:()=>u,P_:()=>h,c0:()=>d,iU:()=>p,pg:()=>v,vl:()=>f,x6:()=>s});var s=Object.freeze({OFF:0,ERROR:1,WARN:2,DEBUG:3}),u=Object.freeze({GROUP:0,FREQUENCY:1,TAGS:2}),f=Object.freeze({RANDOM:0,ALPHABETIC:1,VIEW_DATE:2,GAME:3,DIFFICULTY:4}),p=["Randomized","Alphabetic","Staleness","Space Rep","Difficulty"];function h(e,t,r){var n=Math.max.apply(Math,c(t)),o=e;if(void 0!==r&&t.includes(r))o=r;else for(;!t.includes(o)||o>n;)o=e+1>n?0:e+1;return o}function d(e,t){var r=[],n=c(new Set(e)),o=c(new Set(t));return n.forEach((function(e){var t=-1===e.indexOf(".");r=t?o.some((function(t){return-1!==t.indexOf(e+".")}))?[].concat(c(o.filter((function(t){return-1===t.indexOf(e+".")}))),[e]):o.includes(e)?c(o.filter((function(t){return t!==e}))):[].concat(c(o),[e]):o.includes(e)?o.filter((function(t){return t!==e})):[].concat(c(o),[e])})),r}function v(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{count:!0,date:!0},c=arguments.length>3?arguments[3]:void 0,l=void 0===t[e]?void 0:a({},e,t[e]);n=t[e]&&t[e].vC>0&&!0===o.count?t[e].vC+1:t[e]&&t[e].vC>0&&!1===o.count?t[e].vC:1;var s={};if(void 0!==c){if(c.toggle){var u=c.toggle.reduce((function(r,n){var o;return o=["f"].includes(n)?!(t[e]&&!1===t[e][n]):t[e]&&t[e][n],i(i({},r),{},a({},n,!o))}),{});s=i(i({},s),u)}if(void 0!==c.set){var f=Object.keys(c.set).reduce((function(e,t){return void 0!==c.set&&void 0!==c.set[t]&&(e=null===c.set[t]?i(i({},e),{},a({},t,void 0)):i(i({},e),{},a({},t,c.set[t]))),e}),{});s=i(i({},s),f)}}var p=void 0!==(null===(r=t[e])||void 0===r?void 0:r.d)&&!1===o.date,h=p?t[e].d:(new Date).toJSON(),d=i(i({},t[e]||{}),{},{vC:n,d:h},s),v=a({},e,d);l=void 0===l?i({},v):l;var m=i(i({},t),v);return{map:v,prevMap:l,value:m}}},7679:(e,t,r)=>{r.d(t,{$u:()=>_,E3:()=>j,Gy:()=>V,Hi:()=>x,Rz:()=>g,S5:()=>F,Sz:()=>q,Tn:()=>R,VX:()=>M,Vb:()=>D,Wo:()=>b,ZP:()=>W,ZZ:()=>L,_n:()=>k,az:()=>w,d1:()=>U,eK:()=>N,gl:()=>C,kn:()=>G,oG:()=>I,rZ:()=>O,sG:()=>A,wf:()=>T,xz:()=>P});var n=r(9829),o=r(4613),i=r.n(o),a=r(7508),c=r(3036),l=r(2022),s=r(4612),u=r(3058);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new x(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function h(){}function d(){}function m(){}var y={};l(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==f(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),l(w,c,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function m(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){m(i,n,o,a,c,"next",e)}function c(e){m(i,n,o,a,c,"throw",e)}a(void 0)}))}}var g=(0,n.hg)("vocabulary/getVocabulary",function(){var e=y(v().mark((function e(t,r){var n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.vocabulary||"0")&&console.error("fetching vocabulary: 0"),e.abrupt("return",fetch(a.qe.databaseURL+"/lambda/vocabulary.json",{headers:{"Data-Version":o}}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("vocabulary/updateSpaceRepWord",function(){var e=y(v().mark((function e(t,r){var n,o,i,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,o=t.shouldIncrement,i=r.getState().vocabulary,a=i.setting.repetition,e.abrupt("return",(0,l.pg)(n,a,{count:o,date:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),w=(0,n.hg)("vocabulary/vocabularyFromLocalStorage",function(){var e=y(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j={value:[],grpObj:{},verbForm:"dictionary",setting:{ordered:0,practiceSide:!1,romaji:!1,bareKanji:!1,hintEnabled:!1,filter:0,difficultyT:50,reinforce:!1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],autoVerbView:!1,verbColSplit:0,verbFormsOrder:(0,u.kf)().map((function(e){return e.name}))}},E=(0,n.oM)({name:"vocabulary",initialState:j,reducers:{verbFormChanged:function(e,t){return h(h({},e),{},{verbForm:t.payload})},toggleVocabularyActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,l.c0)(o,n);e.setting.activeGroup=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","activeGroup",i)},furiganaToggled:function(e,t){var r=t.payload,n=(0,l.pg)(r,e.setting.repetition,{count:!1,date:!1},{toggle:["f"]}).value;e.setting.repetition=n},toggleVocabularyReinforcement:function(e){e.setting.reinforce=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","reinforce")},toggleVocabularyOrdering:function(e,t){var r=e.setting.ordered,n=t.payload,o=[l.vl.ALPHABETIC,l.vl.DIFFICULTY,l.vl.GAME,l.vl.RANDOM,l.vl.VIEW_DATE],i=(0,l.P_)(r+1,o,n);e.setting.ordered=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","ordered",i)},flipVocabularyPracticeSide:function(e){e.setting.practiceSide=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","practiceSide")},toggleVocabularyRomaji:function(e){e.setting.romaji=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","romaji")},toggleVocabularyBareKanji:function(e){e.setting.bareKanji=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","bareKanji")},toggleVocabularyHint:function(e){e.setting.hintEnabled=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","hintEnabled")},toggleVocabularyFilter:function(e,t){var r=[l.Lx.FREQUENCY,l.Lx.GROUP],n=t.payload,o=e.setting,i=o.filter,a=o.reinforce,c=(0,l.P_)(i+1,r,n);e.setting.filter=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","filter",c),0!==c&&a&&(e.setting.reinforce=!1)},setVerbFormsOrder:function(e,t){var r=t.payload;e.setting.verbFormsOrder=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbFormsOrder",r)},toggleAutoVerbView:function(e){e.setting.autoVerbView=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","autoVerbView")},updateVerbColSplit:function(e,t){var r=t.payload;e.setting.verbColSplit=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbColSplit",r)},addFrequencyWord:function(e,t){var r=t.payload,n=(0,l.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repetition=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",n);var o={uid:r,count:e.setting.frequency.count+1};e.setting.frequency=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","frequency",o)},removeFrequencyWord:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,l.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repetition=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",i);var a={uid:n,count:e.setting.frequency.count-1};e.setting.frequency=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","frequency",a)}},setDifficultyThreshold:function(e,t){var r=t.payload;e.setting.difficultyT=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","difficultyT",r)},setWordDifficulty:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.value,i=(0,l.pg)(n,e.setting.repetition,{count:!1,date:!1},{set:{difficulty:o}}).value;e.setting.repetition=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",i)},prepare:function(e,t){return{payload:{uid:e,value:t}}}},setWordTPCorrect:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.tpElapsed,i=r.pronunciation,a=e.setting.repetition,c=1,l=1,u=o;if(a[n]){var f=a[n].tpPc,p=a[n].tpAcc,v=a[n].tpCAvg||0;if(void 0!==f&&null!=p){var m=f*p;l=(m+1)/(c=f+1),u=(v*m+o)/(m+1)}}var y=h(h({},a[n]||{}),{},{pron:null===i||void 0===a[n]?void 0:a[n].pron,tpPc:c,tpAcc:l,tpCAvg:u}),g=h(h({},a),{},d({},n,y));e.setting.repetition=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",g)},prepare:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.pronunciation;return{payload:{uid:e,tpElapsed:t,pronunciation:n}}}},setWordTPIncorrect:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.pronunciation,i=e.setting.repetition,a=1,c=0;if(i[n]){var l=i[n].tpPc,u=i[n].tpAcc;void 0!==l&&null!=u&&(c=(l*u+0)/(a=l+1))}var f=h(h({},i[n]||{}),{},{tpPc:a,tpAcc:c,pron:!0===o||void 0}),p=h(h({},i),{},d({},n,f));e.setting.repetition=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",p)},prepare:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.pronunciation;return{payload:{uid:e,pronunciation:r}}}}},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var r=t.payload,n=i()(j.setting,r),o=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:o.length},h(h({},e),{},{setting:h({},n)})})),e.addCase(g.fulfilled,(function(e,t){e.grpObj=(0,c.by)(t.payload),e.value=(0,c.MS)(t.payload)})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload.value;e.setting.repetition=(0,s.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",r)}))}}),S=E.actions,O=S.verbFormChanged,k=S.furiganaToggled,P=S.removeFrequencyWord,x=S.setVerbFormsOrder,T=S.toggleVocabularyOrdering,A=S.toggleVocabularyActiveGrp,N=S.toggleAutoVerbView,L=S.toggleVocabularyFilter,R=S.toggleVocabularyHint,C=S.toggleVocabularyReinforcement,M=S.toggleVocabularyRomaji,I=S.updateVerbColSplit,D=S.toggleVocabularyBareKanji,_=S.flipVocabularyPracticeSide,F=S.addFrequencyWord,G=S.setWordDifficulty,q=S.setDifficultyThreshold,V=S.setWordTPCorrect,U=S.setWordTPIncorrect;const W=E.reducer},6954:e=>{e.exports=JSON.parse('{"Be":["a","i","u","e","o"],"sH":["","k","g","s","z","t","d","n","h","b","p","m","y","r","w","N"],"Bw":[["あ","い","う","え","お"],["か","き","く","け","こ"],["が","ぎ","ぐ","げ","ご"],["さ","し","す","せ","そ"],["ざ","じ","ず","ぜ","ぞ"],["た","ち","つ","て","と"],["だ","ぢ","づ","で","ど"],["な","に","ぬ","ね","の"],["は","ひ","ふ","へ","ほ"],["ば","び","ぶ","べ","ぼ"],["ぱ","ぴ","ぷ","ぺ","ぽ"],["ま","み","む","め","も"],["や"," ","ゆ"," ","よ"],["ら","り","る","れ","ろ"],["わ","ゐ"," ","ゑ","を"],["ん"," "," "," "," "]],"TU":[["ア","イ","ウ","エ","オ"],["カ","キ","ク","ケ","コ"],["ガ","ギ","グ","ゲ","ゴ"],["サ","シ","ス","セ","ソ"],["ザ","ジ","ズ","ゼ","ゾ"],["タ","チ","ツ","テ","ト"],["ダ","ヂ","ヅ","デ","ド"],["ナ","ニ","ヌ","ネ","ノ"],["ハ","ヒ","フ","ヘ","ホ"],["バ","ビ","ブ","ベ","ボ"],["パ","ピ","プ","ペ","ポ"],["マ","ミ","ム","メ","モ"],["ヤ"," ","ユ"," ","ヨ"],["ラ","リ","ル","レ","ロ"],["ワ","ヰ"," ","ヱ","ヲ"],["ン"," "," "," "," "]],"jX":{"si":"shi","ti":"chi","tu":"tsu","hu":"fu","zi":"ji","di":"dji","du":"dzu","Na":"n"}}')}},e=>{e.O(0,[913,816,794,931,612,697,555,774,25,104,105,418,642,995,86,220,183,388,593,623,617,216,810,260,303,979,655],(()=>(8067,e(e.s=8067)))),e.O()}]);