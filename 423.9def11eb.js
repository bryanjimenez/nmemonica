"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[423],{1423:(e,s,n)=>{n.r(s),n.d(s,{default:()=>u});var r=n(5893),a=n(7294),i=n(6537),c=n(2850),l=n(158),t=n(4933),d=n(743),o=n(7891),h=n(7652);function u(){const e=(0,d.I0)(),{vocabList:s}=(0,t.Z)(),{phraseList:n}=(0,l.Q)();(0,a.useEffect)((()=>{0===s.length&&e((0,o.Rz)()),0===n.length&&e((0,h.cC)())}),[]);const u=(0,a.useMemo)((()=>{return(e=[...n,...s]).reduce(((s,n,a)=>{const i=c.TZ.parse(n);if(i.hasFurigana())try{(0,c.Wp)(i.getPronunciation(),i.getSpellingRAW())}catch(c){if(c instanceof Error&&"cause"in c){const l=c.cause;if("ParseError"===l.code||"InputError"===l.code){const t=(0,r.jsx)("hr",{},`parse-err-sep-${n.uid}`),d=(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("span",{className:"col p-0",children:i.toHTML({showError:!1})}),(0,r.jsx)("span",{className:"col p-0",children:n.english}),(0,r.jsxs)("span",{className:"col p-0 app-sm-fs-xx-small",children:[(0,r.jsx)("div",{children:c.message}),(0,r.jsx)("div",{children:l.info?JSON.stringify(l.info):""})]})]},`parse-err-${n.uid}`);return s.length>0&&a<e.length-1?[...s,t,d]:[...s,d]}}}return s}),[]);var e}),[s,n]);return(0,r.jsx)(r.Fragment,{children:u.length>0&&(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("h5",{children:"Failed Furigana Parse"}),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(i.n,{addlStyle:"failed-furigana-view"}),children:(0,r.jsx)("div",{className:"failed-furigana-view container mt-2 p-0",children:u})})]})})}}}]);