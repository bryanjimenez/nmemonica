"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[179],{7186:(e,n,t)=>{t.d(n,{qe:()=>i,vT:()=>a});const r="nmemonica-9d977",i={apiKey:"AIzaSyD0R3dzI2GREIuA0irO3dMT0n4CP59-GjQ",authDomain:r+".firebaseapp.com",databaseURL:"https://"+r+".firebaseio.com",projectId:r,storageBucket:r+".appspot.com",messagingSenderId:"839840260761",appId:"1:839840260761:web:6d72438c4131e3ce368e08"},a="https://us-east1-"+r+".cloudfunctions.net/g_translate_pronounce"},3968:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(5893),i=(t(7294),t(5697)),a=t.n(i),o=t(5529),s=t(7186),c=t(7962),l=t(5965);function u(e){var n,t=e.word;return(0,r.jsx)("div",{className:"clickable",onTouchStart:e.visible?function(){n=Date.now(),e.onPushedPlay&&"function"==typeof e.onPushedPlay&&e.onPushedPlay()}:void 0,onTouchEnd:e.visible?function(){var r=~~(Date.now()-n)<500&&!e.reCache?"":"/override_cache",i=(0,c.b1)(s.vT+r,t);(0,l.R$)(i)}:void 0,children:e.visible&&(0,r.jsx)(o.Ibz,{size:"medium","aria-label":"pronunciation"})})}u.defaultProps={visible:!1},u.propTypes={word:a().shape({tl:a().string.isRequired,q:a().string.isRequired,uid:a().string.isRequired}).isRequired,reCache:a().bool,onPushedPlay:a().func,visible:a().bool}},8737:(e,n,t)=>{t.d(n,{M:()=>l});var r=t(5893),i=t(4184),a=t.n(i),o=t(5697),s=t.n(o),c=t(5529);function l(e){var n,t=a()(((n={})[""+e.addlStyle]=!!e.addlStyle,n["p-0 px-2"]=!0,n["font-weight-bold"]=e.active,n));return(0,r.jsxs)("div",{className:t,onClick:e.onClick,children:[(0,r.jsx)("span",{className:"p-1",children:e.active?(0,r.jsx)(c.oOx,{className:"clickable incorrect-color",size:"small","aria-label":"remove"}):(0,r.jsx)(c.wl8,{className:"clickable",size:"small","aria-label":"add"})}),(0,r.jsx)("span",{className:"p-1",children:e.children})]})}t(7294),l.propTypes={addlStyle:s().string,active:s().bool,onClick:s().func,children:s().string}},6537:(e,n,t)=>{t.d(n,{n:()=>c});var r=t(5893),i=(t(7294),t(4184)),a=t.n(i),o=t(5697),s=t.n(o);function c(e){var n,t,i=a()(((n={})[e.addlStyle]=!0,n["d-flex flex-column justify-content-around text-center h-100"]=!0,n));return(0,r.jsx)("div",{className:i,children:(0,r.jsx)("div",{children:null!==(t=e.text)&&void 0!==t?t:"Awaiting data ..."})})}c.propTypes={addlStyle:s().string}},2405:(e,n,t)=>{t.d(n,{A:()=>v,D4:()=>y,Qp:()=>x,R_:()=>p,Ro:()=>b,lh:()=>w,ph:()=>m,uY:()=>j,y8:()=>g});var r=t(5893),i=t(7294),a=t(4184),o=t.n(a),s=t(5697),c=t.n(s),l=t(5529),u=t(7625),d=t(1436),f=t(8670);function v(e){var n=e.active,t=e.toggle,i=e.toggleFurigana,a=e.vocabulary;return!1===e.visible?null:(0,r.jsx)("div",{className:o()({clickable:n,"sm-icon-grp":!0,"sm-kanji":n}),onClick:n?function(){return i(a.uid)}:void 0,"aria-label":"Toggle furigana",children:n?(0,r.jsxs)("ruby",{children:["漢",(0,r.jsx)("rt",{className:o()({"disabled disabled-color":!t}),children:"ふりがな"})]}):(0,r.jsx)("span",{className:"disabled disabled-color",children:"あ"})})}function h(e){var n=(0,i.useRef)(0),t=e.addFrequencyTerm,a=e.removeFrequencyTerm,s=e.toggle,c=e.term,u=e.count,d=void 0===u?n.current:u,v=(0,f.oU)(),h=n.current===d;return(0,i.useEffect)((function(){n.current=void 0!==d?d:0,!1===h&&v()}),[d,h,v]),!1===e.visible?null:(0,r.jsxs)("div",{"aria-label":s?"Remove term":"Add term",className:"sm-icon-grp clickable",onClick:function(){s?a(c.uid):t(c.uid)},children:[s?(0,r.jsx)(l.oOx,{size:"small"}):(0,r.jsx)(l.wl8,{size:"small"}),void 0!==d&&d>-1&&(0,r.jsx)("span",{className:o()({notification:!0,"notification-fade":h}),children:d})]})}v.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,toggleFurigana:c().func,hasFurigana:c().bool,vocabulary:c().object},h.propTypes={visible:c().bool,active:c().bool,addFrequencyTerm:c().func,removeFrequencyTerm:c().func,toggle:c().bool,term:c().object,count:c().number};var p=(0,i.memo)(h);function g(e){var n=e.active,t=e.setShowHint;return e.visible?(0,r.jsx)("div",{className:o()({"sm-icon-grp":!0,clickable:n,"disabled disabled-color":!n}),onClick:n?function(){t(!0),setTimeout((function(){t(!1)}),1500)}:void 0,"aria-label":n?"Show hint":"Hint unavailable",children:(0,r.jsx)(l.OgN,{size:"small"})}):null}function m(e){var n=e.toggleAutoVerbView,t=e.autoVerbView;return e.visible?(0,r.jsx)("div",{className:"sm-icon-grp clickable",onClick:function(){return n()},"aria-label":"Toggle auto verb view",children:(0,r.jsx)(u.G,{icon:t?d.gPx:d.Bxq})}):null}function b(e){var n=e.active,t=e.action;return!1===e.visible?null:(0,r.jsx)("div",{className:o()({clickable:!0,"sm-icon-grp":!0,"disabled-color":n}),onClick:function(){"function"==typeof t&&t()},"aria-label":"Override audio",children:(0,r.jsx)(u.G,{icon:d.TZC})})}function j(e){var n=e.action,t=e.toggle;return!1===e.visible?null:(0,r.jsxs)("div",{"aria-label":"Toggle practice side",children:[(0,r.jsx)(u.G,{className:"clickable",onClick:n,icon:t?d.dzc:d.UJf}),(0,r.jsx)("span",{className:"notification",children:(0,r.jsx)(u.G,{icon:t?d.UJf:d.dzc})})]})}function y(e){var n=e.action,t=e.toggle;return e.visible?(0,r.jsx)("div",{className:o()({clickable:!0,"sm-icon-grp":!0,"info-color":t}),onClick:function(){"function"==typeof n&&n()},"aria-label":"Literal english translation",children:(0,r.jsx)(l.Rg1,{size:"small"})}):null}function x(e){return e.visible?(0,r.jsx)("div",{children:(0,r.jsx)(u.G,{icon:d.RJo})}):null}function w(e){return e.visible?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("div",{className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onIncorrect&&e.onIncorrect()},children:(0,r.jsx)("span",{className:o()({"border-bottom":"incorrect"===e.hover}),children:"-1"})},0),(0,r.jsx)("div",{className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onPronunciation&&e.onPronunciation()},children:(0,r.jsx)("span",{className:o()({"border-bottom":"pronunciation"===e.hover||"reset"!==e.hover&&!0===e.prevMissPronu}),children:"P"})},1),(0,r.jsx)("div",{className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onReset&&e.onReset()},children:(0,r.jsx)("span",{className:o()({"border-bottom":"reset"===e.hover}),children:"0"})},2)]}):null}g.propTypes={visible:c().bool,active:c().bool,setShowHint:c().func},m.propTypes={visible:c().bool,active:c().bool,toggleAutoVerbView:c().func,autoVerbView:c().bool},b.propTypes={visible:c().bool,active:c().bool,action:c().func},j.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},y.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},x.propTypes={visible:c().bool},w.propTypes={visible:c().bool,hover:c().string,onClick:c().func,onIncorrect:c().func,onPronunciation:c().func,onReset:c().func,prevMissPronu:c().bool}},7567:(e,n,t)=>{t.d(n,{Z:()=>d});var r=t(5893),i=(t(7294),t(5697)),a=t.n(i),o=t(6259),s=t(4184),c=t.n(s),l=function(){return l=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},l.apply(this,arguments)};function u(e){var n={disabled:!!e.disabled||void 0};return(0,r.jsxs)("div",{className:"settings-switch-root",children:[(0,r.jsx)("p",{className:c()({"disabled-color":n.disabled}),children:e.statusText}),(0,r.jsx)(o.Z,l({},n,{checked:e.active,onChange:function(){return e.action()},color:e.color||"primary",inputProps:{"aria-label":e.statusText+" checkbox"}}))]})}u.propTypes={active:a().bool,action:a().func.isRequired,statusText:a().string.isRequired,color:a().string,disabled:a().bool};const d=u},9775:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(5893),i=t(7294),a=t(5697),o=t.n(a),s=t(4184),c=t.n(s),l=function(){return l=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},l.apply(this,arguments)};function u(e){var n,t,a,o;e.children&&(a=e.children,o=e.children),e.largeValue&&(a=e.largeValue),e.smallValue&&(o=e.smallValue);var s=void 0!==e.rootClassName&&c()(e.rootClassName)||void 0,u=void 0!==e.className&&e.className||{},d="d-none d-"+e.breakPoint+"-inline"+(void 0!==e.largeClassName?" "+c()(e.largeClassName):""),f="d-inline d-"+e.breakPoint+"-none"+(void 0!==e.smallClassName?" "+c()(e.smallClassName):""),v=function(){"function"==typeof e.onClick&&e.onClick()},h=[(0,r.jsx)("span",{"data-name":"large",className:c()(l(l((n={},n[d]=!0,n),u),{clickable:"function"==typeof e.onClick}))||void 0,onClick:v,children:a},0),(0,r.jsx)("span",{"data-name":"small",className:c()(l(l((t={},t[f]=!0,t),u),{clickable:"function"==typeof e.onClick}))||void 0,onClick:v,children:o},1)];return!0===e.fragment?(0,r.jsx)(i.Fragment,{children:h}):(0,r.jsx)("div",{className:s,children:h})}u.propTypes={fragment:o().bool,breakPoint:o().string,rootClassName:o().object,className:o().object,largeClassName:o().object,smallClassName:o().object,onClick:o().func,children:o().oneOfType([o().string,o().element]),largeValue:o().oneOfType([o().string,o().element]),smallValue:o().oneOfType([o().string,o().element])}},7127:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(5893),i=(t(7294),t(5697)),a=t.n(i),o=t(6914);function s(e){return(0,r.jsx)(o.Z,{size:"small",color:e.color,"aria-label":e.ariaLabel,sx:{color:e.color?void 0:"unset"},onClick:e.action,children:e.children})}s.propTypes={action:a().func.isRequired,color:a().string,ariaLabel:a().string.isRequired,children:a().object.isRequired};const c=s},2937:(e,n,t)=>{t.d(n,{Z:()=>h});var r=t(5893),i=t(7294),a=t(5697),o=t.n(a),s=t(4184),c=t.n(s),l=t(5529),u=t(7127),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},d.apply(this,arguments)},f=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function v(e){var n=(0,i.useReducer)((function(e,n){return d(d({},e),n)}),{showMeaning:!1,incorrect:[],correct:!1}),t=n[0],a=n[1],o=function(){a({showMeaning:!1,correct:!1,incorrect:[]})},s=e.question,v=e.choices,h=void 0!==s.english?"[English]":"";return void 0===e.hint?t.showMeaning&&s.english&&(h=s.english):h=t.showMeaning&&s.english?s.english:e.hint,(0,r.jsx)("div",{className:"pick4game main-panel h-100",children:(0,r.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,r.jsx)(u.Z,{ariaLabel:"Previous",action:function(){o(),e.gotoPrev()},children:(0,r.jsx)(l.wyc,{size:16})}),(0,r.jsxs)("div",{className:c()({"question d-flex flex-column justify-content-center text-center w-50":!0}),children:[(0,r.jsx)("h1",{children:s.toHTML(t.correct)}),(0,r.jsx)("span",{className:c()({invisible:!e.qRomaji}),children:s.romaji}),void 0!==h&&(0,r.jsx)("span",{className:"clickable",onClick:function(){a({showMeaning:!t.showMeaning})},children:h})]}),(0,r.jsx)("div",{className:"choices d-flex justify-content-around flex-wrap w-50",children:v.map((function(n,i){var s=e.isCorrect(v[i])&&t.correct,l=t.incorrect.includes(i),u=c()({"w-50 h-50 pt-3 d-flex flex-column justify-content-evenly text-center clickable":!0,"correct-color":s,"incorrect-color":l});return(0,r.jsx)("div",{className:u,onClick:function(){!function(n,r){e.isCorrect(n)?(a({correct:!0,showMeaning:!0}),setTimeout((function(){o(),e.gotoNext()}),1e3)):2===t.incorrect.length?(a({incorrect:f(f([],t.incorrect,!0),[r],!1),correct:!0,showMeaning:!0}),setTimeout((function(){o(),e.gotoNext()}),1e3)):a({incorrect:f(f([],t.incorrect,!0),[r],!1)})}(n,i)},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{children:n.toHTML()}),s&&(0,r.jsx)("div",{children:n.english}),(0,r.jsx)("span",{className:c()({invisible:!e.aRomaji}),children:n.romaji})]})},i)}))}),(0,r.jsx)(u.Z,{ariaLabel:"Next",action:function(){o(),e.gotoNext()},children:(0,r.jsx)(l.XCv,{size:16})})]})},0)}v.propTypes={question:o().object,hint:o().string,isCorrect:o().func.isRequired,choices:o().array,gotoNext:o().func.isRequired,gotoPrev:o().func.isRequired,qRomaji:o().bool,aRomaji:o().bool};const h=v},8012:(e,n,t)=>{t.r(n),t.d(n,{KanjiGameMeta:()=>x,default:()=>k,oneFromList:()=>w});var r=t(5893),i=t(9041),a=t(4184),o=t.n(a),s=t(7294),c=t(743),l=t(9655),u=t(6892),d=t(9983),f=t(6278),v=t(8673),h=t(6537),p=t(2405),g=t(2937),m=t(4766),b=t(4133),j=function(){return j=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},j.apply(this,arguments)},y=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},x={location:"/kanji-game/",label:"Kanji Game"};function w(e){var n=e,t=e.split(",");if(t.length>1){var r=t[Math.floor(Math.random()*t.length)].trim();n=r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}return n}function k(){var e,n=(0,c.I0)(),t=(0,f.R)(),a=t.kanjiList,x=t.activeTags,k=t.repetition,N=t.filterType,S=t.reinforce;(0,s.useEffect)((function(){0===a.length&&n((0,v.tk)())}),[]);var T=(0,s.useRef)(k);T.current=k;var C=(0,s.useState)([]),M=C[0],A=C[1],P=(0,s.useState)(0),R=P[0],O=P[1],E=(0,s.useState)(void 0),D=E[0],L=E[1],F=(0,s.useMemo)((function(){if(0===a.length)return[];if(0===Object.keys(T.current).length&&0===x.length)return a;var e=Object.keys(T.current).reduce((function(e,n){var t;return!0===(null===(t=T.current[n])||void 0===t?void 0:t.rein)&&(e=y(y([],e,!0),[n],!1)),e}),[]),n=(0,d.Dm)(N.current,a,e,N.current===b.Lx.TAGS?x:[],(function(){}));if(S.current&&N.current===b.Lx.TAGS){var t=n.map((function(e){return e.uid})),r=a.filter((function(n){return e.includes(n.uid)&&!t.includes(n.uid)}));n=y(y([],n,!0),r,!0)}var i=n.reduce((function(e,n){var t;return!0===(null===(t=T.current[n.uid])||void 0===t?void 0:t.rein)?y(y([],e,!0),[n.uid],!1):e}),[]);return A(i),n}),[a,x,S,N]),I=(0,s.useMemo)((function(){return(0,d.tq)(F)}),[F]),q=(0,s.useCallback)((function(){var e=F.length;O((R+1)%e),L(void 0)}),[F,R]),Z=(0,s.useCallback)((function(){(0,d.hY)(S.current,N.current,M,F,T.current,D,(function(e){L(e)}),q)}),[M,F,D,q,S,N]),G=(0,s.useCallback)((function(){var e=F.length;O(D?R:(e+(R-1))%e),L(void 0)}),[F,R,D]),W=(0,s.useCallback)((function(e){A((function(n){return y(y([],n,!0),[e],!1)})),n((0,v.Mh)(e))}),[n]),V=(0,s.useCallback)((function(e){A((function(n){return n.filter((function(n){return n!==e}))})),n((0,v.SI)(e))}),[n]);if(0===I.length)return(0,r.jsx)(h.n,{addlStyle:"main-panel"});var _=null!=D?D:(0,d.vr)(R,F,I),U=(0,d.cc)(_,a),K=U&&!0===(null===(e=k[U.uid])||void 0===e?void 0:e.rein),z=function(e,n){var t=e.uid,i=e.kanji,a=e.on,s=e.kun,c=function(e,n){for(var t=function(e){return e.split(",").map((function(e){return e.trim()}))},r=[j(j({},e),{english:w(e.english)})],i=t(e.english);r.length<4;){var a=n[Math.floor(Math.random()*n.length)],o=t(a.english);o.every((function(e){return i.every((function(n){return n!==e}))}))&&o.every((function(e){return r.every((function(n){return e!==n.english}))}))&&(r=y(y([],r,!0),[j(j({},a),{english:w(a.english)})],!1))}return(0,u.Sy)(r),r}(e,n);return{question:{toHTML:function(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:o()({"correct-color":e}),children:(0,r.jsx)("span",{children:i})}),(void 0!==a||void 0!==s)&&(0,r.jsxs)("div",{className:o()({"d-flex flex-column mt-3 h4":!0,invisible:!e,"correct-color":e}),children:[(0,r.jsx)("span",{children:a}),(0,r.jsx)("span",{children:s})]})]})}},answer:t,choices:c.map((function(e){return{compare:e.uid,toHTML:function(){return e.english}}}))}}(U,a),H=(R+1)/F.length*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{question:z.question,isCorrect:function(e){return e.compare===z.answer},choices:z.choices,gotoPrev:G,gotoNext:Z}),(0,r.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,r.jsxs)("div",{className:"row opts-max-h",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"d-flex justify-content-start",children:(0,r.jsx)(l.rU,{to:m.KanjiGridMeta.location,children:(0,r.jsx)(p.uY,{toggle:!0,action:function(){}})})})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)(p.Qp,{visible:K&&U.uid!==F[I[R]].uid})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(p.R_,{addFrequencyTerm:W,removeFrequencyTerm:V,toggle:K,term:U})})})]})}),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,r.jsx)(i.Z,{variant:"determinate",value:H,color:K?"secondary":"primary"})})]})}},4766:(e,n,t)=>{t.r(n),t.d(n,{KanjiGridMeta:()=>A,default:()=>R,useCreateChoices:()=>P});var r=t(5893),i=t(9041),a=t(4184),o=t.n(a),s=t(7294),c=t(743),l=t(9655),u=t(9983),d=t(8670),f=t(6278),v=t(8673),h=t(6537),p=t(2405),g=t(8012),m=t(5529),b=t(5697),j=t.n(b),y=t(7127),x=function(){return x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},x.apply(this,arguments)},w=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function k(e){var n=(0,s.useReducer)((function(e,n){return x(x({},e),n)}),{showMeaning:!1,incorrect:[],correct:-1}),t=n[0],i=n[1],a=(0,s.useCallback)((function(){i({showMeaning:!1,correct:-1,incorrect:[]})}),[i]),c=e.isCorrect,l=e.choices,u=e.gotoNext,d=e.gotoPrev,f=(0,s.useCallback)((function(){a(),d()}),[a,d]),v=(0,s.useCallback)((function(){a(),u()}),[a,u]),h=o()({"pickXgame main-panel h-100":!0});return(0,r.jsx)("div",{className:h,children:(0,r.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,r.jsx)(y.Z,{ariaLabel:"Previous",action:f,children:(0,r.jsx)(m.wyc,{size:16})}),(0,r.jsx)("div",{className:"choices d-flex justify-content-around flex-wrap w-100",children:l.map((function(e,n){return s=n,d=l.length,f=t.incorrect.includes(s),v=t.correct===s,h=o()({clickable:!0,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":v,"incorrect-color":f}),p=o()({"mb-0":!0}),g=Math.trunc(1/Math.ceil(Math.sqrt(d))*.75*100)+"%",(0,r.jsx)("div",{onClick:function(){return function(e,n){var r=c(e),o=r[0],s=r[1];o?(i({correct:n,showMeaning:!0}),setTimeout((function(){a(),u()}),1e3)):2===t.incorrect.length?(i({incorrect:w(w([],t.incorrect,!0),[n],!1),correct:s,showMeaning:!0}),setTimeout((function(){a(),u()}),2500)):i({incorrect:w(w([],t.incorrect,!0),[n],!1)})}(l[s],s)},className:h,style:{width:g},children:(0,r.jsx)("h2",{className:p,children:l[s].toHTML()})},s);var s,d,f,v,h,p,g}))}),(0,r.jsx)(y.Z,{ariaLabel:"Next",action:v,children:(0,r.jsx)(m.XCv,{size:16})})]})},0)}k.propTypes={question:j().object,isCorrect:j().func.isRequired,choices:j().array,gotoNext:j().func.isRequired,gotoPrev:j().func.isRequired};var N=t(4133),S=t(6892),T=t(2409),C=t(8301),M=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},A={location:"/kanji-grid/",label:"Kanji Grid Game"};function P(e,n,t,r){return(0,s.useMemo)((function(){if(!t)return[];for(var i=[t],a=function(){var e=Math.floor(Math.random()*r.length),t=r[e];i.every((function(e){return e[n]!==t[n]}))&&(i=M(M([],i,!0),[t],!1))};i.length<e;)a();return(0,S.Sy)(i),i}),[e,n,t,r])}function R(){var e,n=(0,c.I0)(),t=(0,f.R)(),a=t.kanjiList,m=t.activeTags,b=t.repetition,j=t.filterType,y=t.reinforce,x=t.choiceN;(0,s.useEffect)((function(){0===a.length&&n((0,v.tk)())}),[]);var w=(0,s.useRef)(b);w.current=b;var P=(0,s.useState)([]),R=P[0],O=P[1],E=(0,s.useState)(0),D=E[0],L=E[1],F=(0,s.useState)(void 0),I=F[0],q=F[1],Z=(0,s.useRef)(""),G=(0,s.useState)(!1),W=G[0],V=G[1],_=(0,s.useRef)([]),U=(0,s.useState)(null),K=U[0],z=U[1],H=(0,s.useMemo)((function(){if(0===a.length)return[];if(0===Object.keys(w.current).length&&0===m.length)return a;var e=Object.keys(w.current).reduce((function(e,n){var t;return!0===(null===(t=w.current[n])||void 0===t?void 0:t.rein)&&(e=M(M([],e,!0),[n],!1)),e}),[]),n=(0,u.Dm)(j.current,a,e,j.current===N.Lx.TAGS?m:[],(function(){}));if(y.current&&j.current===N.Lx.TAGS){var t=n.map((function(e){return e.uid})),r=a.filter((function(n){return e.includes(n.uid)&&!t.includes(n.uid)}));n=M(M([],n,!0),r,!0)}var i=n.reduce((function(e,n){var t;return!0===(null===(t=w.current[n.uid])||void 0===t?void 0:t.rein)?M(M([],e,!0),[n.uid],!1):e}),[]);return O(i),n}),[a,m,y,j]),J=(0,s.useMemo)((function(){return(0,u.tq)(H)}),[H]),B=(0,s.useCallback)((function(){var e=H.length;L((D+1)%e),q(void 0),z(null)}),[H,D]),Y=(0,s.useCallback)((function(){(0,u.hY)(y.current,j.current,R,H,w.current,I,(function(e){q(e)}),B)}),[R,H,I,B,y,j]),X=(0,s.useCallback)((function(){var e=H.length;L(I?D:(e+(D-1))%e),q(void 0),z(null)}),[H,D,I]),Q=(0,s.useRef)(-1),$=function(){var e=(0,s.useState)(""),n=e[0],t=e[1],i=(0,s.useState)({w:0,h:0}),a=i[0],c=i[1],l=(0,d.iP)(),u=(0,T.YF)({placement:"bottom",middleware:[(0,C.cv)({mainAxis:void 0===l.height?0:l.height/2-a.h,crossAxis:0}),(0,C.uY)()]}),f=u.x,v=u.y,h=u.strategy,p=u.refs,g=u.update;return(0,s.useEffect)((function(){var e,t,r=null===(e=p.floating.current)||void 0===e?void 0:e.clientWidth,i=null===(t=p.floating.current)||void 0===t?void 0:t.clientHeight;n.length>0&&r&&r>0&&i&&i>0&&(c({w:r,h:i}),g())}),[n,c,p.floating,g]),{blastEl:(0,r.jsx)("div",{ref:p.setFloating,style:{position:h,top:null!=v?v:0,left:null!=f?f:0,width:"max-content",fontWeight:"bold",fontSize:"xxx-large"},className:o()({"dark-mode-color":!0,"notification-fade":n.length>0}),children:n}),anchorElRef:p.setReference,text:n,setText:t}}(),ee=$.blastEl,ne=$.anchorElRef,te=$.text,re=$.setText,ie=(0,s.useCallback)((function(e){O((function(n){return M(M([],n,!0),[e],!1)})),n((0,v.Mh)(e))}),[n]),ae=(0,s.useCallback)((function(e){O((function(n){return n.filter((function(n){return n!==e}))})),n((0,v.SI)(e))}),[n]);if(0===J.length)return(0,r.jsx)(h.n,{addlStyle:"main-panel"});var oe,se=null!=I?I:(0,u.vr)(D,H,J),ce=(0,u.cc)(se,a);Z.current!==ce.uid?(Z.current=ce.uid,_.current=function(e,n,t,r){for(var i=[t],a=function(){var e=Math.floor(Math.random()*r.length),t=r[e];i.every((function(e){return e[n]!==t[n]}))&&(i=M(M([],i,!0),[t],!1))};i.length<e;)a();return(0,S.Sy)(i),i}(x,"english",ce,a),oe=(0,g.oneFromList)(ce.english)):oe=null!=K?K:(0,g.oneFromList)(ce.english);var le=function(e,n,t){return function(){if(null==e?void 0:e.english.includes(",")){for(var r=(0,g.oneFromList)(e.english);r===n;)r=(0,g.oneFromList)(e.english);t(r)}}}(ce,oe,z),ue=function(e,n,t,i){var a=i[0],s=i[1],c=e.english,l=e.kanji,u=e.on,d=e.kun,f=e.uid,v=a!==c;return{question:{toHTML:function(e){return t?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:o()({"correct-color":e}),children:(0,r.jsx)("span",{children:l})}),(void 0!==u||void 0!==d)&&(0,r.jsxs)("div",{className:o()({"d-flex flex-column mt-3 h4":!0,"transparent-color":!e,"correct-color":e}),children:[(0,r.jsx)("span",{children:u}),(0,r.jsx)("span",{children:d})]})]}):(0,r.jsx)("div",{onClick:v?s:void 0,children:a+(v?"...":"")})}},answer:f,choices:n.map((function(e){return{compare:e.uid,toHTML:function(n){return(null!=n?n:t)?e.english:e.kanji}}}))}}(ce,_.current,W,[oe,le]),de=function(e,n,t,r,i){return function(a){var o=a.compare===(null==n?void 0:n.answer),s=(null==n?void 0:n.choices.findIndex((function(e){return e.compare===(null==n?void 0:n.answer)})))||-1;return o||(i.current>-1&&t.length>0?(clearTimeout(i.current),r(""),setTimeout((function(){return r(a.toHTML(!e))}),100)):(r(a.toHTML(!e)),i.current=window.setTimeout((function(){return r("")}),2500))),[o,s]}}(W,ue,te,re,Q),fe=ce&&!0===(null===(e=b[ce.uid])||void 0===e?void 0:e.rein),ve=(D+1)/H.length*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"tooltip-anchor",ref:ne}),ee,(0,r.jsx)(k,{question:ue.question,isCorrect:de,choices:ue.choices,gotoPrev:X,gotoNext:Y}),(0,r.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,r.jsxs)("div",{className:"row opts-max-h",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"d-flex justify-content-start",children:(0,r.jsx)(l.rU,{to:W?A.location:g.KanjiGameMeta.location,children:(0,r.jsx)(p.uY,{toggle:W,action:(0,d.kP)(V,(function(e){return!e}))})})})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)(p.Qp,{visible:fe&&ce.uid!==H[J[D]].uid})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,r.jsx)("span",{children:ue.question.toHTML(!1)}),(0,r.jsx)(p.R_,{addFrequencyTerm:ie,removeFrequencyTerm:ae,toggle:fe,term:ce})]})})]})}),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,r.jsx)(i.Z,{variant:"determinate",value:ve,color:fe?"secondary":"primary"})})]})}},1540:(e,n,t)=>{t.r(n),t.d(n,{OppositesGameMeta:()=>m,default:()=>b});var r=t(5893),i=t(9041),a=t(4184),o=t.n(a),s=t(7294),c=t(743),l=t(2850),u=t(6892),d=t(9983),f=t(9385),v=t(6537),h=t(2937),p=function(){return p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},p.apply(this,arguments)},g=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},m={location:"/opposites/",label:"Opposites Game"};function b(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.opposite}),(function(e,n){return e.version===n.version})).value,t=(0,c.v9)((function(e){var n=e.opposite;return[n.qRomaji,n.aRomaji]}),c.wU),a=t[0],m=t[1];(0,s.useEffect)((function(){0===n.length&&e((0,f.bt)())}),[]);var b=(0,s.useMemo)((function(){return 0===n.length?[]:(0,d.tq)(n)}),[n]),j=(0,s.useState)(0),y=j[0],x=j[1];if(0===b.length)return(0,r.jsx)(v.n,{addlStyle:"main-panel"});var w=function(e,n,t){for(var i=e[n[t]],a=i[0],s=i[1],c=l.TZ.parse(a),d=l.TZ.parse(s),f=p(p({},a),{toHTML:function(e){return(0,r.jsx)("span",{className:o()({"correct-color":e}),children:c.toHTML()})}}),v=p(p({},s),{compare:s.japanese,toHTML:function(){return d.toHTML()}}),h=[v],m=[v.romaji,f.romaji],b=function(){var n=Math.floor(Math.random()*e.length),t=e[n],r=t[0],i=t[1];if(!m.includes(r.romaji)&&!m.includes(i.romaji))if(0===Math.floor(2*Math.random())){var a=l.TZ.parse(r);h=g(g([],h,!0),[p(p({},r),{compare:r.japanese,toHTML:function(){return a.toHTML()}})],!1),m=g(g([],m,!0),[r.romaji],!1)}else{var o=l.TZ.parse(i);h=g(g([],h,!0),[p(p({},i),{compare:i.japanese,toHTML:function(){return o.toHTML()}})],!1),m=g(g([],m,!0),[i.romaji],!1)}};h.length<4;)b();return(0,u.Sy)(h),{question:f,answer:v,choices:h}}(n,b,y),k=(y+1)/n.length*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{question:w.question,isCorrect:function(e){return e.compare===w.answer.compare},choices:w.choices,qRomaji:a,aRomaji:m,gotoPrev:function(){var e=n.length,t=y-1;x(t<0?(e+t)%e:t%e)},gotoNext:function(){var e=n.length;x((y+1)%e)}},0),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,r.jsx)(i.Z,{variant:"determinate",value:k})},1)]})}},4921:(e,n,t)=>{t.r(n),t.d(n,{ParticlesGameMeta:()=>g,default:()=>m});var r=t(5893),i=t(7294),a=t(743),o=t(9041),s=t(6892),c=t(3996),l=t(9983),u=t(6537),d=t(2937),f=t(7988),v=t(2850),h=function(){return h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},h.apply(this,arguments)},p=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},g={location:"/particles/",label:"Particles Game"};function m(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.particle.particleGame})),t=n.phrases,g=n.particles;(0,i.useEffect)((function(){0===t.length&&e((0,f.aq)())}),[]);var m=(0,i.useRef)([]),b=(0,i.useState)(0),j=b[0],y=b[1],x=(0,a.v9)((function(e){return e.particle.setting.aRomaji})),w=function(e,n,t){if(0!==n.length&&0!==t.length){0===m.current.length&&(m.current=(0,l.tq)(n));var r=n[m.current[e]],i=r.answer,a=r.question,o=r.english,u=r.literal,d=h(h({},i),{toHTML:function(){return i.html}});t=t.map((function(e){return h(h({},e),{toHTML:function(){return e.html}})}));var f=function(e,n){for(var t=[e],r=function(){var e=Math.floor(Math.random()*n.length),r=n[e];t.every((function(e){return e.japanese!==r.japanese}))&&(t=p(p([],t,!0),[r],!1))};t.length<4;)r();return(0,s.Sy)(t),t}(d,t);return{question:{english:o,toHTML:function(e){return function(e,n,t){var r=n.start,i=n.end,a=t?"correct-color":"transparent-font underline";return(0,c.tn)(null==e?void 0:e.parseObj,{hidden:a},r,i)}(v.TZ.parse(a),d,e)}},answer:d,choices:f,literal:u}}}(j,t,g);if(void 0===w)return(0,r.jsx)(u.n,{addlStyle:"main-panel"});var k=(j+1)/t.length*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{question:w.question,isCorrect:function(e){return e.japanese===w.answer.japanese},hint:w.literal,choices:w.choices,aRomaji:x,gotoPrev:function(){var e=t.length,n=j-1;y(n<0?(e+n)%e:n%e)},gotoNext:function(){var e=t.length;y((j+1)%e)}},0),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,r.jsx)(o.Z,{variant:"determinate",value:k})},1)]})}},8859:(e,n,t)=>{t.r(n),t.d(n,{KanaGameMeta:()=>b,buildChoiceButton:()=>w,default:()=>j,usePrepareGame:()=>x});var r=t(5893),i=t(5529),a=t(4184),o=t.n(a),s=t(7294),c=t(9815),l=t(8670),u=t(6537),d=t(2405),f=t(7127),v=t(743),h=t(6892),p=t(4133),g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},g.apply(this,arguments)},m=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},b={location:"/kana/",label:["平仮名 Game","片仮名 Game","仮名 Game"]};function j(){var e=function(){var e=(0,v.v9)((function(e){return e.global.debug})),n=(0,v.v9)((function(e){var n=e.kana;return[n.hiragana,n.katakana,n.vowels,n.consonants,n.sounds]}),(function(){return!0})),t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=(0,v.v9)((function(e){var n=e.kana.setting;return[n.wideMode,n.easyMode,n.charSet,n.choiceN]}),v.wU),c=s[0],l=s[1],u=s[2],d=s[3];return{debug:e,hiragana:t,katakana:r,vowels:i,consonants:a,sounds:o,choiceN:c?31:d,wideMode:c,easyMode:l,charSet:u}}(),n=e.hiragana,t=e.katakana,a=e.vowels,h=e.consonants,p=e.sounds,b=e.choiceN,j=e.wideMode,y=e.easyMode,k=e.charSet,N=(0,s.useRef)(a),S=(0,s.useRef)(h),T=(0,s.useRef)(p),C=(0,s.useRef)(n),M=(0,s.useRef)(t),A=(0,s.useRef)(j),P=(0,s.useRef)(y),R=(0,s.useRef)(b),O=(0,s.useState)(0),E=O[0],D=O[1],L=(0,s.useState)([]),F=L[0],I=L[1],q=(0,s.useState)(!1),Z=q[0],G=q[1],W=x({charSet:k,choiceN:R.current,wideMode:A.current,practiceSide:Z,reinforce:F,selectedIndex:E,vowelsR:N,consonantsR:S,soundsR:T,hiraganaR:C,katakanaR:M}),V=W.prepareGame,_=W.setWrongs,U=W.setCorrect,K=W.answer,z=W.correct,H=W.question,J=W.wrongs,B=W.choices,Y=W.gameOrder,X=(0,s.useCallback)((function(){var e=Y.length;D((E+1)%e),_([]),U(!1)}),[U,_,Y,E]),Q=(0,s.useCallback)((function(){var e=Y.length,n=E-1;D(n<0?(e+n)%e:n%e),_([]),U(!1)}),[U,_,Y,E]),$=function(e){var n=e.setCorrect,t=e.setWrongs,r=e.setReinforce,i=e.gotoNext,a=e.answer,o=e.choices,s=e.wrongs,c=e.reinforce,l=e.practiceSide;return function(e){if(e.val===(null==a?void 0:a.val))n(!0),setTimeout(i,500);else{var u=o.findIndex((function(n){return n.val===e.val}));t(m(m([],s,!0),[u],!1)),r(m(m([],c,!0),[g(g({},e),{practiceSide:l})],!1))}}}({setCorrect:U,setWrongs:_,setReinforce:I,gotoNext:X,practiceSide:Z,answer:K,choices:B,wrongs:J,reinforce:F}),ee=w({checkAnswer:$,charSet:k,practiceSide:Z,wrongs:J,choices:B,answer:K,correct:z,wideMode:A.current,easyMode:P.current,choiceN:R.current});if((0,s.useEffect)((function(){C.current.length>0&&V()}),[E,Z,k]),!H)return(0,r.jsx)(u.n,{addlStyle:"kana"});var ne=o()({"kana main-panel h-100":!0}),te=o()({"choices-row d-flex justify-content-around":!0,"w-50":!A.current,"w-100":A.current});return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("div",{className:ne,children:(0,r.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,r.jsx)(f.Z,{ariaLabel:"Previous",action:Q,children:(0,r.jsx)(i.wyc,{size:16})}),!A.current&&(0,r.jsxs)("div",{className:o()({"pt-3 d-flex flex-column justify-content-center text-center w-50":!0,"correct-color":z}),children:[(0,r.jsx)("h1",{className:"clickable",children:H}),P.current&&!Z&&(0,r.jsx)("div",{className:"d-flex justify-content-around",children:(0,r.jsx)("h6",{children:(0,c.Vj)(H)})})]}),(0,r.jsx)("div",{className:te,children:(0,r.jsx)("div",{className:"choices-column w-100 d-flex flex-wrap ",children:B.map((function(e,n){return ee(n)}))})}),(0,r.jsx)(f.Z,{ariaLabel:"Next",action:X,children:(0,r.jsx)(i.XCv,{size:16})})]})}),(0,r.jsx)("div",{className:"options-bar mb-2 flex-shrink-1",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)(d.uY,{toggle:Z,action:(0,l.kP)(G,(function(e){return!e}))})}),(0,r.jsx)("div",{className:"col"}),(0,r.jsx)("div",{className:"col"})]})})]})}function y(e){return e===p.kS.MIXED?Math.floor(2*Math.random()):e}function x(e){var n=e.charSet,t=e.choiceN,r=e.wideMode,i=e.vowelsR,a=e.consonantsR,o=e.soundsR,c=e.hiraganaR,l=e.katakanaR,u=e.practiceSide,d=e.reinforce,f=e.selectedIndex,v=(0,s.useState)("undefined"),g=v[0],b=v[1],j=(0,s.useState)({val:"",hint:"",cSet:p.kS.HIRAGANA}),x=j[0],w=j[1],k=(0,s.useState)([]),N=k[0],S=k[1],T=(0,s.useState)([]),C=T[0],M=T[1],A=(0,s.useState)([]),P=A[0],R=A[1],O=(0,s.useState)(!1),E=O[0],D=O[1],L=(0,s.useCallback)((function(){var e,s,v,g=c.current,j=l.current;e=C.length>0?C:function(e){for(var n=[],t=e[0].length,r=e.length,i=0;i<t;i++)for(var a=0;a<r;a++)1==i&&12==a||3==i&&12==a||2==i&&14==a||0!==i&&15==a||(n=m(m([],n,!0),[{vowel:i,consonant:a}],!1));return(0,h.Sy)(n),n}(g);var x=Math.random()<1/3,k=function(e){var n=e.vowels,t=e.consonants,r=e.sounds;return function(e,i){var a=t[e]+n[i];return r[a]||a}}({vowels:i.current,consonants:a.current,sounds:o.current}),N=function(e){var n=e.hiragana,t=e.katakana;return function(e,r,i){return i===p.kS.HIRAGANA?n[e][r]:t[e][r]}}({hiragana:g,katakana:j});if(x&&d.length>0){var T=d[d.length-1];if(u===T.practiceSide)v=T;else{var A=T.val;v={val:T.hint,hint:A,cSet:T.cSet}}}else{var P=e[f],O=P.consonant,E=P.vowel,L=y(n),F=k(O,E),I=N(O,E,L);v=u?{val:I,hint:F,cSet:L}:{val:F,hint:I,cSet:L}}s=v.hint;var q=function(e,n,t){for(var r=e.getPronunciation,i=e.getKanaCharacter,a=e.charSet,o=e.choiceN,s=[n],c=e.practiceSide,l=function(){var e,n=t.length,o=Math.floor(Math.random()*(n-0)+0),l=y(a),u=r(t[o].consonant,t[o].vowel),d=i(t[o].consonant,t[o].vowel,l);e=c?{val:d,hint:u,cSet:l}:{val:u,hint:d,cSet:l},(c&&!s.some((function(n){return n.hint===e.hint}))||!c&&!s.some((function(n){return n.val===e.val})))&&(s=m(m([],s,!0),[e],!1))};s.length<o;)l();return(0,h.Sy)(s),s}({getPronunciation:k,getKanaCharacter:N,charSet:n,choiceN:t,practiceSide:u},v,e);r&&(q=m(m([],q,!0),[{val:s,hint:s,cSet:v.cSet,q:!0}],!1)),b(s),w(v),S(q),M(e),R([]),D(!1)}),[n,C,a,i,o,c,l,u,d,f,r,t]);return{prepareGame:L,setWrongs:R,setCorrect:D,answer:x,correct:E,wrongs:P,question:g,choices:N,gameOrder:C}}function w(e){var n=e.checkAnswer,t=e.wideMode,i=e.easyMode,a=e.charSet,s=e.practiceSide,l=e.wrongs,u=e.choices,d=e.answer,f=e.correct,v=e.choiceN;return function(e){var h,g=l.includes(e),m=u[e].val===d.val&&f,b=o()({clickable:!u[e].q,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":m||t&&u[e].q&&f,"incorrect-color":g,"question-color":t&&u[e].q&&!f}),j=o()({"mb-0":t}),y="d-flex justify-content-around",x=o()({"mb-0":!0,invisible:!g}),w=t?3/4:1,k=Math.trunc(1/Math.ceil(Math.sqrt(v))*w*100)+"%",N=!s;return h=!i||i&&!N?i&&!N&&!0!==u[e].q&&a===p.kS.MIXED?(0,r.jsxs)("div",{className:y,children:[(0,r.jsx)("h6",{className:x,children:u[e].hint}),(0,r.jsx)("h6",{className:x,children:(0,c.Vj)(u[e].val)})]}):!0!==u[e].q?(0,r.jsx)("div",{className:y,children:(0,r.jsx)("h6",{className:x,children:u[e].cSet===d.cSet?u[e].hint:(0,c.Vj)(u[e].hint)})}):(0,r.jsx)("div",{className:y,children:(0,r.jsx)("h6",{className:"mb-0 invisible",children:(0,c.Vj)(u[e].val)})}):!0!==u[e].q?(0,r.jsxs)("div",{className:y,children:[(0,r.jsx)("h6",{className:x,children:u[e].cSet===p.kS.HIRAGANA?u[e].hint:(0,c.Vj)(u[e].hint)}),(0,r.jsx)("h6",{className:x,children:u[e].cSet===p.kS.HIRAGANA?(0,c.Vj)(u[e].hint):u[e].hint})]}):(0,r.jsx)("div",{className:y,children:(0,r.jsx)("h6",{className:"mb-0",children:(0,c.Vj)(u[e].val)})}),(0,r.jsxs)("div",{onClick:function(){u[e].q||n(u[e])},className:b,style:{width:k},children:[(0,r.jsx)("h2",{className:j,children:u[e].val}),h]},e)}}},6291:(e,n,t)=>{t.r(n),t.d(n,{KanjiMeta:()=>T,default:()=>C});var r=t(5893),i=t(9041),a=t(5529),o=t(4184),s=t.n(o),c=t(5472),l=t.n(c),u=t(7294),d=t(743),f=t(2850),v=t(6892),h=t(9983),p=t(8670),g=t(6278),m=t(8673),b=t(4133),j=t(7891),y=t(6537),x=t(2405),w=t(7127),k=t(6176),N=t(6693),S=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},T={location:"/kanji/",label:"Kanji"};function C(){var e,n,t,o=(0,d.I0)(),c=(0,u.useCallback)((function(e){_((function(n){return S(S([],n,!0),[e],!1)})),o((0,m.Mh)(e))}),[o]),T=(0,u.useCallback)((function(e){_((function(n){return n.filter((function(n){return n!==e}))})),o((0,m.SI)(e))}),[o]),C=(0,g.R)(),M=C.kanjiList,A=C.vocabList,P=C.filterType,R=C.reinforce,O=C.activeTags,E=C.repetition;(0,u.useEffect)((function(){0===M.length&&o((0,m.tk)()),0===A.length&&o((0,j.Rz)())}),[]);var D=(0,u.useRef)(E);D.current=E;var L=(0,u.useState)(0),F=L[0],I=L[1],q=(0,u.useState)(void 0),Z=q[0],G=q[1],W=(0,u.useState)([]),V=W[0],_=W[1],U=(0,u.useState)(!1),K=U[0],z=U[1],H=(0,u.useState)(!1),J=H[0],B=H[1],Y=(0,u.useState)(!1),X=Y[0],Q=Y[1],$=(0,u.useState)(!1),ee=$[0],ne=$[1],te=(0,u.useMemo)((function(){if(0===M.length)return[];if(0===Object.keys(D.current).length&&0===O.length)return M;var e=Object.keys(D.current).reduce((function(e,n){var t;return!0===(null===(t=D.current[n])||void 0===t?void 0:t.rein)&&(e=S(S([],e,!0),[n],!1)),e}),[]),n=(0,h.Dm)(P.current,M,e,P.current===b.Lx.TAGS?O:[],(0,p.cM)(o,m.cy)),t=n.reduce((function(e,n){var t;return!0===(null===(t=D.current[n.uid])||void 0===t?void 0:t.rein)&&(e=S(S([],e,!0),[n.uid],!1)),e}),[]);return _(t),n}),[o,M,P,O]),re=(0,u.useMemo)((function(){return 0===te.length?[]:(0,h.tq)(te)}),[te]),ie=(0,u.useCallback)((function(){var e=te.length;I((F+1)%e),G(void 0),z(!1),B(!1),Q(!1),ne(!1)}),[te,F]),ae=(0,u.useCallback)((function(){var e=te;if(R.current&&P.current===b.Lx.TAGS){var n=Object.keys(E).reduce((function(e,n){var t;return!0===(null===(t=E[n])||void 0===t?void 0:t.rein)&&(e=S(S([],e,!0),[n],!1)),e}),[]),t=M.filter((function(e){return n.includes(e.uid)}));e=S(S([],te,!0),t,!0)}(0,h.hY)(R.current,P.current,V,e,E,Z,G,ie)}),[ie,M,te,V,Z,E,R,P]),oe=(0,u.useCallback)((function(){var e=te.length,n=F-1;I(n<0?(e+n)%e:n%e),G(void 0),z(!1),B(!1),Q(!1),ne(!1)}),[te,F]),se=(0,u.useCallback)((function(e){"left"===e?ae():"right"===e&&oe()}),[ae,oe]),ce=(0,N.M)(se).HTMLDivElementSwipeRef;if(re.length<1)return(0,r.jsx)(y.n,{addlStyle:"main-panel"});var le=null!=Z?Z:(0,h.vr)(F,te,re),ue=(0,h.cc)(le,M),de=A.filter((function(e){return f.TZ.parse(e).getSpelling().includes(ue.kanji)&&e.english.toLowerCase()===ue.english.toLowerCase()||f.TZ.parse(e).getSpelling().includes(ue.kanji)&&e.english.toLowerCase().includes(ue.english.toLowerCase())&&"Verb"===e.grp||f.TZ.parse(e).getSpelling()===ue.kanji&&(e.english.toLowerCase().includes(ue.english.toLowerCase())||ue.english.toLowerCase().includes(e.english.toLowerCase()))})),fe=[];if(de.length>0){var ve=l()(de,(function(e){return e.english.length})),he=ve[0],pe=ve.slice(1);fe=S([he],(0,v.Sy)(pe),!0)}var ge=(null===(e=ue.tag.find((function(e){return O.includes(e)&&(0,k.F)(e)})))||void 0===e?void 0:e.replace("_"," "))||(null===(n=ue.tag.find((function(e){return(0,k.F)(e)})))||void 0===n?void 0:n.replace("_"," "))||"",me=!0===(null===(t=E[ue.uid])||void 0===t?void 0:t.rein),be=fe.slice(0,3).map((function(e,n,t){return(0,r.jsxs)(u.Fragment,{children:[e.english+" ",f.TZ.parse(e).toHTML(),n<t.length-1?"; ":"",(0,r.jsx)("wbr",{})]},e.uid)})),je=(0,r.jsx)("span",{children:ue.english}),ye=(F+1)/te.length*100;return(0,r.jsxs)(u.Fragment,{children:[(0,r.jsx)("div",{className:"kanji main-panel h-100",children:(0,r.jsxs)("div",{ref:ce,className:"d-flex justify-content-between h-100",children:[(0,r.jsx)(w.Z,{ariaLabel:"Previous",action:oe,children:(0,r.jsx)(a.wyc,{size:16})}),(0,r.jsx)("div",{className:"grp-info",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:ue.grp}),(0,r.jsx)("div",{children:ge})]})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"pt-0",children:(0,r.jsx)("span",{children:ue.kanji})}),ue.on&&(0,r.jsx)("h4",{className:"pt-0",onClick:(0,p.kP)(z,(function(e){return!e})),children:(0,r.jsx)("span",{children:K?ue.on:"[On]"})})||(0,r.jsx)("h4",{className:"pt-0",children:"."}),ue.kun&&(0,r.jsx)("h4",{className:"pt-2",onClick:(0,p.kP)(B,(function(e){return!e})),children:(0,r.jsx)("span",{children:J?ue.kun:"[Kun]"})})||(0,r.jsx)("h4",{className:"pt-2 mb-0",children:"."}),(0,r.jsxs)("div",{className:"d-flex flex-column",children:[(0,r.jsx)("span",{className:s()({"example-blk align-self-center clickable h6 pt-2":!0,"disabled-color":0===be.length}),onClick:(0,p.kP)(Q,(function(e){return!e})),children:(0,r.jsx)("span",{className:"text-nowrap",children:X&&be.length>0?be:"[Examples]"})}),(0,r.jsx)("h4",{className:"align-self-center pt-2 clickable",onClick:(0,p.kP)(ne,(function(e){return!e})),children:ee?je:(0,r.jsx)("span",{children:"[Meaning]"})})]})]}),(0,r.jsx)("div",{className:"right-info"}),(0,r.jsx)(w.Z,{ariaLabel:"Next",action:ae,children:(0,r.jsx)(a.XCv,{size:16})})]})}),(0,r.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,r.jsxs)("div",{className:"row opts-max-h",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"d-flex justify-content-start"})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)(x.Qp,{visible:void 0!==Z&&""!==Z})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(x.R_,{addFrequencyTerm:c,removeFrequencyTerm:T,toggle:me,term:ue,count:V.length})})})]})}),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,r.jsx)(i.Z,{variant:"determinate",value:ye,color:me?"secondary":"primary"})})]})}},985:(e,n,t)=>{t.r(n),t.d(n,{PhrasesMeta:()=>P,default:()=>R});var r=t(5893),i=t(9041),a=t(5529),o=t(7294),s=t(743),c=t(7186),l=t(2850),u=t(5965),d=t(5863),f=t(9983),v=t(7962),h=t(8670),p=t(8218),g=t(9226),m=t(3518),b=t(6693),j=t(6281),y=t(8056),x=t(7652),w=t(4133),k=t(3968),N=t(6537),S=t(2405),T=t(9775),C=t(7127),M=function(){return M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},M.apply(this,arguments)},A=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},P={location:"/phrases/",label:"Phrases"};function R(){var e,n,t=(0,s.I0)(),P=(0,o.useRef)(void 0),R=(0,o.useRef)(0),L=(0,o.useState)(void 0),F=L[0],I=L[1],q=(0,o.useState)([]),Z=(q[0],q[1]),G=(0,o.useState)(-1),W=G[0],V=(G[1],(0,o.useState)(Date.now())),_=V[0],U=V[1],K=(0,o.useRef)(Date.now()),z=(0,o.useState)(0),H=z[0],J=z[1],B=(0,o.useState)(null),Y=B[0],X=B[1],Q=(0,o.useState)(null),$=Q[0],ee=Q[1],ne=(0,o.useState)(null),te=ne[0],re=ne[1],ie=(0,o.useState)([]),ae=ie[0],oe=ie[1],se=(0,o.useState)(!1),ce=se[0],le=se[1],ue=function(){var e=(0,s.v9)((function(e){var n=e.global;return[n.debug,n.motionThreshold,n.swipeThreshold]}),s.wU),n=e[0],t=e[1],r=e[2],i=(0,s.v9)((function(e){return e.phrases}),(function(e,n){return e.version===n.version})).value,a=(0,s.v9)((function(e){return e.phrases.setting}),(function(e,n){return e.repTID===n.repTID})).repetition,c=(0,s.v9)((function(e){return e.phrases.setting.practiceSide})),l=(0,s.v9)((function(e){var n=e.phrases.setting;return[n.reinforce,n.filter,n.ordered,n.romaji]}),s.wU),u=l[0],d=l[1],f=l[2],v=l[3],h=(0,s.v9)((function(e){return e.vocabulary.setting.activeGroup}),s.wU),p=(0,o.useRef)(u);p.current=u;var g=(0,o.useRef)(d);g.current=d;var m=(0,o.useRef)(f);m.current=f;var b=(0,o.useRef)(v);return b.current=v,{englishSideUp:c,repetition:a,debugLevel:n,motionThreshold:t,swipeThreshold:r,phraseList:i,activeGroup:h,reinforce:p,romajiActive:b,filterType:g,sortMethod:m}}(),de=ue.englishSideUp,fe=ue.repetition,ve=ue.motionThreshold,he=ue.swipeThreshold,pe=ue.phraseList,ge=ue.activeGroup,me=ue.reinforce,be=ue.romajiActive,je=ue.filterType,ye=ue.sortMethod,xe=(0,o.useRef)(fe);xe.current=fe,(0,o.useEffect)((function(){0===pe.length&&t((0,x.cC)())}),[]);var we=(0,o.useMemo)((function(){var e=xe.current;if(0===pe.length)return[];if(0===Object.keys(e).length&&0===ge.length)return pe;var n=Object.keys(e).reduce((function(n,t){var r;return!0===(null===(r=e[t])||void 0===r?void 0:r.rein)&&(n=A(A([],n,!0),[t],!1)),n}),[]),r=(0,f.Dm)(je.current,pe,n,ge,(0,h.cM)(t,x.f6)),i=r.reduce((function(n,t){var r;return!0===(null===(r=e[t.uid])||void 0===r?void 0:r.rein)&&(n=A(A([],n,!0),[t.uid],!1)),n}),[]);return oe(i),r}),[t,pe,je,ge]),ke=(0,o.useMemo)((function(){var e,n=xe.current;if(0===we.length)return[];switch(ye.current){case w.vl.RANDOM:e=(0,f.tq)(we);break;case w.vl.VIEW_DATE:e=(0,f.EL)(we,n);break;default:e=(0,f.fx)(we).order}return e}),[we]),Ne=(0,o.useCallback)((function(){var e=we.length,n=(H+1)%e;n===W&&(n=(e+n+1)%e),K.current=_,U(Date.now()),R.current=H,J(n),I(void 0)}),[we,H,_,W]),Se=(0,o.useCallback)((function(){(0,f.hY)(me.current,je.current,ae,we,xe.current,F,(function(e){P.current=F,I(e)}),Ne)}),[t,me,je,ae,we,F,Ne]),Te=(0,o.useCallback)((function(){var e,n=we.length;(e=F?H:(n+(H-1))%n)===W&&(e=(n+e-1)%n),K.current=_,U(Date.now()),R.current=H,J(e),I(void 0)}),[we,H,F,_,W]),Ce=function(e,n,t,r,i,a,o,s){return function(d,h){var p;if("left"===d)e(),p=Promise.all([Promise.resolve()]);else if("right"===d)n(),p=Promise.all([Promise.resolve()]);else{var g=null!=t?t:(0,f.vr)(r,o,a),m=(0,f.cc)(g,i),b=s?"/override_cache":"";if("up"===d){var j=(0,l._I)(m),y=(0,v.b1)(c.vT+b,{tl:"ja",q:j,uid:g});p=(0,u.R$)(y,h)}else if("down"===d){var x=m.english;y=(0,v.b1)(c.vT+b,{tl:"en",q:x,uid:m.uid+".en"}),p=(0,u.R$)(y,h)}}return p||Promise.reject()}}(Se,Te,F,H,pe,ke,we,ce),Me=(0,p.E)(ve),Ae=(0,j.T)(Ce,de,Me),Pe=Ae.beginLoop,Re=Ae.abortLoop,Oe=Ae.looperSwipe,Ee=Ae.loopSettingBtn,De=Ae.loopActionBtn,Le=Ae.timedPlayAnswerHandlerWrapper,Fe=(Ae.gradeTimedPlayEvent,Ae.resetTimedPlay),Ie=Ae.loop,qe=Ae.tpAnswered,Ze=Ae.tpAnimation;(0,o.useEffect)((function(){var e,n={selectedIndex:R.current,reinforcedUID:P.current,lastNext:K.current};if(F!==n.reinforcedUID||H!==n.selectedIndex){var r=null!==(e=n.reinforcedUID)&&void 0!==e?e:(0,f.vr)(n.selectedIndex,we,ke);if((0,f.Zc)(n.lastNext)){var i=(0,f.cc)(r,pe),a=r!==n.reinforcedUID;t((0,x.s5)({uid:r,shouldIncrement:a})).unwrap().then((function(e){var a,o,s=e.map,c=e.prevMap,l=c[r]&&(null===(o=c[r])||void 0===o?void 0:o.d),u=((a={})[r]=M(M({},s[r]),{d:l}),a),f=function(e,n){return t((0,y.kg)(e,n))},v=void 0!==n.reinforcedUID;void 0!==qe.current?(0,d.lP)(f,i,u,{frequency:v}):(0,d.Ps)(f,i,u,{frequency:v})}))}Fe()&&(0,f.u3)(n.lastNext)&&Pe(),X(null),ee(null),re(null),Z([]),R.current=H,P.current=F}}),[t,Pe,Fe,F,H,pe,we,ke,Ie]),(0,o.useEffect)((function(){t((0,y.kg)((0,f.w_)(ye.current,["Random","Alphhabetic","View Date"]),w.x6.DEBUG))}),[t]),(0,g.q)(Ce,(0,h.cM)(t,x.d1),Le),(0,m.Z)("Phrases Loop",Ie,Pe,Re,Oe);var Ge=(0,b.M)(Ce,Le).HTMLDivElementSwipeRef;if(we.length<1||ke.length<1)return(0,r.jsx)(N.n,{addlStyle:"main-panel"});var We=null!=F?F:(0,f.vr)(H,we,ke),Ve=(0,f.cc)(We,pe),_e=function(e,n,t,i,a){var o=n?{tl:"en",q:t.english,uid:t.uid+".en"}:{tl:"ja",q:(0,l._I)(t),uid:(0,f.gW)(t)};return(0,r.jsx)(k.Z,{visible:0===e&&0===a,word:o,reCache:i})}(he,de,Ve,ce,Ie),Ue=function(e){var n=l.TZ.parse(e);return[n,n.toHTML()]}(Ve),Ke=Ue[0],ze=Ue[1],He=function(e,n,t){return(0,r.jsx)("span",{onClick:e.lit?function(){t((function(n){return n?null:e.uid}))}:void 0,children:n?e.lit:e.english})}(Ve,te,re),Je=(0,f.JS)(de,He,ze,O,E),Be=Je.topValue,Ye=Je.bottomValue,Xe=Je.bottomLabel,Qe=Ve&&((null===(e=Ve.lit)||void 0===e?void 0:e.length)||Ve.english.length)<55,$e=function(e,n,t){var r,i,a,o,s={"fs-display-5":!0},c=s;return{aboveSmallCss:M({},e?((i={})[t?"h1":"h3"]=!0,i):((r={})[n?"h1":"h3"]=!0,r)),aboveLargeCss:s,belowNoInterruptCss:{"loop-no-interrupt":!0},belowSmallCss:M({},e?((a={})[n?"h1":"h3"]=!0,a):((o={})[t?"h1":"h3"]=!0,o)),belowLargeCss:c}}(de,Ke&&Ke.getSpelling().length<55,Qe),en=$e.aboveSmallCss,nn=$e.aboveLargeCss,tn=$e.belowNoInterruptCss,rn=$e.belowSmallCss,an=$e.belowLargeCss,on=!0===(null===(n=fe[Ve.uid])||void 0===n?void 0:n.rein),sn=Ve.romaji,cn=(H+1)/we.length*100;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:"phrases main-panel h-100",children:(0,r.jsxs)("div",{ref:Ge,className:"d-flex justify-content-between h-100",children:[(0,r.jsx)(C.Z,{ariaLabel:"Previous",action:Te,children:(0,r.jsx)(a.wyc,{size:16})}),(0,r.jsxs)("div",{className:"pt-3 d-flex flex-column justify-content-around text-center",children:[(0,r.jsx)(T.Z,{breakPoint:"md",largeClassName:nn,smallClassName:en,children:Be}),be.current&&sn&&(0,r.jsx)("h5",{children:(0,r.jsx)("span",{onClick:(0,h.kP)(ee,(function(e){return e?null:We})),className:"clickable loop-no-interrupt",children:$===We?sn:"[Romaji]"})}),(0,r.jsx)(T.Z,{className:tn,breakPoint:"md",onClick:(0,h.kP)(X,(function(e){return e?null:We})),largeClassName:an,smallClassName:rn,children:Y===We?Ye:Xe}),(0,r.jsx)("div",{className:"d-flex justify-content-center",children:_e})]}),(0,r.jsx)(C.Z,{ariaLabel:"Next",action:Se,children:(0,r.jsx)(a.XCv,{size:16})})]})}),(0,r.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,r.jsxs)("div",{className:"row opts-max-h",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,r.jsx)(S.uY,{toggle:de,action:(0,h.cM)(t,x.d1)}),(0,r.jsx)(S.Ro,{active:ce,action:D(ce,le)}),(0,r.jsx)("div",{className:"sm-icon-grp",children:Ee}),(0,r.jsx)("div",{className:"sm-icon-grp",children:De})]})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)(S.Qp,{visible:void 0!==F&&""!==F})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,r.jsx)(S.D4,{visible:de&&void 0!==Ve.lit&&""!==Ve.lit,toggle:te===We,action:(0,h.kP)(re,(function(e){return e?null:We}))}),(0,r.jsx)(S.R_,{addFrequencyTerm:function(e){oe((function(n){return A(A([],n,!0),[e],!1)})),(0,h.cM)(t,x.Lp)(e)},removeFrequencyTerm:function(e){oe((function(n){return n.filter((function(n){return n!==e}))})),(0,h.cM)(t,x.gP)(e)},toggle:on,term:Ve,count:ae.length})]})})]})}),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,r.jsx)(i.Z,{variant:null===Ze?"determinate":"buffer",value:null===Ze?cn:0,valueBuffer:null!=Ze?Ze:void 0,color:on?"secondary":"primary"})})]})}var O=(0,r.jsx)("span",{children:"[English]"}),E=(0,r.jsx)("span",{children:"[Japanese]"});function D(e,n){return function(){!1===e&&(n(!0),setTimeout((function(){n(!1)}),2e3))}}},4567:(e,n,t)=>{t.d(n,{a:()=>d});var r=t(5893),i=(t(7294),t(5697)),a=t.n(i),o=t(5529),s=t(4184),c=t.n(s),l=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function u(e,n,t,i,a){return(0,r.jsxs)("div",{className:c()({"p-0 px-2":!0,clickable:e}),onClick:function(){e&&a(t)},children:[(0,r.jsxs)("span",{className:"p-1",children:[e&&(0,r.jsx)(o.oOx,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,r.jsx)(o.aNF,{size:"small","aria-label":"inactive"})]}),(0,r.jsx)("span",{className:"p-1",children:i})]},n)}function d(e){var n=[],t=e.termsFreq.reduce((function(t,r){var i=e.terms.find((function(e){return e.uid===r}));return i?t=l(l([],t,!0),[i],!1):n=l(l([],n,!0),[r],!1),t}),[]).reduce((function(e,n){var t=n.grp?n.grp:"undefined";return e[t]?e[t]=l(l([],e[t],!0),[n],!1):e[t]=[n],e}),{});return(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{children:"Frequency"},0),(0,r.jsx)("div",{children:Object.keys(t).map((function(n,i){var a=e.termsActive.includes(n);return(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:c()({"font-weight-bold":a}),onClick:function(){return e.toggleTermActiveGrp(n)},children:n}),(0,r.jsx)("div",{children:t[n].map((function(n,t){return u(a,t,n.uid,n.english,e.removeFrequencyTerm)}))})]},i)}))},1),n.length>0&&(0,r.jsxs)("div",{className:"mt-5 text-break",children:[(0,r.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),n.map((function(n,t){return u(!0,t,n,n,e.removeFrequencyTerm)}))]})]})}d.propTypes={termsActive:a().array,termsFreq:a().array,terms:a().array,removeFrequencyTerm:a().func,toggleTermActiveGrp:a().func}},6176:(e,n,t)=>{t.d(n,{E:()=>h,F:()=>v});var r=t(5893),i=t(5472),a=t.n(i),o=t(3174),s=t.n(o),c=t(5697),l=t.n(c),u=t(7294),d=t(8737),f=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function v(e){return e.includes("_")&&Number.isInteger(parseInt(e.split("_")[1],10))}function h(e){var n=e.termsActive,t=e.termsTags,i=e.toggleTermActive,o=e.selectedCount;(0,u.useEffect)((function(){n.forEach((function(e){t.includes(e)||i(e)}))}),[n,t,i]);var c=s()(t,(function(e){return v(e)})),l=c[0],h=c[1],p=Object.values(l.reduce((function(e,n){var t=n.split("_")[0];return e[t]?e[t]=f(f([],e[t],!0),[n],!1):e[t]=[n],e}),{})),g=f(f([],a()(h),!0),p.reduce((function(e,n){var t=a()(n,(function(e){var n=e.split("_")[1];return Number.isInteger(parseInt(n,10))?parseInt(n,10):e}));return f(f([],e,!0),t,!0)}),[]),!0),m=o&&o>0&&"("+o+")"||"";return(0,r.jsxs)("div",{children:[(0,r.jsxs)("h5",{children:["Tag List ",m]},0),g.map((function(e,t){return(0,r.jsx)("div",{children:(0,r.jsx)(d.M,{active:n.includes(e),onClick:function(){i(e)},children:e},t)},t+1)}))]})}h.propTypes={termsTags:l().array,termsActive:l().array,toggleTermActive:l().func,selectedCount:l().number}},7885:(e,n,t)=>{t.r(n),t.d(n,{SettingsMeta:()=>D,default:()=>Z});var r=t(5893),i=t(5529),a=t(4184),o=t.n(a),s=t(7294),c=t(743),l=t(2850),u=t(9983),d=t(8670),f=t(5507),v=t(8056),h=t(1659),p=t(8673),g=t(9385),m=t(7988),b=t(7652),j=t(4133),y=t(7891),x=t(5697),w=t.n(x),k=t(245),N=t(195),S=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function T(e){for(var n=(0,s.useState)(e.initial)[0],t=32,i=[],a={},o=4;o<17;o++){var c=(o-4)/13*75;i=S(S([],i,!0),[{value:c,raw:o}],!1),a["r"+c]=o,a["s"+o]=c}i=S(S([],i,!0),[{value:100,raw:t}],!1),a.r100=t,a.s32=100;var l,u=function(e){return a["r"+e]};return(0,r.jsxs)("div",{className:"kana-slider",children:[(0,r.jsx)(k.Z,{id:"discrete-slider-restrict",gutterBottom:!0,children:"Difficulty"}),(0,r.jsx)(N.ZP,{defaultValue:(l=n,a["s"+l]),valueLabelFormat:u,getAriaValueText:function(e){return""+u(e)},"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:i,onChangeCommitted:function(n,r){"number"==typeof r&&function(n){var r=e.initial,i=u(n);i!==t&&r!==t&&i!==r||i!==t&&r===t&&i!==r?(e.setChoiceN(i),!0===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide()):i===t&&i!==r&&(e.setChoiceN(i),!1===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide())}(r)}})]})}T.propTypes={initial:w().number,wideMode:w().bool,setChoiceN:w().func,toggleWide:w().func};var C=t(6537),M=t(7567),A=t(4567),P=t(6176),R=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},O=(0,s.lazy)((function(){return Promise.all([t.e(557),t.e(251)]).then(t.bind(t,598))})),E=(0,s.lazy)((function(){return Promise.all([t.e(816),t.e(557),t.e(196)]).then(t.bind(t,4196))})),D={location:"/settings/",label:"Settings"};function L(e,n){var t=n.cause;switch(e((0,v.zA)(j.x6.DEBUG)),null==t?void 0:t.code){case"StaleVocabActiveGrp":var r=t.value;e((0,v.kg)("Error: "+n.message,j.x6.ERROR)),e((0,v.kg)("Group "+JSON.stringify(r)+" Removed",j.x6.ERROR)),e((0,y.sG)(r));break;case"StalePhraseActiveGrp":r=t.value,e((0,v.kg)("Error: "+n.message,j.x6.ERROR)),e((0,v.kg)("Group "+JSON.stringify(r)+" Removed",j.x6.ERROR)),e((0,b.cz)(r));break;case"DeviceMotionEvent":e((0,v.kg)("Error: "+n.message,j.x6.ERROR)),e((0,v.cv)(0))}}function F(e,n,t){return function(r){try{(0,u.Mm)(r,n,(function(e){t(Number(e.toFixed(2))),setTimeout((function(){t(void 0)}),300)}))}catch(n){n instanceof Error&&L(e,n)}}}function I(e,n){var t=e?(0,r.jsx)(i.oOx,{className:"clickable",size:"medium","aria-label":"collapse"}):(0,r.jsx)(i.wl8,{className:"clickable",size:"medium","aria-label":"expand"});return(0,r.jsx)("h2",{onClick:function(){return n((function(e){return!e}))},children:t})}var q=o()({"mb-5":!0});function Z(){var e=(0,c.I0)(),n=(0,s.useRef)(void 0),t=(0,f.Eh)(),a=t.darkMode,x=t.swipeThreshold,w=t.motionThreshold,k=t.memory,N=t.debug,S=t.kanjiChoiceN,D=t.kanjiFilter,Z=t.kanjiReinforce,G=t.kanjiActiveTags,W=t.oppositesQRomaji,V=t.oppositesARomaji,_=t.choiceN,U=t.wideMode,K=t.easyMode,z=t.charSet,H=t.particlesARomaji,J=t.vocabList,B=t.kanjiTagObj,Y=t.phraseList,X=t.KanjiList,Q=t.vocabMeta,$=t.phraseMeta,ee=t.kanjiMeta,ne=(0,s.useState)(!1),te=ne[0],re=ne[1],ie=(0,s.useState)(!1),ae=ie[0],oe=ie[1],se=(0,s.useState)(!1),ce=se[0],le=se[1],ue=(0,s.useState)(!1),de=ue[0],fe=ue[1],ve=(0,s.useState)(!1),he=ve[0],pe=ve[1],ge=(0,s.useState)(""),me=ge[0],be=ge[1],je=(0,s.useState)(""),ye=je[0],xe=je[1],we=(0,s.useState)(""),ke=we[0],Ne=we[1],Se=(0,s.useState)(!1),Te=Se[0],Ce=Se[1],Me=(0,s.useState)([]),Ae=(Me[0],Me[1],(0,s.useState)(0)),Pe=Ae[0],Re=Ae[1];(0,s.useEffect)((function(){var t;return e((0,v.M4)()),0===J.length&&e((0,y.Rz)()),0===B.length&&e((0,p.tk)()),0===Y.length&&e((0,b.cC)()),navigator.serviceWorker.addEventListener("message",Oe),null===(t=navigator.serviceWorker.controller)||void 0===t||t.postMessage({type:"SW_VERSION"}),function(){navigator.serviceWorker.removeEventListener("message",Oe),n.current&&window.removeEventListener("devicemotion",n.current)}}),[]),(0,s.useEffect)((function(){w>0&&void 0===n.current?(n.current=F(e,w,Re),(0,u.HG)((function(){n.current&&window.addEventListener("devicemotion",n.current)}),(function(n){return L(e,n)}))):0===w&&void 0!==n.current?(window.removeEventListener("devicemotion",n.current),n.current=void 0):(n.current&&window.removeEventListener("devicemotion",n.current),n.current=F(e,w,Re),(0,u.HG)((function(){n.current&&window.addEventListener("devicemotion",n.current)}),(function(n){return L(e,n)})))}),[e,w]);var Oe=(0,s.useCallback)((function(n){if("DO_HARD_REFRESH"===n.data.type){var t=n.data.error;t&&e((0,v.kg)(t,j.x6.ERROR)),setTimeout((function(){re(!1),Ce(!0)}),2e3)}else if("SW_VERSION"===n.data.type){var r=n.data,i=r.swVersion,a=r.jsVersion,o=r.bundleVersion;be(i),xe(a),Ne(o)}}),[e]),Ee=(0,s.useMemo)((function(){return(0,u.XQ)(Q,J,"[Stale Vocabulary]")}),[J,Q]),De=Ee.keys,Le=Ee.list,Fe=(0,s.useMemo)((function(){return(0,u.XQ)($,Y,"[Stale Phrase]")}),[Y,$]),Ie=Fe.keys,qe=Fe.list,Ze=(0,s.useMemo)((function(){return(0,u.XQ)(ee,X,"[Stale Kanji]")}),[X,ee]),Ge=Ze.keys,We=Ze.list,Ve=(0,s.useMemo)((function(){return(e=R(R([],Y,!0),J,!0)).reduce((function(n,t,i){var a=l.TZ.parse(t);if(a.hasFurigana())try{(0,l.Wp)(a.getPronunciation(),a.getSpelling())}catch(l){if(l instanceof Error&&"cause"in l){var o=l.cause;if("ParseError"===o.code||"InputError"===o.code){var s=(0,r.jsx)("hr",{},"parse-err-sep-".concat(t.uid)),c=(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("span",{className:"col p-0",children:a.toHTML({showError:!1})}),(0,r.jsx)("span",{className:"col p-0",children:t.english}),(0,r.jsxs)("span",{className:"col p-0 app-sm-fs-xx-small",children:[(0,r.jsx)("div",{children:l.message}),(0,r.jsx)("div",{children:o.info?JSON.stringify(o.info):""})]})]},"parse-err-".concat(t.uid));return n.length>0&&i<e.length-1?R(R([],n,!0),[s,c],!1):R(R([],n,!0),[c],!1)}}}return n}),[]);var e}),[J,Y]),_e=(0,s.useMemo)((function(){return new Set(R(R(R([],De,!0),Ie,!0),Ge,!0))}),[De,Ie,Ge]),Ue=(0,s.useMemo)((function(){return(e=R(R(R([],Le,!0),qe,!0),We,!0)).reduce((function(n,t,i){var a=(0,r.jsx)("hr",{},"stale-meta-".concat(t.uid)),o=(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("span",{className:"col p-0",children:t.key}),(0,r.jsx)("span",{className:"col p-0",children:t.english}),(0,r.jsx)("span",{className:"col p-0 app-sm-fs-xx-small",children:(0,r.jsx)("div",{children:t.uid})})]},i);return n.length>0&&i<e.length?R(R([],n,!0),[a,o],!1):R(R([],n,!0),[o],!1)}),[]);var e}),[Le,qe,We]);if(J.length<1||Y.length<1||B.length<1)return(0,r.jsx)(C.n,{addlStyle:"main-panel"});var Ke=Object.values(X).filter((function(e){return e.tag.some((function(e){return G.includes(e)}))})),ze=Ke.map((function(e){return e.uid})),He=Object.keys(ee).filter((function(e){var n;return!0===(null===(n=ee[e])||void 0===n?void 0:n.rein)})),Je=He.filter((function(e){return!ze.includes(e)}));return(0,r.jsx)("div",{className:"settings",children:(0,r.jsxs)("div",{className:"d-flex flex-column justify-content-between px-3",children:[(0,r.jsxs)("div",{className:q,children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("h2",{children:"Global"}),(0,r.jsx)("h2",{})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,r.jsxs)("div",{className:"column-1 d-flex flex-column justify-content-end",children:[(0,r.jsxs)("div",{className:o()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===x}),children:[(0,r.jsx)("div",{className:"clickable px-2 pb-2",onClick:function(){e(x-1<=0?(0,v.nh)(0):(0,v.nh)(x-1))},children:"-"}),(0,r.jsx)("div",{className:"px-2",children:x}),(0,r.jsx)("div",{className:"clickable px-2",onClick:function(){return e((0,v.nh)(x+1))},children:"+"})]}),(0,r.jsxs)("div",{className:o()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===w}),children:[(0,r.jsx)("div",{className:"clickable px-2 pb-2",onClick:function(){e(w-.5<=0?(0,v.cv)(0):(0,v.cv)(w-.5))},children:"-"}),(0,r.jsx)("div",{className:o()({"px-2":!0,"correct-color":Pe>w&&Pe<=w+1,"question-color":Pe>w+1&&Pe<=w+2,"incorrect-color":Pe>w+2}),children:null!=Pe?Pe:w}),(0,r.jsx)("div",{className:"clickable px-2",onClick:function(){e((0,v.cv)(w+.5))},children:"+"})]})]}),(0,r.jsxs)("div",{className:"column-2",children:[(0,r.jsx)("div",{className:"setting-block",children:(0,r.jsx)(M.Z,{active:a,action:(0,d.cM)(e,v.In),statusText:(a?"Dark":"Light")+" Mode"})}),(0,r.jsx)("div",{className:"setting-block",children:(0,r.jsx)(M.Z,{active:x>0,action:function(){e(x>0?(0,v.nh)(0):(0,v.nh)(1))},statusText:"Touch Swipes"})}),(0,r.jsx)("div",{className:"setting-block",children:(0,r.jsx)(M.Z,{active:w>0,action:function(){e(0===w?(0,v.cv)(6):(0,v.cv)(0))},statusText:"Accelerometer"})})]})]})})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("h2",{children:"Phrases"}),I(de,fe)]}),de&&(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(C.n,{addlStyle:"phrases-settings",text:"Loading..."}),children:(0,r.jsx)(O,{})})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("h2",{children:"Vocabulary"}),I(ce,le)]}),ce&&(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(C.n,{addlStyle:"vocabulary-settings",text:"Loading..."}),children:(0,r.jsx)(E,{})})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("h2",{children:"Kanji"}),I(ae,oe)]}),ae&&(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,r.jsxs)("div",{className:"column-1",children:[(0,r.jsx)("h4",{children:(0,u.w_)(D,["Kanji Group","Frequency List","Tags"])}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(M.Z,{active:D%2==0,action:(0,d.cM)(e,p.cy),color:"default",statusText:"Filter by"})}),D===j.Lx.FREQUENCY&&0===He.length&&(0,r.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),D===j.Lx.TAGS&&(0,r.jsx)(P.E,{selectedCount:0===Ke.length?Object.values(X).length:Ke.length,termsTags:B,termsActive:G,toggleTermActive:(0,d.cM)(e,p.X8)}),D===j.Lx.FREQUENCY&&He.length>0&&(0,r.jsx)(A.a,{termsActive:G,termsFreq:He,terms:X,removeFrequencyTerm:(0,d.cM)(e,p.SI),toggleTermActiveGrp:(0,d.cM)(e,p.LD)})]}),(0,r.jsx)("div",{className:"column-2 setting-block",children:(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(M.Z,{active:Z,action:(0,d.cM)(e,p.vT),disabled:D===j.Lx.FREQUENCY,statusText:(Z?"(+"+Je.length+") ":"")+"Reinforcement"})})})]})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)("div",{className:"d-flex justify-content-between",children:(0,r.jsx)("h2",{children:"Opposites Game"})}),(0,r.jsxs)("div",{className:"setting-block",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(M.Z,{active:W,action:(0,d.cM)(e,g.Cz),statusText:"Question Romaji"})}),(0,r.jsx)("div",{children:(0,r.jsx)(M.Z,{active:V,action:(0,d.cM)(e,g.CO),statusText:"Answer Romaji"})})]})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)("div",{className:"d-flex justify-content-between",children:(0,r.jsx)("h2",{children:"Kana Game"})}),(0,r.jsxs)("div",{className:"setting-block",children:[(0,r.jsx)("div",{children:(0,r.jsx)(M.Z,{active:z===j.kS.HIRAGANA,action:(0,d.cM)(e,h.I_),statusText:(0,u.w_)(z,["Hiragana","Katakana","Mixed"])})}),(0,r.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,r.jsx)(T,{initial:_,wideMode:U,setChoiceN:(0,d.cM)(e,h.Bs),toggleWide:(0,d.cM)(e,h.PD)})}),(0,r.jsx)("div",{children:(0,r.jsx)(M.Z,{active:K,action:(0,d.cM)(e,h._S),statusText:"Kana Hints"})})]})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)("div",{className:"d-flex justify-content-between",children:(0,r.jsx)("h2",{children:"Kanji Game"})}),(0,r.jsx)("div",{className:"setting-block",children:(0,r.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,r.jsx)(T,{initial:S,setChoiceN:(0,d.cM)(e,p.ow)})})})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)("div",{className:"d-flex justify-content-between",children:(0,r.jsx)("h2",{children:"Particles Game"})}),(0,r.jsx)("div",{className:"setting-block",children:(0,r.jsx)(M.Z,{active:H,action:(0,d.cM)(e,m.ro),statusText:"Answer Romaji"})})]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)("div",{className:"d-flex justify-content-between",children:(0,r.jsx)("h2",{children:"Application"})}),(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,r.jsx)("div",{className:"column-1",children:(0,r.jsx)("div",{className:"setting-block mb-2 mt-2",children:(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between clickable",onClick:function(){be(""),xe(""),Ne(""),setTimeout((function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"SW_VERSION"})}),1e3)},children:[(0,r.jsxs)("div",{className:"pe-2",children:[(0,r.jsx)("div",{children:"swVersion:"}),(0,r.jsx)("div",{children:"jsVersion:"}),(0,r.jsx)("div",{children:"bundleVersion:"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:me}),(0,r.jsx)("div",{children:ye}),(0,r.jsx)("div",{children:ke})]})]})})}),(0,r.jsxs)("div",{className:"column-2",children:[(0,r.jsx)("div",{className:"setting-block mb-2",children:(0,r.jsx)(M.Z,{active:N>j.x6.OFF,action:(0,d.cM)(e,v.zA),color:"default",statusText:(0,u.w_)(N,["Debug","Debug Error","Debug Warn","Debug"])})}),(0,r.jsxs)("div",{className:o()({"d-flex justify-content-end mb-2":!0,"disabled-color":Te}),children:[(0,r.jsx)("p",{id:"hard-refresh",className:"text-right",children:"Hard Refresh"}),(0,r.jsx)("div",{className:o()({"spin-a-bit":te}),style:{height:"24px"},"aria-labelledby":"hard-refresh",onClick:function(){var e;re(!0),Ce(!1),setTimeout((function(){te&&(re(!1),Ce(!0))}),3e3),null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"DO_HARD_REFRESH"})},children:(0,r.jsx)(i.bnu,{className:"clickable",size:24,"aria-label":"Hard Refresh"})})]}),(0,r.jsx)("div",{className:"setting-block mb-2",children:(0,r.jsx)(M.Z,{active:k.persistent,action:(0,d.cM)(e,v.TJ),disabled:k.persistent,color:"default",statusText:k.persistent?"Persistent "+~~(k.usage/1024/1024)+"/"+~~(k.quota/1024/1024)+"MB":"Persistent off"})})]})]}),Ue.length>0&&(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("h5",{children:"Stale Space Repetition"}),I(he,pe)]}),(0,r.jsx)("div",{className:"px-4",children:(0,r.jsx)("span",{children:"keys: "+JSON.stringify(Array.from(_e))})}),he&&(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(C.n,{addlStyle:"failed-spacerep-view"}),children:(0,r.jsx)("div",{className:"failed-spacerep-view container mt-2 p-0",children:Ue})})]}),Ve.length>0&&(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("h5",{children:"Failed Furigana Parse"}),(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(C.n,{addlStyle:"failed-furigana-view"}),children:(0,r.jsx)("div",{className:"failed-furigana-view container mt-2 p-0",children:Ve})})]})]})]})})}},4460:(e,n,t)=>{t.r(n),t.d(n,{VocabularyMeta:()=>te,default:()=>re});var r=t(5893),i=t(9041),a=t(6514),o=t(8223),s=t(5529),c=t(3174),l=t.n(c),u=t(7294),d=t(743),f=t(7186),v=t(2850),h=t(5965),p=t(5863),g=t(9983),m=t(5439),b=t(7962),j=t(8670),y=t(8218),x=t(9226),w=t(3518),k=t(6693),N=t(6281);function S(){var e=(0,d.v9)((function(e){var n=e.global;return[n.debug,n.swipeThreshold,n.motionThreshold]}),d.wU),n=e[0],t=e[1],r=e[2],i=(0,d.v9)((function(e){return e.vocabulary}),(function(e,n){return e.version===n.version})).value,a=(0,d.v9)((function(e){return e.vocabulary.setting}),(function(e,n){return e.repTID===n.repTID})).repetition,o=(0,d.v9)((function(e){var n=e.vocabulary,t=n.setting;return[t.practiceSide,t.autoVerbView,n.verbForm]}),d.wU),s=o[0],c=o[1],l=o[2],f=(0,d.v9)((function(e){var n=e.vocabulary.setting;return[n.memoThreshold,n.reinforce,n.filter,n.hintEnabled,n.romaji,n.bareKanji,n.verbColSplit,n.ordered]}),d.wU),v=f[0],h=f[1],p=f[2],g=f[3],m=f[4],b=f[5],j=f[6],y=f[7],x=(0,d.v9)((function(e){return e.vocabulary.setting.verbFormsOrder}),d.wU),w=(0,d.v9)((function(e){return e.vocabulary.setting.activeGroup}),d.wU),k=(0,u.useRef)(v);k.current=v;var N=(0,u.useRef)(h);N.current=h;var S=(0,u.useRef)(p);S.current=p;var T=(0,u.useRef)(g);T.current=g;var C=(0,u.useRef)(y);return C.current=y,{englishSideUp:s,autoVerbView:c,verbForm:l,repetition:a,debugLevel:n,swipeThreshold:t,motionThreshold:r,vocabList:i,romajiEnabled:m,bareKanji:b,verbFormsOrder:x,verbColSplit:j,activeGroup:w,reinforce:N,hintEnabled:T,filterType:S,sortMethod:C,memoThreshold:k}}var T=t(8056),C=t(4133),M=t(7891),A=t(2409),P=t(8301),R=t(1436),O=t(7625),E=t(195),D=t(4184),L=t.n(D),F=t(5697),I=t.n(F),q=t(6892),Z=t(8916);function G(e){var n,t,i,a,o=null!==(t=e.value)&&void 0!==t?t:30,s=(0,u.useState)(o),c=s[0],l=s[1];(0,u.useEffect)((function(){l(o)}),[o]);var d=c/100,f=[13,110,256],v=f[0],h=f[1],p=f[2],m=[255,(0,q.t7)(0,255,d),0],b=[(0,q.t7)(255,0,d),255,0],y=[v,(0,q.t7)(255,h,d),(0,q.t7)(0,p,d)],x=[(0,q.t7)(m[0],b[0],d),(0,q.t7)(m[1],b[1],d),(0,q.t7)(m[2],b[2],d)],w=[(0,q.t7)(b[0],y[0],d),(0,q.t7)(b[1],y[1],d),(0,q.t7)(b[2],y[2],d)],k=[(0,q.t7)(x[0],w[0],d),(0,q.t7)(x[1],w[1],d),(0,q.t7)(x[2],w[2],d)].map((function(e){return Math.floor(e)})),N="rgb("+k[0]+","+k[1]+","+k[2]+",0.25)",S=[{value:g.YZ},{value:g.$t}],T=(0,j.iP)(),C=(0,u.useState)(-1),M=C[0],D=C[1],F=(0,u.useRef)(null),I=(0,A.YF)({placement:"top",middleware:[(0,P.cv)({mainAxis:8,crossAxis:10}),(0,P.uY)(),(0,A.x7)({element:F})]}),G=I.x,W=I.y,V=I.strategy,_=I.refs,U=I.middlewareData,K=I.update;return(0,u.useEffect)((function(){K()}),[K,T.height,T.width,e.manualUpdate]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:_.setReference,className:"sm-icon-grp clickable","aria-label":"Set difficulty",onClick:function(){D((function(e){e>0&&clearTimeout(e);var n=setTimeout((function(){return D(-1)}),3500);return Number(n)}))},children:(0,r.jsx)(O.G,{icon:R.scR})}),(0,r.jsxs)("div",{id:"tooltip",ref:_.setFloating,style:{height:"200px",position:V,top:null!=W?W:0,left:null!=G?G:0,width:"max-content"},className:L()((n={invisible:M<0,"tooltip-fade":M<0},n[Z.pK]=!0,n)),children:[(0,r.jsx)(E.ZP,{sx:{color:N},orientation:"vertical",value:c,onChange:function(e,n){clearTimeout(M),D(0),"number"==typeof n&&l(n)},onChangeCommitted:function(n,t){var r=setTimeout((function(){return D(-1)}),1e3);D(Number(r)),"function"==typeof e.onChange&&"number"==typeof t&&e.onChange(t)},marks:S,step:10,valueLabelFormat:function(e){return e>g.$t?"Pass":"Fail"}}),(0,r.jsx)("div",{ref:F,id:"arrow",style:{position:V,height:8,width:8,bottom:-4,left:8+(null!==(a=null===(i=U.arrow)||void 0===i?void 0:i.x)&&void 0!==a?a:0)}})]})]})}G.propTypes={value:I().number,onChange:I().func,manualUpdate:I().string};var W=t(6537),V=t(2405),_=t(7127);function U(e){var n=e.list.length-1,t=(0,u.useState)((function(){return Math.min(n,e.initial)})),i=t[0],a=t[1];return(0,r.jsx)("div",{className:"vocabulary-slider",children:(0,r.jsx)(E.ZP,{defaultValue:i,valueLabelFormat:function(n){return e.list[n].label},getAriaValueText:function(n){return e.list[n].label},"aria-label":"Alphabetic quick scroll",step:1,min:0,max:n,valueLabelDisplay:"auto",onChangeCommitted:function(n,t){"number"==typeof t&&(e.setIndex(t),a(t))}},i)})}U.propTypes={initial:I().number.isRequired,list:I().array.isRequired,setIndex:I().func.isRequired};var K=t(9841),z=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},H=t(3968),J=t(9775),B=function(){return B=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},B.apply(this,arguments)};function Y(e,n){var t=Math.trunc(e.length/2)+(e.length%2==0?0:1)-n;return Math.trunc(e.length/2)+t}function X(e){var n=(0,d.I0)(),t=e.verb,i=e.reCache,a=e.linkToOtherTerm,o=e.showHint,s=(0,u.useState)(void 0),c=s[0],l=s[1],f=(0,u.useState)(void 0),h=f[0],p=f[1],m=S(),b=m.verbForm,j=m.swipeThreshold,y=m.repetition,x=m.romajiEnabled,w=m.englishSideUp,k=m.hintEnabled,N=m.verbFormsOrder,T=m.verbColSplit;(0,u.useEffect)((function(){var e=t.uid;l((function(n){return n===e?n:void 0})),p((function(n){return n===e?n:void 0}))}),[t]);var C,A,P=function(e,t){var i=L()({"pt-3 pe-sm-3 flex-shrink-1 d-flex flex-column justify-content-around text-nowrap":!0,"text-end":0!==e}),a=t.map((function(e,t){var i=L()({clickable:!0}),a=L()({invisible:b===e.name});return(0,r.jsxs)("div",{className:i,onClick:function(){b===e.name?n((0,M.rZ)("dictionary")):n((0,M.rZ)(e.name))},children:[(0,r.jsx)("span",{className:a,children:"["}),(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{className:a,children:"]"})]},t)}));return(0,r.jsx)("div",{className:i,children:a},e)},R=(C=t,A=N,(0,u.useMemo)((function(){var e,n,t,r,i,a,o,s,c,l,u,d={dictionary:void 0===C?void 0:K.R.parse(C)},f=z(z([{name:"-masu",value:null===(e=d.dictionary)||void 0===e?void 0:e.masuForm()},{name:"-mashou",value:null===(n=d.dictionary)||void 0===n?void 0:n.mashouForm()},{name:"dictionary",value:d.dictionary},{name:"-nai",value:null===(t=d.dictionary)||void 0===t?void 0:t.naiForm()},{name:"-saseru",value:null===(r=d.dictionary)||void 0===r?void 0:r.saseruForm()},{name:"-te",value:null===(i=d.dictionary)||void 0===i?void 0:i.teForm()},{name:"-ta",value:null===(a=d.dictionary)||void 0===a?void 0:a.taForm()}],null!==(null===(o=d.dictionary)||void 0===o?void 0:o.chattaForm())?[{name:"-chatta",value:null===(s=d.dictionary)||void 0===s?void 0:s.chattaForm()}]:[],!0),null!==(null===(c=d.dictionary)||void 0===c?void 0:c.reruForm())?[{name:"-reru",value:null===(l=d.dictionary)||void 0===l?void 0:l.reruForm()}]:[],!0);return A&&A.length>0&&(u=A.reduce((function(e,n){var t=f.find((function(e){return e.name===n}));return void 0!==t&&(e=z(z([],e,!0),[t],!1)),e}),[])),null!=u?u:f}),[C,A])),O=function(e,n){var t=Y(e,n);return{t1:e.slice(0,t),t2:e.slice(t)}}(R,T),E=O.t1,D=O.t2,F=function(e,n,t){var r=(0,d.I0)(),i=!(n&&n[e]&&!1===n[e].f);return(0,u.useMemo)((function(){return{furigana:{show:i,toggle:!1===t&&function(){r((0,M._n)(e))}||void 0}}}),[r,e,i,t])}(t.uid,y,w),I=function(e,n,t,r,i){var a=e.romaji||".",o=Y(n,r),s=n.find((function(e){return e.name===t})),c=s?s.value:n[o].value;return{inJapanese:c.toHTML(i),inEnglish:e.english,romaji:a,japaneseObj:c}}(t,R,b,T,F),q=I.inJapanese,Z=I.inEnglish,G=I.romaji,W=I.japaneseObj,V=(0,u.useMemo)((function(){return K.R.parse(t)}),[t]),_=function(e,n,t,i){return(0,u.useMemo)((function(){var a,o=!e,s=[],c=!1,l=!1;n.constructor.name===K.R.name&&"isExceptionVerb"in n&&(c=n.isExceptionVerb()||3===n.getVerbClass(),l=n.isIntransitive(),a=n.getTransitivePair()||n.getIntransitivePair());var u=n.isNaAdj(),d=n.isSlang(),f=n.isKeigo();return o&&(l||a)&&(s=z(z([],s,!0),[(0,r.jsx)("span",{className:L()({clickable:a,"question-color":a}),onClick:a&&i?function(){i(a)}:void 0,children:l?"intr":"trans"},s.length+1)],!1)),o&&d&&(s=z(z([],s,!0),[(0,r.jsx)("span",{children:"slang"},s.length+1)],!1)),o&&f&&(s=z(z([],s,!0),[(0,r.jsx)("span",{children:"keigo"},s.length+1)],!1)),c&&s.length>0&&(s=z([(0,r.jsx)("span",{children:"*"},s.length+1)],s,!0)),s.length>0?(0,r.jsxs)("span",{children:[t,u&&(0,r.jsxs)("span",{className:"opacity-25",children:[" ","な"]}),(0,r.jsxs)("span",{className:"fs-5",children:[(0,r.jsx)("span",{children:" ("}),s.reduce((function(e,n,t){return t>0&&t<s.length?z(z([],e,!0),[(0,r.jsx)("span",{children:" , "},s.length+t),n],!1):z(z([],e,!0),[n],!1)}),[]),(0,r.jsx)("span",{children:")"})]})]}):c?(0,r.jsxs)("span",{children:[t,(0,r.jsxs)("span",{children:[" ","*"]})]}):u?(0,r.jsxs)("span",{children:[t,(0,r.jsxs)("span",{className:"opacity-25",children:[" ","な"]})]}):t}),[e,n,t,i])}(w,V,q,a),U=function(e,n,t,i){return(0,u.useMemo)((function(){var a,o=[],s=!1;n.constructor.name===K.R.name&&"isExceptionVerb"in n&&(s=n.isIntransitive(),a=n.getTransitivePair()||n.getIntransitivePair());var c=n.isSlang(),l=n.isKeigo();return e&&(s||a)&&(o=z(z([],o,!0),[(0,r.jsx)("span",{className:L()({clickable:a,"question-color":a}),onClick:a&&i?function(){i(a)}:void 0,children:s?"intr":"trans"},o.length+1)],!1)),e&&c&&(o=z(z([],o,!0),[(0,r.jsx)("span",{children:"slang"},o.length+1)],!1)),e&&l&&(o=z(z([],o,!0),[(0,r.jsx)("span",{children:"keigo"},o.length+1)],!1)),o.length>0?(0,r.jsxs)("span",{children:[t,(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{children:" ("}),o.reduce((function(e,n,t){return t>0&&t<o.length?z(z([],e,!0),[(0,r.jsx)("span",{children:" , "},o.length+t),n],!1):z(z([],e,!0),[n],!1)}),[]),(0,r.jsx)("span",{children:")"})]})]}):t}),[e,n,t,i])}(w,V,Z,a),X=(0,u.useMemo)((function(){var e=(0,r.jsx)("span",{children:"[English]"}),n=(0,r.jsx)(J.Z,{fragment:!0,breakPoint:"sm",smallValue:"[J]",largeValue:"[Japanese]"});if(k&&o)if(w){var i=(0,g.tu)(W);i&&(n=i)}else{var a=(0,g.iz)(t);a&&(e=a)}return{jLabel:n,eLabel:e}}),[k,o,w,W,t]),Q=X.jLabel,$=X.eLabel,ee=function(e,n,t,r,i){return(0,u.useMemo)((function(){var a,o,s,c;return e?(a=n,o=t,s=r,c=i):(a=t,o=n,s=i,c=r),{topValue:a,topLabel:s,bottomValue:o,bottomLabel:c}}),[e,n,t,r,i])}(w,U,_,$,Q),ne=ee.topValue,te=ee.bottomValue,re=ee.bottomLabel,ie=(0,u.useMemo)((function(){return B(B({},t),{japanese:W.toString(),pronounce:t.pronounce&&W.getPronunciation(),form:b})}),[t,W,b]),ae=(0,u.useMemo)((function(){return w?{tl:"en",q:ie.english,uid:ie.uid+".en"}:{tl:"ja",q:(0,v._I)(ie),uid:(0,g.gW)(ie)}}),[w,ie]),oe=(0,r.jsx)(H.Z,{visible:0===j,word:ae,reCache:i});return(0,r.jsxs)(r.Fragment,{children:[P(0,E),(0,r.jsxs)("div",{className:"pt-3 w-100 d-flex flex-column justify-content-around text-center",children:[(0,r.jsx)(J.Z,{breakPoint:"md",smallClassName:B({},w?{h5:!0}:{"fs-display-6":!0}),largeClassName:{"fs-display-6":!0},children:ne}),x&&G&&(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:"clickable loop-no-interrupt",onClick:function(){return p((function(e){return e===t.uid?void 0:t.uid}))},children:h===t.uid?G:"[romaji]"})}),(0,r.jsx)(J.Z,{breakPoint:"md",className:{"loop-no-interrupt":!0},smallClassName:B({},w?{"fs-display-6":!0}:{h5:!0}),largeClassName:{"fs-display-6":!0},onClick:function(){return l((function(e){return e===t.uid?void 0:t.uid}))},children:c===t.uid?te:re}),(0,r.jsx)("div",{className:"d-flex justify-content-center",children:oe})]},1),P(2,D)]})}X.propTypes={verb:I().object.isRequired,reCache:I().bool,linkToOtherTerm:I().func,showHint:I().bool};var Q=function(){return Q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Q.apply(this,arguments)};function $(e){var n,t,i,a=(0,d.I0)(),o=e.vocabulary,s=e.reCache,c=e.showHint,l=(0,u.useState)(void 0),f=l[0],h=l[1],p=(0,u.useState)(void 0),m=p[0],b=p[1],y=(0,u.useState)(void 0),x=y[0],w=y[1],k=S(),N=k.swipeThreshold,T=k.repetition,C=k.romajiEnabled,A=k.englishSideUp,P=k.hintEnabled,R=k.bareKanji;(0,u.useEffect)((function(){var e=o.uid;h((function(n){return n===e?n:void 0})),b((function(n){return n===e?n:void 0}))}),[o]);var O=(0,u.useCallback)((function(e){return a((0,M._n)(e))}),[a]),E=(0,u.useMemo)((function(){return(0,g.$q)(o.uid,T,A,O)}),[O,o.uid,T,A]),D=(0,r.jsx)("span",{children:"[Japanese]"}),L=(0,r.jsx)("span",{children:"[English]"}),F=v.TZ.parse(o),I=F.toHTML(E),q=(0,r.jsx)(u.Fragment,{children:o.english}),Z=o.romaji,G=(0,g.hF)(A,F,I),W=(0,g.yT)(A,F,q);P&&c&&(A?D=(0,g.tu)(F)||D:L=(0,g.iz)(o)||L);var V=(0,g.JS)(A,W,G,L,D),_=V.topValue,U=V.bottomValue,K=V.bottomLabel,z=!0===A&&!0===R&&!1===(null===(i=T[o.uid])||void 0===i?void 0:i.f),B=(0,u.useMemo)((function(){var e=o;if(v.TZ.parse(o).isNaAdj()){var n=v.TZ.parse(o).append(x&&"な");e=Q(Q({},o),{japanese:n.toString(),pronounce:o.pronounce&&n.getPronunciation(),form:x})}return A?{tl:"en",q:o.english,uid:o.uid+".en"}:{tl:A?"en":"ja",q:(0,v._I)(e),uid:(0,g.gW)(e)}}),[o,A,x]),Y=(0,u.useCallback)((function(){return w((function(e){return e?void 0:"-na"}))}),[]),X=(0,r.jsx)(H.Z,{visible:0===N,word:B,reCache:s,onPushedPlay:Y}),$=o.english.length<55;return(0,r.jsxs)("div",{className:"pt-3 d-flex flex-column justify-content-around text-center",children:[(0,r.jsx)(J.Z,{breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:Q({},A?Q((n={},n[$?"fs-display-6":"h3"]=!0,n),$?{"lh-xs":!0}:{}):{"fs-display-6":!0}),children:_}),C&&Z&&(0,r.jsx)("h5",{children:(0,r.jsx)("span",{onClick:(0,j.kP)(b,(function(e){return e===o.uid?void 0:o.uid})),className:"clickable loop-no-interrupt",children:m===o.uid?Z:"[Romaji]"})}),(0,r.jsx)(J.Z,{className:{"loop-no-interrupt":!0},breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:Q({},A?{"fs-display-6":!0}:(t={},t[$?"fs-display-6":"h3"]=!0,t)),onClick:z?void 0:(0,j.kP)(h,(function(e){return e===o.uid?void 0:o.uid})),children:f===o.uid||z?U:K}),(0,r.jsx)("div",{className:"d-flex justify-content-center",children:X})]})}$.propTypes={vocabulary:I().object.isRequired,reCache:I().bool,showHint:I().bool};var ee=function(){return ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},ee.apply(this,arguments)},ne=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},te={location:"/vocabulary/",label:"Vocabulary"};function re(){var e,n,t,c=(0,d.I0)(),A=(0,u.useState)(!1),P=A[0],R=A[1],O=(0,u.useRef)(!1),E=(0,u.useRef)(void 0),D=(0,u.useRef)(0),L=(0,u.useState)(void 0),F=L[0],I=L[1],q=(0,u.useState)([]),Z=(q[0],q[1]),K=(0,u.useState)(-1),z=K[0],H=(K[1],(0,u.useState)(Date.now())),J=H[0],B=H[1],Y=(0,u.useRef)(Date.now()),Q=(0,u.useState)(0),te=Q[0],re=Q[1],ae=(0,u.useState)(void 0),oe=ae[0],se=ae[1],ce=(0,u.useState)([]),le=ce[0],ue=ce[1],de=(0,u.useState)(!1),fe=de[0],ve=de[1],he=(0,u.useRef)(),pe=(0,u.useState)(!1),ge=pe[0],me=pe[1],be=S(),je=be.motionThreshold,ye=be.vocabList,xe=be.memoThreshold,we=be.reinforce,ke=be.filterType,Ne=be.hintEnabled,Se=be.sortMethod,Te=be.activeGroup,Ce=be.autoVerbView,Me=be.englishSideUp,Ae=be.verbForm,Pe=be.repetition,Re=(0,u.useRef)(Pe);Re.current=Pe,(0,u.useEffect)((function(){0===ye.length&&c((0,M.Rz)())}),[]);var Oe=(0,u.useMemo)((function(){if(0===ye.length)return[];if(0===Object.keys(Re.current).length&&0===Te.length)return ye;var e=Object.keys(Re.current).reduce((function(e,n){var t;return!0===(null===(t=Re.current[n])||void 0===t?void 0:t.rein)&&(e=ne(ne([],e,!0),[n],!1)),e}),[]),n=(0,g.Dm)(ke.current,ye,e,Te,(0,j.cM)(c,M.ZZ));switch(Se.current){case C.vl.DIFFICULTY:var t=n.filter((function(e){var n,t=xe.current,r=null===(n=Re.current[e.uid])||void 0===n?void 0:n.difficulty;return void 0===r&&(t<0?-1*t<g.$t:t>g.$t)||(t<0?r>-1*t:r<t)}));t.length>0?n=t:console.warn("Excluded all terms. Discarding memorized subfiltering.");break;case C.vl.GAME:if(we.current){var r=l()(n,(function(e){var n;return!0===(null===(n=Re.current[e.uid])||void 0===n?void 0:n.rein)})),i=r[0],a=r[1];n=ne(ne([],a,!0),i,!0)}}var o=n.reduce((function(e,n){var t;return!0===(null===(t=Re.current[n.uid])||void 0===t?void 0:t.rein)&&(e=ne(ne([],e,!0),[n.uid],!1)),e}),[]);return ue(o),n}),[c,ye,Te]),Ee=(0,u.useMemo)((function(){var e,n,t,r;if(0===Oe.length)return{newOrder:[]};switch(Se.current){case C.vl.RANDOM:n=(0,g.tq)(Oe);break;case C.vl.VIEW_DATE:n=(0,g.EL)(Oe,Re.current);break;case C.vl.GAME:if(we.current){for(var i=-1,a=Oe.length-1;a>-1;a--){var o=Re.current[Oe[a].uid],s=a-1>-1?a-1:0,c=Re.current[Oe[s].uid];if(!0===(null==o?void 0:o.rein)&&!(null==c?void 0:c.rein)){i=a;break}}if(-1!==i){var l=Oe.slice(0,i),u=Oe.slice(i),d=(0,g.rU)(l,Re.current),f=u.map((function(e,n){return l.length+n}));n=ne(ne([],d,!0),f,!0)}}void 0===n&&(n=(0,g.rU)(Oe,Re.current));break;case C.vl.DIFFICULTY:n=(0,g.J0)(Oe,Re.current);break;default:n=(e=(0,g.fx)(Oe)).order,t=e.jOrder,r=e.eOrder}return me(!0),{newOrder:n,jbare:t,ebare:r}}),[Oe]),De=Ee.newOrder,Le=Ee.ebare,Fe=Ee.jbare,Ie=(0,u.useCallback)((function(){var e=Oe.length,n=(te+1)%e;n===z&&(n=(e+n+1)%e),Y.current=J,B(Date.now()),D.current=te,re(n),I(void 0)}),[Oe,te,J,z]),qe=(0,u.useCallback)((function(){(0,g.hY)(we.current,ke.current,le,Oe,Re.current,F,(function(e){E.current=F,I(e)}),Ie)}),[c,le,Oe,F,Ie]),Ze=(0,u.useCallback)((function(){var e,n=Oe.length;(e=F?te:(n+(te-1))%n)===z&&(e=(n+e-1)%n),Y.current=J,B(Date.now()),D.current=te,re(e),I(void 0)}),[Oe,te,F,J,z]),Ge=function(e,n,t,r,i,a,o,s,c,l){return function(u,d){var p;if("left"===u)e(),p=Promise.all([Promise.resolve()]);else if("right"===u)n(),p=Promise.all([Promise.resolve()]);else{var j=null!=t?t:(0,g.vr)(r,s,o),y=(0,g.cc)(j,i),x=c?"/override_cache":"";if("up"===u){(0,m.gI)("playing");var w=void 0;if("Verb"===y.grp&&"dictionary"!==a){var k=(0,g.dP)(y,a);w=ee(ee({},y),{japanese:k.toString(),pronounce:y.pronounce&&k.getPronunciation(),form:a})}else if(v.TZ.parse(y).isNaAdj()){var N=v.TZ.parse(y).append(l.current&&"な");w=ee(ee({},y),{japanese:N.toString(),pronounce:y.pronounce&&N.getPronunciation(),form:l.current}),l.current=l.current?void 0:"-na"}else w=y;var S=(0,b.b1)(f.vT+x,{tl:"ja",q:(0,v._I)(w),uid:(0,g.gW)(w)});p=(0,h.R$)(S,d)}else if("down"===u){(0,m.gI)("playing");var T=y.english;S=(0,b.b1)(f.vT+x,{tl:"en",q:T,uid:y.uid+".en"}),p=(0,h.R$)(S,d)}}return null!=p?p:Promise.reject()}}(qe,Ze,F,te,ye,Ae,De,Oe,fe,he),We=(0,y.E)(je),Ve=(0,N.T)(Ge,Me,We),_e=Ve.beginLoop,Ue=Ve.abortLoop,Ke=Ve.looperSwipe,ze=Ve.loopSettingBtn,He=Ve.loopActionBtn,Je=Ve.timedPlayVerifyBtn,Be=Ve.timedPlayAnswerHandlerWrapper,Ye=Ve.gradeTimedPlayEvent,Xe=Ve.resetTimedPlay,Qe=Ve.loop,$e=Ve.tpAnswered,en=Ve.tpAnimation;(0,x.q)(Ge,(0,j.cM)(c,M.$u),Be);var nn=(0,k.M)(Ge,Be).HTMLDivElementSwipeRef;if((0,w.Z)("Vocabulary Loop",Qe,_e,Ue,Ke),(0,u.useEffect)((function(){var e,n={selectedIndex:D.current,reinforcedUID:E.current,lastNext:Y.current};if(F!==n.reinforcedUID||te!==n.selectedIndex){var t=null!==(e=n.reinforcedUID)&&void 0!==e?e:(0,g.vr)(n.selectedIndex,Oe,De);if(Ye(c,t,Re.current),(0,g.Zc)(n.lastNext)){var r=(0,g.cc)(t,ye),i=t!==n.reinforcedUID,a=void 0!==n.reinforcedUID;c((0,M.Wo)({uid:t,shouldIncrement:i})).unwrap().then((function(e){var n,i,o=e.map,s=null===(i=e.prevMap[t])||void 0===i?void 0:i.d,l=((n={})[t]=ee(ee({},o[t]),{d:s}),n),u=function(e,n){return c((0,T.kg)(e,n))};void 0!==$e.current?(0,p.lP)(u,r,l,{frequency:a}):(0,p.Ps)(u,r,l,{frequency:a})}))}Xe()&&(0,g.u3)(n.lastNext)&&_e(),se(void 0),Z([]),D.current=te,E.current=F}}),[c,_e,Ye,Xe,ye,F,te,Oe,De]),Oe.length<1||De.length<1)return(0,r.jsx)(W.n,{addlStyle:"main-panel"});var tn=null!=F?F:(0,g.vr)(te,Oe,De),rn=(0,g.cc)(tn,ye),an=!0===(null===(e=Re.current[rn.uid])||void 0===e?void 0:e.rein),on="Verb"===rn.grp,sn=v.TZ.parse(rn),cn=sn.hasFurigana(),ln=sn.isHintable(3),un=void 0!==rn.grp&&""!==rn.grp,dn=oe!==tn&&Me?ln:un,fn=te,vn=[];ge?Fe&&(vn=Fe):(Fe&&(fn=Fe[te].idx),Le&&(vn=Le));var hn=(te+1)/Oe.length*100,pn=(0,r.jsx)(u.Fragment,{children:(0,r.jsx)("div",{className:"vocabulary main-panel h-100",children:(0,r.jsxs)("div",{ref:nn,className:"d-flex justify-content-between h-100",children:[(0,r.jsx)(_.Z,{ariaLabel:"Previous",action:Ze,children:(0,r.jsx)(s.wyc,{size:16})}),on&&Ce?(0,r.jsx)(X,{verb:rn,reCache:fe,linkToOtherTerm:function(e){return I(e)},showHint:oe===tn}):(0,r.jsx)($,{vocabulary:rn,reCache:fe,showHint:oe===tn}),(0,r.jsx)(_.Z,{ariaLabel:"Next",action:qe,children:(0,r.jsx)(s.XCv,{size:16})})]})})});return pn=P?(0,r.jsxs)(u.Fragment,{children:[pn,(0,r.jsx)(a.Z,{in:P,timeout:500,children:(0,r.jsx)(o.Z,{style:{position:"absolute",bottom:"25vh",left:"65vw"},children:(0,r.jsx)("div",{onClick:(0,j.kP)(me,(function(e){return!e})),children:ge?"JP":"EN"})})}),(0,r.jsx)("div",{className:"page-bar flex-shrink-1",onTouchStart:function(){O.current=!0},onTouchEnd:function(){O.current=!1},onMouseDown:function(){O.current=!0},onMouseUp:function(){O.current=!1},children:(0,r.jsx)(U,{initial:fn,list:vn,setIndex:function(e){if(ge)re(e);else if(Le){var n=Le[e].idx;re(n)}}})})]}):(0,r.jsxs)(u.Fragment,{children:[pn,(0,r.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,r.jsxs)("div",{className:"row opts-max-h",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,r.jsx)(V.uY,{toggle:Me,action:function(){Ue()&&Xe(),c((0,M.$u)())}}),(0,r.jsx)(V.Ro,{active:fe,action:ie(fe,ve)}),(0,r.jsx)(V.ph,{visible:on,toggleAutoVerbView:(0,j.cM)(c,M.eK),autoVerbView:Ce}),(0,r.jsx)("div",{className:"sm-icon-grp",children:ze}),(0,r.jsx)("div",{className:"sm-icon-grp",children:He})]})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)(V.Qp,{visible:void 0!==F&&""!==F})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"d-flex justify-content-end",children:[Je(!0===(null===(n=Re.current[tn])||void 0===n?void 0:n.pron)),(0,r.jsx)(G,{value:null===(t=Re.current[tn])||void 0===t?void 0:t.difficulty,onChange:(0,j.cM)(c,(function(e){return(0,M.kn)(tn,e)})),manualUpdate:tn}),(0,r.jsx)(V.y8,{visible:Ne.current,active:dn,setShowHint:(0,j.kP)(se,(function(e){return e?void 0:tn}))}),(0,r.jsx)(V.A,{active:cn,toggle:(0,g.$q)(rn.uid,Re.current).furigana.show,toggleFurigana:(0,j.cM)(c,M._n),vocabulary:rn}),(0,r.jsx)(V.R_,{addFrequencyTerm:function(e){ue((function(n){return ne(ne([],n,!0),[e],!1)})),(0,j.cM)(c,M.S5)(e)},removeFrequencyTerm:function(e){ue((function(n){return n.filter((function(n){return n!==e}))})),(0,j.cM)(c,M.xz)(e)},toggle:an,term:rn,count:le.length})]})})]})}),(0,r.jsx)("div",{className:"progress-line flex-shrink-1",onClick:function(){if(Se.current===C.vl.ALPHABETIC){R(!0);var e=function(){O.current?setTimeout(e,4e3):R(!1)};setTimeout(e,4e3)}},children:(0,r.jsx)(i.Z,{variant:null===en?"determinate":"buffer",value:null===en?hn:0,valueBuffer:null!=en?en:void 0,color:an?"secondary":"primary"})})]}),pn}function ie(e,n){return function(){e||(n(!0),setTimeout((function(){n(!1)}),2e3))}}},5665:(e,n,t)=>{t.d(n,{L6:()=>a,jP:()=>r,kh:()=>i});var r="add_frequency_word",i="add_frequency_phrase",a="service_worker_logger_msg"},5741:(e,n,t)=>{t.d(n,{_:()=>r});var r="userSettings"},2850:(e,n,t)=>{t.d(n,{TZ:()=>c,Wp:()=>u,_I:()=>f});var r=t(5893),i=t(4184),a=t.n(i),o=t(9815),s=t(3996),c=(t(7294),function(){function e(e,n){this._furigana=e,this._kanji=n,this._parseObj={furiganas:[],kanjis:[],okuriganas:[],startsWKana:!1},this.slang=!1,this.keigo=!1,this.adj=""}return Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"JapaneseText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"furigana",{get:function(){return this._furigana},set:function(e){this._furigana=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kanji",{get:function(){return this._kanji},set:function(e){this._kanji=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parseObj",{get:function(){return 0!==this._parseObj.furiganas.length||0!==this._parseObj.kanjis.length||0!==this._parseObj.okuriganas.length||this._parseObj.startsWKana||(this.hasFurigana()?this._parseObj=u(this.getPronunciation(),this.getSpelling()):this._parseObj={okuriganas:[this.getSpelling()],startsWKana:!0,kanjis:[],furiganas:[]}),this._parseObj},enumerable:!1,configurable:!0}),e.prototype.hasFurigana=function(){return!!this._kanji},e.prototype.getSpelling=function(){return this._kanji?this._kanji:this._furigana},e.prototype.getPronunciation=function(){return this._furigana},e.prototype.getObject=function(){return{furigana:this._furigana,kanji:this._kanji}},e.prototype.isSlang=function(){return this.slang},e.prototype.isKeigo=function(){return this.keigo},e.prototype.isNaAdj=function(){return"na"===this.adj},e.prototype.isIAdj=function(){return"i"===this.adj},e.prototype.debug=function(){return JSON.stringify(this)},e.prototype.append=function(n){return void 0===n&&(n=""),this.hasFurigana()?new e(this.getPronunciation()+n,this.getSpelling()+n):new e(this.getSpelling()+n)},e.prototype.toString=function(){return this._furigana+(this._kanji?"\n"+this._kanji:"")},e.prototype.isHintable=function(e){void 0===e&&(e=3);var n=!0,t=this;if(!t.toString().split("").every((function(e){return(0,o.AF)(e)||(0,o.f_)(e)||(0,o.xn)(e)||"\n"===e})))return!1;if(t.hasFurigana()){var r=t.getPronunciation(),i=t.getSpelling();if(r.length<e)n=!1;else try{u(r,i)}catch(e){console.log(e),n=!1}}else t.getSpelling().length<e&&(n=!1);return n},e.prototype.getHint=function(e,n,t,r){var i;void 0===t&&(t=3),void 0===r&&(r=1);var a={shown:"hint-mora",hidden:"invisible"};return this.isHintable(t)?this.hasFurigana()?n(a,(i=u(this.getPronunciation(),this.getSpelling())).kanjis,i.furiganas,i.okuriganas,i.startsWKana,r):e(a,this.getSpelling(),r):void 0},e.prototype.toHTML=function(e){var n,t,i,o,c=!1===(null===(t=null==e?void 0:e.furigana)||void 0===t?void 0:t.show),l=null===(i=null==e?void 0:e.furigana)||void 0===i?void 0:i.toggle,u=a()({"incorrect-color":!0,"d-block":!0}),d=(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:u,children:this.getPronunciation()}),(0,r.jsx)("span",{children:this.getSpelling()})]});if(this.hasFurigana())try{var f=(n=this.parseObj).kanjis,v=n.furiganas,h=n.okuriganas,p=n.startsWKana,g=(0,s.je)(this.parseObj),m=a()({clickable:!!l})||void 0,b=l||void 0,j=c?"transparent-font":void 0;o=(0,r.jsx)("span",{className:m,onClick:b,children:g.map((function(e,n){var t=(0,s.re)(f[n]),r=(0,s.re)(),i=(0,s.re)(v[n],j),a=(0,s.re)(),o=(0,s.re)(h[n]),c=(0,s.re)();return(0,s.v5)(n,{sk:t,hk:r},{sf:i,hf:a},{so:o,ho:c},p)}))})}catch(n){!1!==(null==e?void 0:e.showError)&&console.error(n),o=d}else o=(0,r.jsx)("span",{children:this.getSpelling()});return o},e.parse=function(e){return l(e)},e.parser=l,e}());function l(e,n){var t,r=e.japanese.split("\n");if("function"==typeof n)t=n(e);else{var i=r[0],a=r[1];t=new c(i,a)}return e.slang&&e.slang&&(t.slang=!0),e.keigo&&e.keigo&&(t.keigo=!0),!e.adj||"na"!==e.adj&&"i"!==e.adj||(t.adj=e.adj),t}function u(e,n){var t,r,i,a,s,c;try{i=(t=d(e,n)).kanjis,a=t.furiganas,s=t.okuriganas,c=t.startsWKana}catch(t){if(t instanceof Error&&"ParseError"===(null===(r=t.cause)||void 0===r?void 0:r.code))try{var l=d(e.split("").reverse().join(""),n.split("").reverse().join("")),u=l.kanjis,f=l.furiganas,v=l.okuriganas;return{kanjis:i=u.map((function(e){return e.split("").reverse().join("")})).reverse(),furiganas:a=f.map((function(e){return e.split("").reverse().join("")})).reverse(),okuriganas:s=v.map((function(e){return e.split("").reverse().join("")})).reverse(),startsWKana:c=!(0,o.AF)(n.charAt(0))}}catch(e){}throw t}return{kanjis:i,furiganas:a,okuriganas:s,startsWKana:c}}function d(e,n){if(n.split("").every((function(e){return(0,o.AF)(e)||(0,o.BE)(e)})))return{kanjis:[n],furiganas:[e],okuriganas:[],startsWKana:!1};var t=new RegExp(/\s/g),r=t.test(e)||t.test(n),i=!(0,o.AF)(n.charAt(0))&&!(0,o.IE)(n.charAt(0)),a=0,s=[],c=[],l=[],u="",d="",f="",v=!1;n.split("").forEach((function(t,i){if((0,o.AF)(t)||function(e,n,t){var r=t.charAt(e);return Number.isInteger((0,o.F8)(r))||Number.isInteger(Number.parseInt(r))&&!n.includes(r)&&!(0,o.AF)(r)&&!(0,o.f_)(r)&&!(0,o.xn)(r)&&e<t.length-1}(i,e,n))" "!==e.charAt(a)&&(u+=e.charAt(a))," "!==t&&(d+=t),v=!0,a++,""!==f&&(l.push(f),f=""),n.length-i==1&&(" "!==e.slice(a)&&(u+=e.slice(a)),s.push(u),c.push(d));else{if(v){for(;e.charAt(a)!=t;)if(" "!==e.charAt(a)&&(u+=e.charAt(a)),++a>e.length)throw new Error("The two phrases do not match"+(r?" (contains white space)":""),{cause:{code:"InputError",info:{input:{pronunciation:e,orthography:n},kanjis:c,furiganas:s,okuriganas:l}}});s.push(u),u=""}" "!==t&&(f+=t),""!==d&&(c.push(d),d=""),a++,v=!1}})),""!==f&&l.push(f);var h=function(e,n,t,r){var i,a;return r?(a=t.reduce((function(n,t,r){return n+t+(e[r]||"")}),""),i=t.reduce((function(e,t,r){return e+t+(n[r]||"")}),"")):(a=e.reduce((function(e,n,r){return e+n+(t[r]||"")}),""),i=n.reduce((function(e,n,r){return e+n+(t[r]||"")}),"")),[i,a]}(c,s,l,i),p=h[0],g=h[1],m=e.replaceAll(" ",""),b=n.replaceAll(" ","");if(p!==m||g!==b)throw new Error("Failed to parse text to build furigana"+(r?" (contains white space)":""),{cause:{code:"ParseError",info:{input:{pronunciation:e,orthography:n},output:{pronunciation:p,orthography:g}}}});return{kanjis:c,furiganas:s,okuriganas:l,startsWKana:i}}function f(e){var n;if(e.pronounce){if(!e.pronounce.split("").every((function(e){return(0,o.f_)(e)||(0,o.xn)(e)})))throw new Error("No valid pronunciation",{cause:{code:"InvalidPronunciation",value:e}});n=e.pronounce}else n=c.parse(e).getSpelling().replaceAll(" ","");return n}},9841:(e,n,t)=>{t.d(n,{R:()=>c});var r,i=t(6954),a=t(9815),o=t(2850),s=(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),c=function(e){function n(n,t){var r=e.call(this,n,t)||this;return r.trans=void 0,r.intr=void 0,r.exv=void 0,r}return s(n,e),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return"JapaneseVerb"},enumerable:!1,configurable:!0}),n.prototype.isExceptionVerb=function(){return void 0!==this.exv},n.prototype.isIntransitive=function(){return void 0!==this.trans||!0===this.intr},n.prototype.getTransitivePair=function(){return this.isIntransitive()&&this.trans?this.trans:void 0},n.prototype.getIntransitivePair=function(){return this.isIntransitive()||"string"!=typeof this.intr?void 0:this.intr},n.prototype.getVerbClass=function(){var n=e.prototype.getPronunciation.call(this),t=e.prototype.getSpelling.call(this);if(this.exv&&this.isExceptionVerb())return this.exv;var r=n.slice(-1),i=n.slice(-2,-1),o=(0,a.dv)(i).iVowel;return"する"===t.slice(-2)||"くる"===n||"だ"===n||"ある"===n?3:1===o&&"る"===r||3===o&&"る"===r?2:1},n.prototype.getStem=function(){var n,t,r=i.Bw;e.prototype.hasFurigana.call(this)&&(t=e.prototype.getSpelling.call(this).slice(0,-1));var o=e.prototype.getPronunciation.call(this).slice(-1),s=e.prototype.getPronunciation.call(this).slice(0,-1);if(1===this.getVerbClass()||"る"!==o){var c=(0,a.dv)(o).iConsonant;n=t?[s+r[c][1],t+r[c][1]]:[s+r[c][1]]}else{if("る"!==o)throw new Error("Unknown verb type");n=t?[s,t]:[s]}return n},n.prototype.naiForm=function(){var n,t,r="ない",s=this.getVerbClass(),c=e.prototype.getSpelling.call(this),l=e.prototype.hasFurigana.call(this);if(1===s){var u=c[c.length-1],d=i.Bw,f=i.Be.indexOf("a"),v=(0,a.dv)(u).iConsonant,h=d[0===v?14:v][f]+r,p=e.prototype.getSpelling.call(this).slice(0,-1);if(l){var g=e.prototype.getPronunciation.call(this).slice(0,-1);t=new o.TZ(g+h,p+h)}else t=new o.TZ(p+h)}else if(2===s)g=(n=this.getStem())[0],t=(p=n[1])?new o.TZ(g+r,p+r):new o.TZ(g+r);else if("来る"===c||"くる"===c)t=new o.TZ("こない","来ない");else if("する"===c)t=new o.TZ("しない");else if("ある"===c)t=new o.TZ("ない");else{if("する"!==c.slice(-2))throw new Error("Unknown exception verb type");p=e.prototype.getSpelling.call(this).slice(0,-2),l?(g=e.prototype.getPronunciation.call(this).slice(0,-2),t=new o.TZ(g+"しない",p+"しない")):t=new o.TZ(p+"しない")}return t},n.prototype.saseruForm=function(){var n,t,r="せる",s=this.getVerbClass(),c=e.prototype.getSpelling.call(this),l=e.prototype.hasFurigana.call(this);if(1===s){var u=c[c.length-1],d=i.Bw,f=i.Be.indexOf("a"),v=(0,a.dv)(u).iConsonant,h=d[0===v?14:v][f]+r,p=e.prototype.getSpelling.call(this).slice(0,-1);if(l){var g=e.prototype.getPronunciation.call(this).slice(0,-1);t=new o.TZ(g+h,p+h)}else t=new o.TZ(p+h)}else if(2===s)"居る"!==c&&"いる"!==c||(t=new o.TZ("いる","居る")),g=(n=this.getStem())[0],p=n[1],t=l?new o.TZ(g+"さ"+r,p+"さ"+r):new o.TZ(g+"さ"+r);else if("来る"===c||"くる"===c)t=new o.TZ("こさせる","来させる");else if("する"===c)t=new o.TZ("させる");else if("ある"===c)t=new o.TZ("ある");else{if("する"!==c.slice(-2))throw new Error("Unknown exception verb type");p=e.prototype.getSpelling.call(this).slice(0,-2),l?(g=e.prototype.getPronunciation.call(this).slice(0,-2),t=new o.TZ(g+"させる",p+"させる")):t=new o.TZ(p+"させる")}return t},n.prototype.reruForm=function(){var n,t,r=this.getVerbClass(),s=e.prototype.getSpelling.call(this),c=e.prototype.hasFurigana.call(this);if(this.isIntransitive()||void 0!==this.getIntransitivePair())return null;if(1===r){var l=s[s.length-1],u=i.Bw,d=i.Be.indexOf("e"),f=u[(0,a.dv)(l).iConsonant][d]+"る",v=e.prototype.getSpelling.call(this).slice(0,-1);if(c){var h=e.prototype.getPronunciation.call(this).slice(0,-1);t=new o.TZ(h+f,v+f)}else t=new o.TZ(v+f)}else if(2===r)h=(n=this.getStem())[0],v=n[1],t=c?new o.TZ(h+"られる",v+"られる"):new o.TZ(h+"られる");else if("来る"===s||"くる"===s)t=new o.TZ("こられる","来られる");else if("する"===s)t=new o.TZ("できる");else if("する"===s.slice(-2))v=e.prototype.getSpelling.call(this).slice(0,-2),c?(h=e.prototype.getPronunciation.call(this).slice(0,-2),t=new o.TZ(h+"できる",v+"できる")):t=new o.TZ(v+"できる");else{if("ある"!==s&&"いる"!==s)throw new Error("Unknown exception verb type");t=null}return t},n.prototype.masuForm=function(){var n,t,r="ます";switch(this.toString()){case"くる\n来る":t=new o.TZ("きます","来ます");break;case"ある":t=new o.TZ("あります");break;case"だ":t=new o.TZ("です")}if("する"===e.prototype.getSpelling.call(this).slice(-2)){var i="します",a=e.prototype.getPronunciation.call(this).slice(0,-2),s=e.prototype.getSpelling.call(this).slice(0,-2);t=e.prototype.hasFurigana.call(this)?new o.TZ(a+i,s+i):new o.TZ(a+i)}if(!t){var c=(n=this.getStem())[0],l=n[1];t=l?new o.TZ(c+r,l+r):new o.TZ(c+r)}return t},n.prototype.mashouForm=function(){var n,t,r="ましょう";switch(this.toString()){case"くる\n来る":t=new o.TZ("きましょう","来ましょう");break;case"ある":t=new o.TZ("ありましょう");break;case"だ":t=new o.TZ("でしょう")}if("する"===e.prototype.getSpelling.call(this).slice(-2)){var i="しましょう",a=e.prototype.getPronunciation.call(this).slice(0,-2),s=e.prototype.getSpelling.call(this).slice(0,-2);t=e.prototype.hasFurigana.call(this)?new o.TZ(a+i,s+i):new o.TZ(a+i)}if(!t){var c=(n=this.getStem())[0],l=n[1];t=l?new o.TZ(c+r,l+r):new o.TZ(c+r)}return t},n.prototype.taForm=function(){return this.t_Form(l)},n.prototype.chattaForm=function(){if(3===this.getVerbClass())return null;var n,t=e.prototype.hasFurigana.call(this)?e.prototype.getSpelling.call(this):e.prototype.getPronunciation.call(this);switch(t[t.length-1]){case"ぶ":case"む":case"ぬ":case"ぐ":n="じゃった";break;default:n="ちゃった"}var r=this.t_Form(l);return new o.TZ(r.getPronunciation().slice(0,-1)+n,r.getSpelling().slice(0,-1)+n)},n.prototype.teForm=function(){return this.t_Form(u)},n.prototype.t_Form=function(e){var n,t,r,i=this.getVerbClass(),a=this.furigana;this.hasFurigana()&&this.kanji&&(t=this.furigana,a=this.kanji);var s=a[a.length-1];if(1===i)if("行く"===a||"いく"===a)n=o.TZ.parse({japanese:e.g1.iku});else{switch(s){case"う":case"つ":case"る":r=e.g1.u_tsu_ru;break;case"く":r=e.g1.ku;break;case"ぐ":r=e.g1.gu;break;case"ぬ":case"ぶ":case"む":r=e.g1.mu_nu_bu;break;case"す":r=e.g1.su}n=t?new o.TZ(t.slice(0,-1)+r,a.slice(0,-1)+r):new o.TZ(a.slice(0,-1)+r)}else if(2===i)r=e.g2.ru,n=t?new o.TZ(t.slice(0,-1)+r,a.slice(0,-1)+r):new o.TZ(a.slice(0,-1)+r);else if("来る"===a||"くる"===a)n=o.TZ.parse({japanese:e.g3.kuru});else if("する"===a)n=o.TZ.parse({japanese:e.g3.suru});else if("だ"===a)n=o.TZ.parse({japanese:e.g3.da});else if("ある"===a)n=o.TZ.parse({japanese:e.g3.aru});else{if("する"!==a.slice(-2))throw new Error("Unknown exception verb type");var c=e.g3.suru,l=a.slice(0,-2);if(t){var u=t.slice(0,-2);n=new o.TZ(u+c,l+c)}else n=new o.TZ(l+c)}return n},n.parse=function(e){var t=o.TZ.parser(e,(function(e){var t=e.japanese.split("\n");return new n(t[0],t[1])}));return e.intr&&(t.intr=e.intr),e.trans&&(t.trans=e.trans),e.exv&&e.exv>0&&e.exv<4&&(t.exv=e.exv),t},n}(o.TZ),l={g1:{u_tsu_ru:"った",mu_nu_bu:"んだ",ku:"いた",gu:"いだ",su:"した",iku:"いった\n行った"},g2:{ru:"た"},g3:{suru:"した",kuru:"きた\n来た",da:"だった",aru:"あった",iru:"いた"}},u={g1:{u_tsu_ru:"って",mu_nu_bu:"んで",ku:"いて",gu:"いで",su:"して",iku:"いって\n行って"},g2:{ru:"て"},g3:{suru:"して",kuru:"きて\n来て",da:"で",aru:"あって",iru:"いて"}}},8916:(e,n,t)=>{t.d(n,{IY:()=>s,Kd:()=>l,Si:()=>c,Yg:()=>o,pK:()=>i});var r=function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},r.apply(this,arguments)},i="slick-swipe-ignore";function a(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()}function o(e,n){var t,r,i,a;return void 0===n&&(n=!1),t=e.startX-e.curX,r=e.startY-e.curY,i=Math.atan2(r,t),(a=Math.round(180*i/Math.PI))<0&&(a=360-Math.abs(a)),a<=45&&a>=0||a<=360&&a>=315?"left":a>=135&&a<=225?"right":!0===n?a>=35&&a<=135?"up":"down":"vertical"}function s(e,n){var t=void 0===n?{verticalSwiping:!1,touchThreshold:5}:n,r=t.verticalSwiping,i=t.touchThreshold;return"IMG"===e.target.tagName&&a(e),{verticalSwiping:r,touchThreshold:i,touchObject:{startX:"touches"in e?e.touches[0].pageX:e.clientX,startY:"touches"in e?e.touches[0].pageY:e.clientY,curX:"touches"in e?e.touches[0].pageX:e.clientX,curY:"touches"in e?e.touches[0].pageY:e.clientY}}}function c(e,n){var t=n.verticalSwiping,i=n.touchThreshold,s=n.swiped,c=n.swiping,l=n.touchObject,u=n.swipeEvent;l.curX="touches"in e?e.touches[0].pageX:e.clientX,l.curY="touches"in e?e.touches[0].pageY:e.clientY,l.swipeLength=Math.abs(l.curX-l.startX);var d=Math.abs(l.curY-l.startY);if(!t&&!c&&d>10)return{touchObject:l,touchThreshold:i,scrolling:!0};t&&(l.swipeLength=Math.sqrt(Math.pow(d,2)+Math.pow(l.swipeLength,2)));var f=o(n.touchObject,t),v={touchObject:l,verticalSwiping:t,touchThreshold:i,swiped:!1,swiping:!1};return!s&&u&&(u(f),v=r(r({},v),{swiped:!0})),l.swipeLength>10&&(v=r(r({},v),{swiping:!0}),a(e)),v}function l(e,n){var t,i=n.touchObject,s=n.touchThreshold,c=n.verticalSwiping,l=n.onSwipe,u=s;return i.swipeLength&&(t=o(i,c)),i.swipeLength>u&&(a(e),l&&l(t)),r({swipeDirection:t},n)}},6892:(e,n,t)=>{function r(e){for(var n,t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1));n=[e[r],e[t]],e[t]=n[0],e[r]=n[1]}return e}function i(e,n,t,r){var i=(void 0===r?{}:r).clamped,a=void 0===i||i,o=Math.min.apply(Math,[1,t]),s=a?Math.max.apply(Math,[o,0]):t;return(1-s)*e+s*n}t.d(n,{Sy:()=>r,t7:()=>i})},5965:(e,n,t)=>{t.d(n,{R$:()=>a});var r=new Error("User interrupted audio playback.",{cause:{code:"UserAborted"}}),i=new AudioContext;function a(e,n){var t=i.createBufferSource(),a=fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return i.decodeAudioData(e).then((function(e){t.buffer=e,t.connect(i.destination),t.start()}))})),o=new Promise((function(e,i){var a=function(){t.stop(),i(r)};t.addEventListener("ended",(function(){null==n||n.signal.removeEventListener("abort",a),e()})),(null==n?void 0:n.signal.aborted)&&a(),null==n||n.signal.addEventListener("abort",a)}));return Promise.all([o,a])}},2647:(e,n,t)=>{function r(){return window.localStorage}function i(){return window}t.d(n,{F:()=>r,J:()=>i})},5863:(e,n,t)=>{t.d(n,{Gd:()=>o,O5:()=>a,Ps:()=>s,lP:()=>c});var r=t(4133);function i(e,n){var t=Math.ceil(n/2);return e.length<n?e:e.slice(0,t)+"..."+e.slice(-(n-t))}function a(e){var n=e.split("T")[0],t=Date.parse(n),r=Math.abs(Date.now()-t);return Math.ceil(r/864e5)}function o(e){var n=Date.parse(e),t=Math.abs(Date.now()-n);return Math.ceil(t/6e4)}function s(e,n,t,o){var s,c,l,u=null===(s=t[n.uid])||void 0===s?void 0:s.d;if(u){var d=i(n.english,30),f=(null==o?void 0:o.frequency)?" F[w]":"",v=a(u),h=" ".concat(v-1,"d"),p=null===(c=t[n.uid])||void 0===c?void 0:c.vC,g=" ".concat(p,"v"),m=null===(l=t[n.uid])||void 0===l?void 0:l.tpAcc;e("Space Rep ["+d+"]"+f+h+g+(void 0!==m?" "+(100*m).toFixed(0)+"%":""),r.x6.DEBUG)}}function c(e,n,t,o){var s,c,l,u,d,f=null===(s=t[n.uid])||void 0===s?void 0:s.d;if(f){var v=i(n.english,30),h=(null==o?void 0:o.frequency)?" F[w]":"",p=" "+(a(f)-1)+"d",g=null===(c=t[n.uid])||void 0===c?void 0:c.tpPc,m=void 0!==g?" "+g+"v":"",b=null===(l=t[n.uid])||void 0===l?void 0:l.tpAcc,j=void 0!==b?" "+(100*b).toFixed(0)+"%":"",y=null===(u=t[n.uid])||void 0===u?void 0:u.tpCAvg;e("Timed Play ["+v+"]"+h+p+m+j+(void 0!==y?" "+(d=y,(Math.round(d)/1e3).toFixed(2)+"".replace("0.",".").replace(".00","").replace(/0$/,"")+"s"):""),r.x6.DEBUG)}}},9983:(e,n,t)=>{t.d(n,{$q:()=>K,$t:()=>R,Dm:()=>y,EL:()=>A,HG:()=>B,II:()=>F,J0:()=>O,JS:()=>W,Mm:()=>J,XQ:()=>k,YZ:()=>P,Zc:()=>N,cc:()=>j,dP:()=>q,fx:()=>E,gW:()=>U,hF:()=>Z,hY:()=>m,iz:()=>V,kf:()=>I,nD:()=>H,rU:()=>T,tq:()=>D,tu:()=>_,u3:()=>S,vr:()=>b,wG:()=>w,wO:()=>z,w_:()=>L,yT:()=>G});var r=t(5893),i=(t(7294),t(4184)),a=t.n(i),o=t(5472),s=t.n(o),c=t(4133),l=t(6892),u=t(2850),d=t(9841),f=t(5863),v=t(9815),h=t(3996),p=function(){return p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},p.apply(this,arguments)},g=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function m(e,n,t,r,i,a,o,s){var l=e&&Math.random()<1/3;if(n!==c.Lx.FREQUENCY&&l&&t.length>0){var u=t.filter((function(e){var n;return(0,f.Gd)(null===(n=i[e])||void 0===n?void 0:n.d)>t.length})),d=u.length,v=Math.floor(Math.random()*(d-0)+0),h=r.find((function(e){return u[v]===e.uid}));if(h&&a!==h.uid)return void o(h.uid)}s()}function b(e,n,t){var r;if(!(r=t?n[t[e]]:n[e]))throw new Error("No term found");return r.uid}function j(e,n){var t=n.find((function(n){return e===n.uid}));if(!t)throw new Error("No term found");return t}function y(e,n,t,r,i){void 0===t&&(t=[]);var a=n;if(e===c.Lx.FREQUENCY){if(!t)throw new TypeError("Filter type requires frequencyList");if(!i)throw new TypeError("Filter type requires toggleFilterType");t.length>0?a=r.length>0?n.filter((function(e){return t.includes(e.uid)&&x(r,e)})):n.filter((function(e){return t.includes(e.uid)})):i(c.Lx.GROUP)}else e===c.Lx.TAGS?r.length>0&&(a=n.filter((function(e){var n;return null===(n=e.tag)||void 0===n?void 0:n.some((function(e){return r.includes(e)}))}))):r.length>0&&(a=n.filter((function(e){return x(r,e)})));return a}function x(e,n){return n.grp&&e.includes(n.grp)||e.includes(n.grp+"."+n.subGrp)||void 0===n.grp&&(e.includes("undefined")||e.includes("undefined."+n.subGrp))}function w(e,n){var t=Object.keys(e).reduce((function(n,t){return g(g(g([],n,!0),[t],!1),e[t].map((function(e){return t+"."+e})),!0)}),[]);return n.reduce((function(e,n){return t.includes(n)||(e=g(g([],e,!0),[n],!1)),e}),[])}function k(e,n,t){var r=new Set(Object.keys({d:null,difficulty:null,nextReview:null,vC:null,f:null,rein:null,pron:null,tpPc:null,tpAcc:null,tpCAvg:null})),i=new Set,a=[];return Object.keys(e).forEach((function(o){Object.keys(e[o]).forEach((function(e){var s;if(!r.has(e)){var c=void 0;try{c=j(o,n)}catch(e){c={english:t}}s={key:e,uid:o,english:c.english}}void 0!==s&&(i.add(e),a=g(g([],a,!0),[s],!1))}))})),{keys:i,list:a}}function N(e){return~~(Date.now()-e)>1500}function S(e){return~~(Date.now()-e)>300}function T(e,n){var t=[],r=[],i=[],a=[],o=[];for(var c in e){var l=e[c].uid,u=n[l];if(void 0!==u)if(void 0===u.tpAcc)a=g(g([],a,!0),[{date:u.d,views:u.vC,uid:l,index:Number(c)}],!1);else if(!0===u.pron){var d=C(u.d,u.tpAcc,u.vC),f=M(u.tpPc,u.tpCAvg);r=g(g([],r,!0),[{staleness:d,correctness:f,uid:l,index:Number(c)}],!1)}else u.tpAcc>=.65?(d=C(u.d,u.tpAcc,u.vC),f=M(u.tpPc,u.tpCAvg),o=g(g([],o,!0),[{staleness:d,correctness:f,uid:l,index:Number(c)}],!1)):u.tpAcc<.65&&(d=C(u.d,u.tpAcc,u.vC),f=M(u.tpPc,u.tpCAvg),t=g(g([],t,!0),[{staleness:d,correctness:f,uid:l,index:Number(c)}],!1));else i=g(g([],i,!0),[Number(c)],!1)}var v=s()(t,["staleness","correctness","uid"],["desc","asc","asc"]),h=s()(r,["staleness","correctness","uid"],["desc","asc","asc"]),p=s()(a,["date","views","uid"],["asc","asc","asc"]),m=s()(o,["staleness","correctness","uid"],["desc","asc","asc"]),b=v.map((function(e){return e.index})),j=h.map((function(e){return e.index})),y=p.map((function(e){return e.index})),x=m.map((function(e){return e.index}));return g(g(g(g(g([],b,!0),j,!0),i,!0),y,!0),x,!0)}function C(e,n,t){void 0===t&&(t=1);var r=Number.MAX_SAFE_INTEGER;return void 0!==e&&n>0&&t>0&&(r=(0,f.O5)(e)*(1/n)*(1/t)),r}function M(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var t=Number.MIN_SAFE_INTEGER;return e>0&&n>0&&(t=e*(1/n)),t}function A(e,n){var t=[],r=[];for(var i in e){var a=e[i].uid,o=n[a];void 0!==o&&void 0!==o.d?r=g(g([],r,!0),[{date:o.d,uid:a,index:Number(i)}],!1):t=g(g([],t,!0),[Number(i)],!1)}var c=s()(r,["date","uid"],["asc","asc"]).map((function(e){return e.index}));return g(g([],t,!0),c,!0)}var P=80,R=30;function O(e,n){var t=[],r=[],i=[];for(var a in e){var o=e[a].uid,c=n[o];if(void 0!==c&&void 0!==c.difficulty){var l=Number(c.difficulty);l<P?r=g(g([],r,!0),[{difficulty:l,uid:o,index:Number(a)}],!1):i=g(g([],i,!0),[Number(a)],!1)}else t=g(g([],t,!0),[Number(a)],!1)}var u=s()(r,["difficulty","uid"],["asc","asc"]).map((function(e){return e.index}));return g(g(g([],u,!0),t,!0),i,!0)}function E(e){var n={},t=[];e.forEach((function(e,r){n[e.uid]=r,t=g(g([],t,!0),[{uid:e.uid,japanese:e.japanese,english:e.english}],!1)}));var r=[],i=[],a=[];return(t=s()(t,["japanese"],["asc"])).forEach((function(e,t){r=g(g([],r,!0),[n[e.uid]],!1),a=g(g([],a,!0),[{uid:e.uid,label:u.TZ.parse(e).getPronunciation(),idx:-1}],!1),i=g(g([],i,!0),[{uid:e.uid,label:e.english.toLowerCase(),idx:t}],!1)})),(i=s()(i,["label"],["asc"])).forEach((function(e,n){a[e.idx]=p(p({},a[e.idx]),{idx:n})})),{order:r,jOrder:a,eOrder:i}}function D(e){var n=e.map((function(e,n){return n}));return(0,l.Sy)(n),n}function L(e,n){return n[e]}function F(e,n){return e+1<n.length?e+1:0}function I(e,n){var t,r,i,a,o,s,c,l,u,f,v,h={dictionary:void 0===e?void 0:d.R.parse(e)},p=g(g([{name:"-masu",value:null===(t=h.dictionary)||void 0===t?void 0:t.masuForm()},{name:"-mashou",value:null===(r=h.dictionary)||void 0===r?void 0:r.mashouForm()},{name:"dictionary",value:h.dictionary},{name:"-nai",value:null===(i=h.dictionary)||void 0===i?void 0:i.naiForm()},{name:"-saseru",value:null===(a=h.dictionary)||void 0===a?void 0:a.saseruForm()},{name:"-te",value:null===(o=h.dictionary)||void 0===o?void 0:o.teForm()},{name:"-ta",value:null===(s=h.dictionary)||void 0===s?void 0:s.taForm()}],null!==(null===(c=h.dictionary)||void 0===c?void 0:c.chattaForm())?[{name:"-chatta",value:null===(l=h.dictionary)||void 0===l?void 0:l.chattaForm()}]:[],!0),null!==(null===(u=h.dictionary)||void 0===u?void 0:u.reruForm())?[{name:"-reru",value:null===(f=h.dictionary)||void 0===f?void 0:f.reruForm()}]:[],!0);return n&&n.length>0&&(v=n.reduce((function(e,n){var t=p.find((function(e){return e.name===n}));return void 0!==t&&(e=g(g([],e,!0),[t],!1)),e}),[])),null!=v?v:p}function q(e,n){var t=I(e).find((function(e){return e.name===n}));if(!t)throw new Error("Invalid targetForm");return t.value}function Z(e,n,t,i){var o,s,c=!e,l=[],u=!1,f=!1;n.constructor.name===d.R.name&&"isExceptionVerb"in n&&(u=n.isExceptionVerb()||3===n.getVerbClass(),f=n.isIntransitive(),s=null!==(o=n.getTransitivePair())&&void 0!==o?o:n.getIntransitivePair());var v=n.isNaAdj(),h=n.isSlang(),p=n.isKeigo();return c&&(f||s)&&(l=g(g([],l,!0),[(0,r.jsx)("span",{className:a()({clickable:s,"question-color":s}),onClick:s&&i?function(){i(s)}:void 0,children:f?"intr":"trans"},l.length+1)],!1)),c&&h&&(l=g(g([],l,!0),[(0,r.jsx)("span",{children:"slang"},l.length+1)],!1)),c&&p&&(l=g(g([],l,!0),[(0,r.jsx)("span",{children:"keigo"},l.length+1)],!1)),u&&l.length>0&&(l=g([(0,r.jsx)("span",{children:"*"},l.length+1)],l,!0)),l.length>0?(0,r.jsxs)("span",{children:[t,v&&(0,r.jsxs)("span",{className:"opacity-25",children:[" ","な"]}),(0,r.jsxs)("span",{className:"fs-5",children:[(0,r.jsx)("span",{children:" ("}),l.reduce((function(e,n,t){return t>0&&t<l.length?g(g([],e,!0),[(0,r.jsx)("span",{children:" , "},l.length+t),n],!1):g(g([],e,!0),[n],!1)}),[]),(0,r.jsx)("span",{children:")"})]})]}):u?(0,r.jsxs)("span",{children:[t,(0,r.jsxs)("span",{children:[" ","*"]})]}):v?(0,r.jsxs)("span",{children:[t,(0,r.jsxs)("span",{className:"opacity-25",children:[" ","な"]})]}):t}function G(e,n,t,i){var o,s,c=[],l=!1;n.constructor.name===d.R.name&&"isExceptionVerb"in n&&(l=n.isIntransitive(),s=null!==(o=n.getTransitivePair())&&void 0!==o?o:n.getIntransitivePair());var u=n.isSlang(),f=n.isKeigo();return e&&(l||s)&&(c=g(g([],c,!0),[(0,r.jsx)("span",{className:a()({clickable:s,"question-color":s}),onClick:s&&i?function(){i(s)}:void 0,children:l?"intr":"trans"},c.length+1)],!1)),e&&u&&(c=g(g([],c,!0),[(0,r.jsx)("span",{children:"slang"},c.length+1)],!1)),e&&f&&(c=g(g([],c,!0),[(0,r.jsx)("span",{children:"keigo"},c.length+1)],!1)),c.length>0?(0,r.jsxs)("span",{children:[t,(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{children:" ("}),c.reduce((function(e,n,t){return t>0&&t<c.length?g(g([],e,!0),[(0,r.jsx)("span",{children:" , "},c.length+t),n],!1):g(g([],e,!0),[n],!1)}),[]),(0,r.jsx)("span",{children:")"})]})]}):t}function W(e,n,t,r,i){var a,o,s,c;return e?(a=n,o=t,s=r,c=i):(a=t,o=n,s=i,c=r),{topValue:a,topLabel:s,bottomValue:o,bottomLabel:c}}function V(e){return e.grp&&""!==e.grp?(0,r.jsx)("span",{className:"hint",children:e.grp+(e.subGrp?", "+e.subGrp:"")}):void 0}function _(e){var n=e.getPronunciation().slice(1,2);return(0,v.BM)(n)?e.getHint(v.Ot,h.AG,3,2):e.getHint(v.Ot,h.AG,3,1)}function U(e){var n=e.uid;if(!n)throw console.warn(JSON.stringify(e)),new Error("Missing uid");return e.form&&(n+="dictionary"!==e.form?e.form.replace("-","."):""),n}function K(e,n,t,r){return{furigana:{show:!(n&&n[e]&&!1===n[e].f),toggle:!1===t&&r&&function(){r(e)}||void 0}}}function z(e,n,t){var r=n.signal;return new Promise((function(n,i){var a=function(){clearTimeout(s),clearInterval(o),i(new Error("Aborted"))},o="function"==typeof t?setInterval(t,200,200,e):-1,s=setTimeout((function(){null==r||r.removeEventListener("abort",a),clearInterval(o),n()}),e);(null==r?void 0:r.aborted)&&a(),null==r||r.addEventListener("abort",a)}))}function H(e,n,t,r){var i=r.signal;return new Promise((function(r,a){var o=function(){clearTimeout(s);var e=new Error("User interrupted loop.",{cause:{code:"UserAborted"}});a(e)},s=setTimeout((function(){e>0?n().then((function(){return H(e-1,n,t,{signal:i}).then((function(){null==i||i.removeEventListener("abort",o),r()}))})).catch((function(e){a(e)})):(null==i||i.removeEventListener("abort",o),r())}),t);(null==i?void 0:i.aborted)&&o(),null==i||i.addEventListener("abort",o)}))}function J(e,n,t){var r,i,a=null===(r=e.acceleration)||void 0===r?void 0:r.y,o=null===(i=e.acceleration)||void 0===i?void 0:i.z;if(null==a||null==o)throw new Error("Device does not support DeviceMotionEvent",{cause:{code:"DeviceMotionEvent"}});var s=Math.sqrt(a*a+o*o);s>n&&"function"==typeof t&&t(s)}function B(e,n){"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(n){"granted"===n&&e()})).catch(n):e()}},9815:(e,n,t)=>{t.d(n,{AF:()=>a,BE:()=>u,BM:()=>c,C5:()=>f,F8:()=>v,IE:()=>l,Ot:()=>p,Vj:()=>d,dv:()=>h,f_:()=>o,xn:()=>s});var r=t(5893),i=(t(7294),t(6954));function a(e){return new RegExp("[一-龯㐀-䶿々]").test(e)}function o(e){return new RegExp("[ぁ-ゟ]").test(e)}function s(e){return new RegExp("[゠-ヿ]").test(e)}function c(e){return new RegExp("^[ゃャゅュょョ]$").test(e)}function l(e){return new RegExp("[０-９]").test(e)}function u(e){return new RegExp("[　-〄〆-〿｡-･！-／：-＠［-｀｛-～]").test(e)}function d(e){var n=e;if(o(e)){if(r=e.codePointAt(0)){var t=r+96;n=String.fromCharCode(t)}}else if(s(e)){var r;if(r=e.codePointAt(0)){var i=r-96;n=String.fromCharCode(i)}}return n}function f(e){var n;switch(e){case"は":n="wa";break;case"には":n="niwa";break;case"を":n="o";break;case"って":n="tte";break;default:n=e.split("").map((function(e){return function(e){var n=e;if(o(e)){var t=h(e),r=t.iConsonant,a=t.iVowel;n=i.sH[r]+i.Be[a]}else if(s(e)){var c=e.codePointAt(0);if(c){var l=c-96,u=h(String.fromCharCode(l));r=u.iConsonant,a=u.iVowel,n=i.sH[r]+i.Be[a]}}return n}(e)})).join("")}return n}function v(e){var n=Number.NaN;if(l(e)){var t=e.codePointAt(0);if(t){var r=t-65249;n=Number.parseInt(String.fromCharCode(r))}}return n}function h(e){var n=i.Bw,t=n[0].length,r=n.length,a=-1,o=-1;if(" "===e||""===e)return{iConsonant:a,iVowel:o};if("ん"===e)return{iConsonant:15,iVowel:o};for(var s=0;s<t&&a<0;s++)for(var c=0;c<r;c++)if(n[c][s]===e){a=c,o=s;break}return{iConsonant:a,iVowel:o}}function p(e,n,t){return(0,r.jsxs)("span",{className:"hint",children:[(0,r.jsx)("span",{className:e.shown,children:n.slice(0,t)}),(0,r.jsx)("span",{className:e.hidden,children:n.slice(t)})]})}},3996:(e,n,t)=>{t.d(n,{AG:()=>s,je:()=>c,re:()=>u,tn:()=>l,v5:()=>d});var r=t(5893),i=t(4184),a=t.n(i),o=(t(7294),function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))});function s(e,n,t,i,a,s){void 0===s&&(s=1);var c=function(e,n){var t,r,i=e.kanjis,a=e.furiganas,s=e.okuriganas,c=e.startsWKana,l=n;return a.length>s.length?s=o(o([],s,!0),[""],!1):a.length<s.length&&(i=o(o([],i,!0),[""],!1),a=o(o([],a,!0),[""],!1)),a.reduce((function(e,n,u){var d=Math.trunc(a[u].length/i[u].length);if(l>0)if(c)if(t=s[u],r=a[u],t.length<=l){h=void 0;var f=l-=t.length;r.length<=l?(l-=r.length,h=i[u].length,f=r.length):(h=Math.ceil(l/d),l=0),e=o(o([],e,!0),[{k:h,f,o:t.length}],!1)}else e=o(o([],e,!0),[{k:0,f:0,o:l}],!1),l=0;else if(t=a[u],r=s[u],t.length<=l){l-=t.length;var v=void 0;r.length<l?(l-=r.length,v=r.length):(v=l,l=0),e=o(o([],e,!0),[{k:i[u].length,f:t.length,o:v}],!1)}else{var h=Math.ceil(l/d);e=o(o([],e,!0),[{k:h,f:l,o:0}],!1),l=0}else e=o(o([],e,!0),[{k:0,f:0,o:0}],!1);return e}),[])}({kanjis:n,furiganas:t,okuriganas:i,startsWKana:a},s);t.length>i.length?i=o(o([],i,!0),[""],!1):t.length<i.length&&(n=o(o([],n,!0),[""],!1),t=o(o([],t,!0),[""],!1));var l=function(e,n,t){return void 0===t&&(t=1),n?[(0,r.jsx)("span",{className:e,children:n},t)]:[]},u=c.map((function(r,o){return d(o,{sk:r.k>0?l(e.shown,n[o].slice(0,r.k)):[],hk:r.k<n[o].length?l(e.hidden,n[o].slice(r.k)):[]},{sf:r.f>0?l(e.shown,t[o].slice(0,r.f)):[],hf:r.f<t[o].length?l(e.hidden,t[o].slice(r.f)):[]},{so:r.o>0?l(e.shown,i[o].slice(0,r.o)):[],ho:r.o<i[o].length?l(e.hidden,i[o].slice(r.o)):[]},a)}));return(0,r.jsx)("span",{className:"hint",children:u})}function c(e){var n=e.kanjis,t=e.furiganas,r=e.okuriganas;return t.length>r.length?r=o(o([],r,!0),[""],!1):t.length<r.length&&(n=o(o([],n,!0),[""],!1),t=o(o([],t,!0),[""],!1)),t.map((function(e,i){return{k:n[i].length,f:t[i].length,o:r[i].length}}))}function l(e,n,t,i){var a=e.kanjis,s=e.furiganas,l=e.okuriganas,u=e.startsWKana;void 0===i&&(i=t+1);var f=n.shown,v=n.hidden,h=function(e,n,t){var r=e.kanjis,i=e.furiganas,a=e.okuriganas,s=e.startsWKana;void 0===t&&(t=n+1);var l=t-n;i.length>a.length?a=o(o([],a,!0),[""],!1):i.length<a.length&&(r=o(o([],r,!0),[""],!1),i=o(o([],i,!0),[""],!1));var u=c({kanjis:r,furiganas:i,okuriganas:a,startsWKana:s}),d=[0];return u.map((function(e,r){var i=e.k,a=e.o,c=0,u=0;if(d=o(o([],d,!0),[d[r]+i+a],!1),s){if(d[r]+a>n)if(d[r]+a<t){var f=n-(d[r]+a);u=Math.min.apply(Math,[a,Math.abs(f)]),l-=u}else u=l,l=0;d[r]+a+i>n&&(d[r]+a+i<t?(f=n-(d[r]+a+i),c=Math.min.apply(Math,[i,Math.abs(f)]),l-=c):(c=l,l=0))}else d[r]+i>n&&(d[r]+i<t?(f=n-(d[r]+i),c=Math.min.apply(Math,[i,Math.abs(f)]),l-=c):(c=l,l=0)),d[r]+i+a>n&&(d[r]+i+a<t?(f=n-(d[r]+i+a),u=Math.min.apply(Math,[a,Math.abs(f)]),l-=u):(u=l,l=0));return{k:c,f:0,o:u}}))}({kanjis:a,furiganas:s,okuriganas:l,startsWKana:u},t,i);s.length>l.length?l=o(o([],l,!0),[""],!1):s.length<l.length&&(a=o(o([],a,!0),[""],!1),s=o(o([],s,!0),[""],!1));var p=function(e,n,t){return void 0===t&&(t=1),n?[(0,r.jsx)("span",{className:e,children:n},t)]:[]},g=function(e,n,r,i){var a=[],s=[],c=e.length;if(c>0)if(0===n)s=p(f,e);else if(n===c)a=p(v,e),r-=c;else if(n<c)if(r<n)a=p(v,e.slice(0,n)),s=p(f,e.slice(n-c)),r=0;else if(r===n){var l=i,u=t-l,d=u+r,h=p(f,e.slice(0,u),l+1),g=p(v,e.slice(u,d),l+2),m=p(f,e.slice(d,c),l+3);s=o(o(o([],h,!0),g,!0),m,!0),r=0}else r>n&&(s=p(f,e.slice(0,n)),a=p(v,e.slice(n-c)),r-=n);return{s,h:a,spliceLen:r}},m=i-t,b=[0],j=h.map((function(e,n){var t,r,i,c,v=a[n].length,h=l[n].length;b=o(o([],b,!0),[b[n]+h+v],!1),i=(t=g(a[n],e.k,m,b[n]+(u?h:0))).s,c=t.h,m=t.spliceLen;var j,y,x=p(f,s[n]);return j=(r=g(l[n],e.o,m,b[n]+(u?0:v))).s,y=r.h,m=r.spliceLen,d(n,{sk:i,hk:c},{sf:x,hf:[]},{so:j,ho:y},u)}));return(0,r.jsx)("span",{className:"decorated",children:j})}function u(e,n,t){return void 0===t&&(t=1),e?[(0,r.jsx)("span",{className:n,children:e},t)]:[]}function d(e,n,t,i,o){var s=n.sk,c=n.hk,l=t.sf,u=t.hf,d=i.so,f=i.ho,v=s.length>0||c.length>0,h=l.length>0||u.length>0,p=d.length>0||f.length>0,g=v&&h&&(0,r.jsxs)("ruby",{children:[s,c,(0,r.jsxs)("rt",{children:[l,u]})]})||void 0,m=p&&(0,r.jsxs)("span",{children:[d,f]})||void 0,b=o?m:g,j=o?g:m,y=a()({"lh-furigana":v&&h})||void 0;return(b||j)&&(0,r.jsxs)("span",{className:y,children:[b,j]},e)||void 0}},3859:(e,n,t)=>{t.d(n,{JW:()=>l,xr:()=>u});var r=t(5741),i=t(2647),a=function(){return a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},a.apply(this,arguments)},o=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function s(e,n){if(1===n.length)return e[n[0]];var t=n[0],r=n.slice(1);return s(e[t],r)}function c(e,n,t){var r,i;if(1===n.length){var o=n[0];return a(a({},e),((r={})[o]=t,r))}var s=n[0],l=n.slice(1);return a(a({},e),((i={})[s]=c(e[s]||{},l,t),i))}function l(e,n,t,l,d){var f=u(r._)||{},v=o(o([],t.split("/").filter((function(e){return""!==e})),!0),[l],!1);void 0===d&&(d=!s(n,v));var h=c(a({},f),v,d),p=s(h,v);return function(e,n){try{(0,i.F)().setItem(e,JSON.stringify(n))}catch(e){console.log("setLocalStorage failed"),console.error(e)}}(r._,a(a({},h),{lastModified:e})),p}function u(e){var n;try{var t=(0,i.F)().getItem(e),r=void 0;try{t&&(r=JSON.parse(t))}catch(e){console.error("localStore parse failed"),console.error(e)}"object"!=typeof r||Array.isArray(r)||null===r||(n=r)}catch(e){console.error("localStore getItem failed"),console.error(e)}return n}},5439:(e,n,t)=>{function r(e,n,t){void 0===n&&(n="Nmemonica App"),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:n,album:t,artwork:[{src:"icon192.png",sizes:"192x192",type:"image/png"},{src:"icon512.png",sizes:"512x512",type:"image/png"}]}))}function i(e){if("mediaSession"in navigator){var n=navigator.mediaSession;try{n.playbackState=e}catch(e){console.error(e)}}else console.error("mediaSession not available")}function a(e){if("mediaSession"in navigator){var n=navigator.mediaSession;try{for(var t=0,r=e;t<r.length;t++){var i=r[t],a=i[0],o=i[1];try{n.setActionHandler(a,o)}catch(e){console.error(e)}}}catch(e){console.error(e)}}else console.error("mediaSession not available")}function o(){if("mediaSession"in navigator){var e=navigator.mediaSession;try{e.metadata=null,e.playbackState="none",navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("stop",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null)}catch(e){console.error(e)}}else console.error("mediaSession not available")}t.d(n,{$T:()=>r,CU:()=>o,aw:()=>a,gI:()=>i})},1059:(e,n,t)=>{t.d(n,{MS:()=>a,by:()=>o,fh:()=>s});var r=function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},r.apply(this,arguments)},i=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function a(e){var n={},t=Object.keys(e).map((function(t){var i=e[t].trans;return i&&(n[i]={intr:t,trans:e[t].trans}),r(r({},e[t]),{uid:t})}));return t.map((function(e){return n[e.uid]?r(r({},e),{intr:n[e.uid].intr}):e}))}function o(e){var n="grp",t="subGrp";return Object.values(e).reduce((function(e,a){var o,s,c;return a[n]?e[a[n]]?a[t]&&!e[a[n]].includes(a[t])?r(r({},e),((o={})[a[n]]=i(i([],e[a[n]],!0),[a[t]],!1),o)):e:a[t]?r(r({},e),((s={})[a[n]]=[a[t]],s)):r(r({},e),((c={})[a[n]]=[],c)):r({},e)}),{})}function s(e){var n="tag",t=[];return Object.values(e).forEach((function(e){e[n]&&e[n].length>0&&(t=i(i([],t,!0),e[n],!0))})),Array.from(new Set(t))}},7962:(e,n,t)=>{function r(e,n){for(var t=e.includes("?")?e.split("?"):[e,""],r=t[0],i=t[1],a=new URLSearchParams(i),o=0,s=Object.entries(n);o<s.length;o++){var c=s[o],l=c[0],u=c[1];void 0!==u&&a.append(l,u)}return[r,a.toString()].join("?")}t.d(n,{b1:()=>r})},8670:(e,n,t)=>{t.d(n,{cM:()=>c,iP:()=>o,kP:()=>s,oU:()=>a});var r=t(7294),i=t(2647);function a(){var e=(0,r.useState)(!0),n=e[0],t=e[1];return function(){return t(!n)}}function o(){var e=(0,r.useState)({width:void 0,height:void 0}),n=e[0],t=e[1];return(0,r.useEffect)((function(){var e=(0,i.J)();function n(){t({width:e.innerWidth,height:e.innerHeight})}return e.addEventListener("resize",n),n(),function(){return e.removeEventListener("resize",n)}}),[]),n}function s(e,n){return function(){(n||"function"==typeof n)&&e(n)}}function c(e,n,t){return function(r){e(t?n(t):r instanceof Object&&"_reactName"in r?n():r?n(r):n())}}},6278:(e,n,t)=>{t.d(n,{R:()=>a});var r=t(7294),i=t(743);function a(){var e=(0,i.v9)((function(e){return e.global.swipeThreshold})),n=(0,i.v9)((function(e){return e.kanji}),(function(e,n){return e.version===n.version})).value,t=(0,i.v9)((function(e){return e.vocabulary}),(function(e,n){return e.version===n.version})).value,a=(0,i.v9)((function(e){return e.kanji.setting}),(function(e,n){return e.repTID===n.repTID})).repetition,o=(0,i.v9)((function(e){var n=e.kanji.setting;return[n.reinforce,n.filter,n.choiceN]}),i.wU),s=o[0],c=o[1],l=o[2],u=(0,i.v9)((function(e){return e.kanji.setting.activeTags}),i.wU),d=(0,r.useRef)(s);d.current=s;var f=(0,r.useRef)(c);return f.current=c,{repetition:a,swipeThreshold:e,kanjiList:n,vocabList:t,activeTags:u,choiceN:l,reinforce:d,filterType:f}}},5507:(e,n,t)=>{t.d(n,{Eh:()=>i,JP:()=>a,nF:()=>o});var r=t(743);function i(){var e=(0,r.v9)((function(e){var n=e.global;return[n.darkMode,n.swipeThreshold,n.motionThreshold,n.debug]}),r.wU),n=e[0],t=e[1],i=e[2],a=e[3],o=(0,r.v9)((function(e){return e.global.memory}),(function(e,n){return e.usage===n.usage})),s=(0,r.v9)((function(e){var n=e.kanji.setting;return[n.choiceN,n.filter,n.reinforce,n.activeTags]}),r.wU),c=s[0],l=s[1],u=s[2],d=s[3],f=(0,r.v9)((function(e){var n=e.opposite;return[n.qRomaji,n.aRomaji]}),r.wU),v=f[0],h=f[1],p=(0,r.v9)((function(e){var n=e.kana.setting;return[n.choiceN,n.wideMode,n.easyMode,n.charSet]}),r.wU),g=p[0],m=p[1],b=p[2],j=p[3],y=(0,r.v9)((function(e){return e.particle.setting.aRomaji})),x=(0,r.v9)((function(e){return e.vocabulary}),(function(e,n){return e.version===n.version})).value,w=(0,r.v9)((function(e){return e.vocabulary.setting}),(function(e,n){return e.repTID===n.repTID})).repetition,k=(0,r.v9)((function(e){return e.phrases}),(function(e,n){return e.version===n.version})).value,N=(0,r.v9)((function(e){return e.phrases.setting}),(function(e,n){return e.repTID===n.repTID})).repetition,S=(0,r.v9)((function(e){return e.kanji}),(function(e,n){return e.version===n.version})).value,T=(0,r.v9)((function(e){return e.kanji.tagObj}),r.wU),C=(0,r.v9)((function(e){return e.kanji.setting}),(function(e,n){return e.repTID===n.repTID})).repetition;return{darkMode:n,swipeThreshold:t,motionThreshold:i,memory:o,debug:a,kanjiChoiceN:c,kanjiFilter:l,kanjiReinforce:u,kanjiActiveTags:d,oppositesQRomaji:v,oppositesARomaji:h,choiceN:g,wideMode:m,easyMode:b,charSet:j,particlesARomaji:y,vocabList:x,kanjiTagObj:T,phraseList:k,KanjiList:S,vocabMeta:w,phraseMeta:N,kanjiMeta:C}}function a(){var e=(0,r.v9)((function(e){return{phrases:e.phrases}})).phrases,n=e.setting,t=n.ordered,i=n.romaji,a=n.reinforce,o=n.activeGroup,s=n.filter,c=n.repetition;return{phrases:e.value,phraseGroups:e.grpObj,phraseOrder:t,phraseRomaji:i,phraseReinforce:a,phraseActive:o,phraseFilter:s,phraseRep:c}}function o(){var e=(0,r.v9)((function(e){return{vocabulary:e.vocabulary}})).vocabulary,n=e.setting,t=n.ordered,i=n.romaji,a=n.bareKanji,o=n.hintEnabled,s=n.activeGroup,c=n.autoVerbView,l=n.verbColSplit,u=n.filter,d=n.memoThreshold,f=n.repetition,v=n.reinforce,h=n.verbFormsOrder;return{vocabulary:e.value,vocabGroups:e.grpObj,vocabOrder:t,vocabRomaji:i,showBareKanji:a,vocabHint:o,vocabActive:s,autoVerbView:c,verbColSplit:l,vocabFilter:u,memoThreshold:d,vocabRep:f,vocabReinforce:v,verbFormsOrder:h}}},8218:(e,n,t)=>{t.d(n,{E:()=>i});var r=t(9983);function i(e){return function(n){var t=function(t){try{(0,r.Mm)(t,e,n)}catch(e){Error}};return{addDeviceMotionEvent:function(){e>0&&(0,r.HG)((function(){window.addEventListener("devicemotion",t)}),(function(){}))},removeDeviceMotionEvent:function(){e>0&&window.removeEventListener("devicemotion",t)}}}}},9226:(e,n,t)=>{t.d(n,{q:()=>i});var r=t(7294);function i(e,n,t){(0,r.useEffect)((function(){var r=function(e,n,t){return function(r){for(var i=function(n,i){if(n===r.key){var a=i;return" "!==n&&"function"==typeof t&&(a=t({ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"}[n]||"",(function(n){n?e(n):i()}))),a(),"break"}},a=0,o=[["ArrowRight",function(){return e("left")}],["ArrowLeft",function(){return e("right")}],["ArrowUp",function(){return e("up")}],["ArrowDown",function(){return e("down")}],[" ",n]];a<o.length;a++){var s=o[a];if("break"===i(s[0],s[1]))break}}}(e,n,t);return document.addEventListener("keydown",r,!0),function(){document.removeEventListener("keydown",r,!0)}}),[e,n,t])}},3518:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(7294),i=t(5439);function a(e,n,t,a,o){(0,r.useEffect)((function(){(0,i.$T)(e);var r=[["play",function(){n&&(t(),(0,i.gI)("playing"))}],["pause",function(){n&&(a(),(0,i.gI)("paused"))}],["stop",function(){n&&(a(),(0,i.gI)("paused"))}],["previoustrack",function(){n&&(a(),o("right"))}],["nexttrack",function(){n&&(a(),o("left"))}]];return(0,i.aw)(r),function(){(0,i.CU)()}}),[e,n,t,a,o])}},6693:(e,n,t)=>{t.d(n,{M:()=>s});var r=t(7294),i=t(743),a=t(8916),o=function(){return o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},o.apply(this,arguments)};function s(e,n){var t=(0,i.v9)((function(e){return e.global.swipeThreshold})),s=(0,r.useRef)({}),c=(0,r.useRef)(null);return(0,r.useEffect)((function(){var r=function(e,n){return function(t){n.current=(0,a.IY)(t,{verticalSwiping:!0,touchThreshold:e})}}(t,s),i=function(e){return function(n){e.current&&(e.current=(0,a.Si)(n,e.current))}}(s),l=function(e,n,t,r){return function(i){var s,c=t,l=i.target,u=Array.from(document.getElementsByClassName("loop-stop-btn")).some((function(e){return e.contains(l)})),d=Array.from(document.getElementsByClassName("loop-no-interrupt")).some((function(e){return e.contains(l)})),f=void 0===(null===(s=e.current.touchObject)||void 0===s?void 0:s.swipeLength)||e.current.touchObject.swipeLength<e.current.touchThreshold;if(!(u||d&&f)){var v=(0,a.Yg)(e.current.touchObject,!0);"function"==typeof r&&(c=r(v,t)),n(i,o(o({},e.current),{onSwipe:c}))}}}(s,a.Kd,e,n);c.current&&(c.current.addEventListener("touchstart",r),c.current.addEventListener("touchmove",i),c.current.addEventListener("touchend",l));var u=c.current;return function(){null==u||u.removeEventListener("touchstart",r),null==u||u.removeEventListener("touchmove",i),null==u||u.removeEventListener("touchend",l)}}),[s,t,e,n]),{HTMLDivElementSwipeRef:c}}},6281:(e,n,t)=>{t.d(n,{T:()=>w});var r=t(5893),i=t(7294),a=t(4184),o=t.n(a),s=t(5697),c=t.n(s),l=t(5529),u=t(7625),d=t(6024),f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},f.apply(this,arguments)};function v(e){return e.visible?null:(0,r.jsxs)("div",{className:"loop-btn loop-setting-btn clickable","aria-label":"Loop repeat settings button",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},children:[(0,r.jsx)(l.reW,{className:o()({"rotate-135":!0,"disabled-color":!e.active}),size:"small"}),e.active&&(0,r.jsx)("span",{className:"notification",children:e.loop})]})}function h(e){var n=e.className;return e.visible?null:(0,r.jsxs)("div",{className:o()(f({"loop-btn loop-start-btn clickable":!0},n||{})),"aria-label":"Loop start button",children:[(0,r.jsx)(u.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:d.aQ}),null!=e.countDown&&(0,r.jsx)("span",{className:"notification",children:e.countDown})]})}function p(e){var n=e.className;return e.visible?null:(0,r.jsx)("div",{className:o()(f({"loop-btn loop-stop-btn clickable":!0},n||{})),"aria-label":"Loop stop button",children:(0,r.jsx)(u.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:d.oD})})}v.propTypes={visible:c().bool,active:c().bool,loop:c().number,onClick:c().func},h.propTypes={visible:c().bool,onClick:c().func,className:c().object,countDown:c().number},p.propTypes={visible:c().bool,onClick:c().func,className:c().object};var g=t(2405),m=t(9983),b=t(5439),j=t(7891),y=t(8670),x=15e3;function w(e,n,t){var a,o=(0,i.useRef)(void 0),s=(0,i.useRef)(null),c=(0,i.useState)(0),l=c[0],u=c[1],d=(0,i.useState)(x/1e3),f=d[0],w=d[1],N=(0,i.useRef)(void 0),S=(0,i.useState)(null),T=S[0],C=S[1],M=(0,i.useRef)(void 0),A=(0,i.useRef)(void 0),P=(0,i.useState)(void 0),R=P[0],O=P[1];(0,i.useEffect)((function(){var e=o;return function(){var n;null===(n=e.current)||void 0===n||n.forEach((function(e){return e.abort()}))}}),[]);var E,D=(0,y.oU)();0===l?E=null:0===(null===(a=o.current)||void 0===a?void 0:a.length)?E=(0,r.jsx)(p,{}):void 0===o.current?E=(0,r.jsx)(h,{countDown:Array.isArray(s.current)?f:void 0,onClick:function(){if(Array.isArray(o.current));else{if(Array.isArray(s.current)){var e=s.current[0];clearInterval(e),w(x/1e3)}N.current=void 0,O(void 0),o.current=[],setTimeout(F,100),D()}}}):void 0!==o.current&&(E=(0,r.jsx)(p,{onClick:function(){I(),G(),u(0)}}));var L=(0,r.jsx)(v,{active:l>0,loop:l,onClick:function(){var e=I();s.current=null,e&&k(T,C),u((function(e){var n=3===e;return N.current=n?void 0:N.current,n?0:e+1}))}});function F(){I();var e,r,i,a=new AbortController,s=new AbortController,c=new AbortController,d=new AbortController,f=new AbortController;if("function"==typeof t){var v=t((function(){void 0!==M&&(I(),G(),u(0))})),h=v.addDeviceMotionEvent,p=v.removeDeviceMotionEvent;h(),e=p}o.current=[a,s,c,d,f],n?(r=function(e){return q("down",e)},i=function(e){return(0,m.nD)(l,(function(){return q("up",e)}),1500,e)}):(r=function(e){return q("up",e)},i=function(e){return(0,m.nD)(l,(function(){return q("down",e)}),1500,e)});var g=function(e,n){C((function(t){return null===t||100-t<1?e/n*100:t+e/n*100}))};(0,m.wO)(700,a).then((function(){return M.current=Date.now(),r(s).catch((function(e){var n;if("UserAborted"===(null===(n=e.cause)||void 0===n?void 0:n.code))throw e}))})).then((function(){return(0,m.wO)(3e3,c,g)})).then((function(){return C(null),M.current=void 0,i(d).then((function(){return o.current=void 0,q("left")})).catch((function(e){var n;if("UserAborted"!==(null===(n=e.cause)||void 0===n?void 0:n.code))return o.current=void 0,q("left")}))})).then((function(){return(0,m.wO)(100,f)})).catch((function(){})).then((function(){"function"==typeof e&&e()}))}var I=(0,i.useCallback)((function(){var e,n=!1;return null===(e=o.current)||void 0===e||e.forEach((function(e){n=!0,e.abort()})),o.current=void 0,n}),[o]);function q(n,t){var r;return l>0&&(r=e(n,t)),r||Promise.reject("loop disabled")}function Z(){var e;if(void 0!==M.current){var n=M.current;e=Math.abs(Date.now()-n)}return{tpElapsed:e}}function G(){var e,n=!1;return l>0&&void 0===o.current&&(null===(e=s.current)||void 0===e||e.forEach((function(e){clearTimeout(e)})),s.current=null,w(x/1e3),N.current=void 0,O(void 0),M.current=void 0,A.current=void 0,C(null),n=!0),n}return{beginLoop:F,abortLoop:I,looperSwipe:q,gradeTimedPlayEvent:function(e,n,t){var r;if(l>0&&void 0!==N.current)if("reset"===R)!0===(null===(r=t[n])||void 0===r?void 0:r.pron)&&void 0!==A.current&&e((0,j.Gy)(n,A.current,{pronunciation:void 0}));else if(!0===N.current)void 0!==A.current&&e((0,j.Gy)(n,A.current));else{var i={pronunciation:"pronunciation"===R||void 0};e((0,j.d1)(n,i))}},resetTimedPlay:G,loopSettingBtn:L,loopActionBtn:E,timedPlayVerifyBtn:function(e){return(0,r.jsx)(g.lh,{visible:void 0!==N.current,hover:R,prevMissPronu:e,onPronunciation:function(){e?(N.current=!1,O((function(e){return"reset"===e?void 0:"reset"}))):(N.current=!1,O((function(e){return"pronunciation"===e?void 0:"pronunciation"})))},onIncorrect:function(){N.current=!1,O((function(e){return"incorrect"===e?void 0:"incorrect"}))},onReset:function(){N.current=!1,O((function(e){return"reset"===e?void 0:"reset"}))}})},timedPlayAnswerHandlerWrapper:function(e,t){if(0===l)return t;var r=t;if("up"===e||"down"===e){var i=n?"up":"down";r=function(e){return t(i)}}var a=function(e,n,t,r,i,a,o,s,c,l,u,d){var f=n,v=function(){},h=function(){return k(r,i)};if(c()){var p=null===r&&void 0!==s.current,g=null!==r&&void 0!==s.current,m=null===r&&void 0===s.current;if("up"===e||"down"===e){var j=l();d.current=j.tpElapsed,u.current=!0,p?(h=v,u.current=void 0,setTimeout((function(){u.current=!0}),1500),i(0),setTimeout((function(){i(null)}),1500)):g||m&&(u.current=!1,f=v,h=v)}else{m&&(h=v);var y=function(e,n){var t=setInterval((function(){n((function(n){var r=1===n;return e((function(e){return r?0:e})),r&&clearTimeout(t),r?x/1e3:n-1}))}),1e3);return t}(t,a);o.current=[y]}h(),(0,b.gI)("paused")}return f}(e,r,u,T,C,w,s,M,I,Z,N,A);return a},loop:l,setLoop:u,tpAnimation:T,tpAnswered:N}}function k(e,n){null!==e&&setTimeout((function(){n(0),setTimeout((function(){n((function(e){return 0===e?null:e}))}),1e3)}),1500)}},5707:(e,n,t)=>{var r=t(5893),i=t(7294),a=t(745),o=t(743),s=t(9829),c=t(1659),l=t(8673),u=t(9385),d=t(7652),f=t(7186),v=(0,s.hg)("version/getVersions",(function(){return e=void 0,n=void 0,r=function(){return function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,fetch(f.qe.databaseURL+"/lambda/cache.json").then((function(e){return e.json()}))]}))},new((t=void 0)||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}));var e,n,t,r}));const h=(0,s.oM)({name:"version",initialState:{vocabulary:void 0,phrases:void 0,kanji:void 0,opposites:void 0,particles:void 0,suffixes:void 0},reducers:{},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,n){return n.payload}))}}).reducer;var p=t(7891),g=t(5665),m=(0,s.hg)("serviceWorker/serviceWorkerRegistered",(function(){return e=void 0,n=void 0,r=function(){return function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return"serviceWorker"in navigator?[2,navigator.serviceWorker.register("sw.js").then((function(e){var n;return null===(n=e.active)||void 0===n?void 0:n.state}))]:[2,Promise.reject("No Service Worker")]}))},new((t=void 0)||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}));var e,n,t,r})),b=(0,s.oM)({name:"serviceWorker",initialState:{registered:!1},reducers:{serviceWorkerNewTermsAdded:function(e,n){var t=n.payload.newestWords;for(var r in t){var i=t[r],a=i.freq;i.dic,g.jP,"phrases"===r&&g.kh,console.warn("serviceWorkerNewTermsAdded Disabled"),console.warn(a.length+" new "+r)}}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e){e.registered=!0}))}});b.actions.serviceWorkerNewTermsAdded;const j=b.reducer;var y=t(7988),x=t(8056),w=(0,s.xC)({reducer:{global:x.ZP,sw:j,version:h,kana:c.ZP,vocabulary:p.ZP,opposite:u.ZP,phrases:d.ZP,kanji:l.ZP,particle:y.ZP}}),k=t(4184),N=t.n(k),S=t(9655),T=t(6335),C=t(5697),M=t.n(C),A=t(4133),P=function(){return P=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},P.apply(this,arguments)},R=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};function O(e){var n=[],t=0;return e.forEach((function(r,i){if(i>0&&r.msg===e[i-1].msg)t++;else if(t>0){var a=n.slice(0,-1),o=n.slice(-1)[0];n=R(R([],a,!0),[P(P({},o),{msg:"".concat(o.msg," ").concat(t+1," +")}),r],!1),t=0}else n=R(R([],n,!0),[r],!1)})),n}function E(e){var n=!0===e.connected,t=(0,o.v9)((function(t){var r=t.global;return!n&&e.messages?A.x6.DEBUG:r.debug})),a=(0,o.v9)((function(t){var r=t.global;return!n&&e.messages?e.messages:r.console}),o.wU),s=(0,i.useState)(6),c=s[0],l=s[1],u=(0,i.useState)(0),d=u[0],f=u[1],v=(0,i.useState)(O(a)),h=v[0],p=v[1],g=(0,i.useRef)();(0,i.useMemo)((function(){if(t===A.x6.OFF)f(0),p([]);else{var e=O(a);if(f(0),p(e),l(6),void 0!==g.current&&clearTimeout(g.current),n){var r=setTimeout((function(){l(3),g.current=void 0}),3e3);g.current=Number(r)}}}),[n,t,a]);var m=-c-d,b=d>0?-1*d:void 0,j=h.slice(m,b),y=(0,i.useCallback)((function(){var e=h.length-c>-1?h.length-c:0;if(d<e){l(6),f((function(e){return e+1})),void 0!==g.current&&clearTimeout(g.current);var n=setTimeout((function(){l(3),f(0),g.current=void 0}),1e4);g.current=Number(n)}}),[c,d,h]);return(0,r.jsx)("div",{className:N()({"console p-1":!0,"position-absolute":!0===e.connected,"mw-50":!0===e.connected}),children:j.map((function(e,n){var t,i=N()(P(P({"app-sm-fs-xx-small":!0},e.css?((t={})[e.css]=!0,t):{}),{"correct-color":e.lvl===A.x6.DEBUG,"question-color":e.lvl===A.x6.WARN,"incorrect-color":e.lvl===A.x6.ERROR}));return(0,r.jsx)("div",{className:i,onClick:y,children:e.msg},"".concat(e.msg," ").concat(e.lvl))}))})}E.propTypes={connected:M().bool,messages:M().array};var D=t(8012),L=t(4766),F=t(1540),I=t(4921),q=t(1436),Z=t(7625),G=t(9983),W=t(8670),V=t(8859),_=t(6291),U=t(985),K=t(7885),z=t(4460),H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},H.apply(this,arguments)};function J(){var e=(0,o.I0)(),n=(0,o.v9)((function(e){return e.kana.setting.charSet})),t=(0,i.useState)(!0),a=t[0],s=t[1],l=(0,i.useState)(0),u=l[0],d=l[1],f=(0,i.useState)(0),v=f[0],h=f[1],p=(0,i.useCallback)((function(){a?(s(!1),document.body.classList.add("no-scroll"),window.scrollTo(0,0)):(s(!0),document.body.classList.remove("no-scroll"))}),[a]),g=(0,i.useCallback)((function(e){if(e.target){var n=e.target;if(Array.from(document.getElementsByClassName("force-collapse")).includes(n))p();else if(!Array.from(document.getElementsByClassName("prevent-collapse")).includes(n))return p(),!1}}),[p]),m=(0,i.useMemo)((function(){return[{meta:H(H({},V.KanaGameMeta),{label:(0,G.w_)(n,V.KanaGameMeta.label)}),icon:(0,r.jsx)("div",{className:"not-a-real-icon",children:(0,G.w_)(n,["あ","ア","*"])}),wrap:function(n){return(0,r.jsx)("div",{className:"clickable prevent-collapse",onClick:(0,W.cM)(e,c.I_),children:n})}},{meta:F.OppositesGameMeta,icon:(0,r.jsx)(Z.G,{icon:q.ejD,size:"2x"})},{meta:[z.VocabularyMeta,U.PhrasesMeta][u],icon:(0,r.jsx)(Z.G,{icon:q.yGG,size:"2x"}),wrap:function(e){return(0,r.jsx)("div",{className:"clickable prevent-collapse",onClick:(0,W.kP)(d,(function(e){return(0,G.II)(e,["Vocab","Phrases"])})),children:e})}},{meta:I.ParticlesGameMeta,icon:(0,r.jsx)(Z.G,{icon:q._zQ,size:"2x"})},{meta:[_.KanjiMeta,D.KanjiGameMeta][v],icon:(0,r.jsx)("div",{className:"not-a-real-icon",children:(0,G.w_)(v,["漢","G"])}),wrap:function(e){return(0,r.jsx)("div",{className:"clickable prevent-collapse",onClick:(0,W.kP)(h,(function(e){return(0,G.II)(e,["Kanji","KanjiGame"])})),children:e})}},{meta:K.SettingsMeta,icon:(0,r.jsx)(Z.G,{icon:q.klh,size:"2x"})}]}),[e,n,v,u]);return(0,r.jsx)("div",{className:"navigation",children:(0,r.jsxs)("nav",{className:"my-navbar",children:[(0,r.jsx)(S.rU,{"aria-label":"Home",to:"/"}),(0,r.jsx)("div",{className:"button d-lg-none mt-2 me-2",onClick:p,children:(0,r.jsxs)("button",{className:N()({"nav-menu-btn":!0,collapsed:a}),type:"button","aria-controls":"nav-menu-mobile","aria-expanded":"false","aria-label":"Toggle mobile navigation",children:[(0,r.jsx)("span",{className:"nav-btn-line"}),(0,r.jsx)("span",{className:"nav-btn-line"}),(0,r.jsx)("span",{className:"nav-btn-line"})]})}),(0,r.jsx)("div",{className:N()({"mobile d-lg-none":!0,collapse:a}),id:"nav-menu-mobile",onClick:g,children:(0,r.jsx)("ul",{className:"w-100 d-flex justify-content-evenly flex-wrap p-4",children:m.map((function(e,n){return(0,r.jsxs)("li",{className:"w-25 text-center m-3",children:[(0,r.jsx)(S.rU,{to:e.meta.location,children:(0,r.jsx)("div",{className:"icon force-collapse mb-2",children:e.icon})}),(0,r.jsx)("div",{className:"caption",children:e.wrap?e.wrap(e.meta.label):e.meta.label})]},n)}))})}),(0,r.jsx)("div",{className:"desktop d-none d-lg-block pt-2 pe-2",children:(0,r.jsx)("ul",{className:"d-flex",children:m.map((function(e,n){return(0,r.jsx)("li",{children:(0,r.jsx)(S.rU,{className:"desktop-link",to:e.meta.location,children:e.wrap?e.wrap(e.meta.label):e.meta.label})},n)}))})})]})})}var B=(0,i.lazy)((function(){return t.e(237).then(t.bind(t,8237))})),Y=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,985))})),X=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,4460))})),Q=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,1540))})),$=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,8859))})),ee=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,6291))})),ne=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,8012))})),te=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,4766))})),re=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,4921))})),ie=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,7885))})),ae=document.querySelector("#app-container");(0,a.s)(ae).render((0,r.jsx)(i.StrictMode,{children:(0,r.jsx)(o.zt,{store:w,children:(0,r.jsx)((function(){var e=(0,o.I0)();(0,i.useEffect)((function(){e(v()),e((0,x.gK)()),e(m()).then((function(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(n){var t=n.data;t.type===g.L6&&e((0,x.kg)(t.msg,t.lvl,g.L6))}))}))}),[]);var n=(0,o.v9)((function(e){return e.global.darkMode})),t=N()({"d-flex flex-column":!0,"dark-mode":n});return(0,r.jsx)(S.UT,{basename:"/",children:(0,r.jsxs)("div",{id:"page-content",className:t,children:[(0,r.jsx)(E,{connected:!0}),(0,r.jsx)(J,{}),(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{}),children:(0,r.jsxs)(T.Z5,{children:[(0,r.jsx)(T.AW,{path:"/",element:(0,r.jsx)(X,{})}),(0,r.jsx)(T.AW,{path:U.PhrasesMeta.location,element:(0,r.jsx)(Y,{})}),(0,r.jsx)(T.AW,{path:z.VocabularyMeta.location,element:(0,r.jsx)(X,{})}),(0,r.jsx)(T.AW,{path:F.OppositesGameMeta.location,element:(0,r.jsx)(Q,{})}),(0,r.jsx)(T.AW,{path:V.KanaGameMeta.location,element:(0,r.jsx)($,{})}),(0,r.jsx)(T.AW,{path:_.KanjiMeta.location,element:(0,r.jsx)(ee,{})}),(0,r.jsx)(T.AW,{path:D.KanjiGameMeta.location,element:(0,r.jsx)(ne,{})}),(0,r.jsx)(T.AW,{path:L.KanjiGridMeta.location,element:(0,r.jsx)(te,{})}),(0,r.jsx)(T.AW,{path:I.ParticlesGameMeta.location,element:(0,r.jsx)(re,{})}),(0,r.jsx)(T.AW,{path:K.SettingsMeta.location,element:(0,r.jsx)(ie,{})}),(0,r.jsx)(T.AW,{path:"*",element:(0,r.jsx)(B,{})})]})})]})})}),{})})}))},8056:(e,n,t)=>{t.d(n,{zA:()=>R,ZP:()=>E,M4:()=>N,gK:()=>T,kg:()=>O,cv:()=>A,TJ:()=>S,nh:()=>P,In:()=>M});var r=t(9829),i=t(4613),a=t.n(i),o=t(5741),s=t(3859),c=t(4133);function l(){if("storage"in navigator&&"persist"in navigator.storage)return navigator.storage.persisted().then((function(e){return u().then((function(n){return{quota:n.quota,usage:n.usage,persistent:e}}))}));var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return Promise.reject(e)}function u(){return new Promise((function(e,n){"webkitTemporaryStorage"in navigator?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(n,t){e({quota:t,usage:n})}),n):null!=navigator.storage&&null!=navigator.storage.estimate?navigator.storage.estimate().then(e).catch(n):n(new Error("Quota info unsupported",{cause:{code:"QuotaInfoUnsupported"}}))}))}var d,f=t(7652),v=t(8673),h=t(1659),p=t(9385),g=t(7988),m=t(7891),b=t(5665),j=function(){return j=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},j.apply(this,arguments)},y=function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},x=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},w=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},k={darkMode:!1,memory:{quota:0,usage:0,persistent:!1},debug:0,console:[],swipeThreshold:0,motionThreshold:0},N=(0,r.hg)("setting/getMemoryStorageStatus",(function(e,n){return y(void 0,void 0,void 0,(function(){return x(this,(function(e){return[2,l().catch((function(e){throw n.dispatch(O("Could not get memory storage status",c.x6.WARN)),n.dispatch(O(e.message,c.x6.WARN)),e}))]}))}))})),S=(0,r.hg)("setting/setPersistentStorage",(function(e,n){return y(void 0,void 0,void 0,(function(){return x(this,(function(e){return[2,(t=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}}),"storage"in navigator&&"persist"in navigator.storage?navigator.storage.persisted().then((function(e){return e?u().then((function(n){return{quota:n.quota,usage:n.usage,persistent:e,warning:void 0}})):navigator.storage.persist().then((function(e){return e?("Storage will not be cleared except by explicit user action",u().then((function(n){return{quota:n.quota,usage:n.usage,persistent:e,warning:"Storage will not be cleared except by explicit user action"}}))):Promise.reject(t)}))})):Promise.reject(t)).catch((function(e){throw n.dispatch(O("Could not set persistent storage",c.x6.WARN)),n.dispatch(O(e.message,c.x6.WARN)),e}))];var t}))}))})),T=(0,r.hg)("setting/localStorageSettingsInitialized",(function(e,n){return y(void 0,void 0,void 0,(function(){var e;return x(this,(function(t){return e=(0,s.xr)(o._),n.dispatch((0,p.DA)(e.opposite)),n.dispatch((0,f.fN)(e.phrases)),n.dispatch((0,v.QJ)(e.kanji)),n.dispatch((0,h.z7)(e.kana)),n.dispatch((0,g.ok)(e.particle)),n.dispatch((0,m.az)(e.vocabulary)),[2,a()(k,j({},e.global))]}))}))})),C=(0,r.oM)({name:"setting",initialState:k,reducers:{toggleDarkMode:function(e){var n=new Date;(0,s.JW)(n,{global:e},"/global/","darkMode",!e.darkMode),e.darkMode=!e.darkMode},setSwipeThreshold:function(e,n){var t=n.payload,r=new Date;e.swipeThreshold=(0,s.JW)(r,{global:e},"/global/","swipeThreshold",t)},setMotionThreshold:function(e,n){var t=n.payload,r=new Date;e.motionThreshold=(0,s.JW)(r,{global:e},"/global/","motionThreshold",t)},debugToggled:{reducer:function(e,n){var t=n.payload,r=(0,c.P_)(e.debug+1,Object.values(c.x6),t);e.debug=(0,s.JW)(new Date,{global:e},"/global/","debug",r)},prepare:function(e){return{payload:e}}},logger:{reducer:function(e,n){var t=e.debug,r=n.payload,i=r.msg,a=r.lvl,o=r.type;if(0!==t&&a<=t){var s;s=o===b.L6?"SW: "+i:"UI: "+i,e.console=w(w([],e.console,!0),[{msg:s,lvl:a}],!1)}},prepare:function(e,n,t){return void 0===n&&(n=c.x6.DEBUG),void 0===t&&(t="ui_logger_msg"),{payload:{msg:e,lvl:n,type:t}}}}},extraReducers:function(e){e.addCase(T.fulfilled,(function(e,n){var t=n.payload;return j({},t)})),e.addCase(N.fulfilled,(function(e,n){var t=n.payload,r=t.quota,i=t.usage,a=t.persistent;e.memory={quota:r,usage:i,persistent:a}})),e.addCase(S.fulfilled,(function(e,n){var t=n.payload,r=t.quota,i=t.usage,a=t.persistent,o=t.warning;o&&console.warn(o),e.memory={quota:r,usage:i,persistent:a}}))}}),M=(d=C.actions).toggleDarkMode,A=d.setMotionThreshold,P=d.setSwipeThreshold,R=d.debugToggled,O=d.logger;const E=C.reducer},1659:(e,n,t)=>{t.d(n,{Bs:()=>p,I_:()=>h,PD:()=>m,ZP:()=>b,_S:()=>g,z7:()=>d});var r,i=t(9829),a=t(4613),o=t.n(a),s=t(6954),c=t(3859),l=t(4133),u=function(){return u=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},u.apply(this,arguments)},d=(0,i.hg)("kana/kanaFromLocalStorage",(function(e){return n=void 0,t=void 0,i=function(){return function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){return[2,e]}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((i=i.apply(n,t||[])).next())}));var n,t,r,i})),f={hiragana:s.Bw,katakana:s.TU,vowels:s.Be,consonants:s.sH,sounds:s.jX,setting:{choiceN:16,wideMode:!1,easyMode:!1,charSet:0}},v=(0,i.oM)({name:"kana",initialState:f,reducers:{toggleKana:function(e){var n=e.setting.charSet,t=n+1<Object.keys(l.kS).length?n+1:l.kS.HIRAGANA;e.setting.charSet=(0,c.JW)(new Date,{kana:e.setting},"/kana/","charSet",t)},setKanaBtnN:function(e,n){var t=n.payload;e.setting.choiceN=(0,c.JW)(new Date,{kana:e.setting},"/kana/","choiceN",t)},toggleKanaEasyMode:function(e){e.setting.easyMode=(0,c.JW)(new Date,{kana:e.setting},"/kana/","easyMode")},toggleKanaGameWideMode:function(e){e.setting.wideMode=(0,c.JW)(new Date,{kana:e.setting},"/kana/","wideMode")}},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,n){var t=n.payload,r=o()(f.setting,t);return u(u({},e),{setting:u({},r)})}))}}),h=(r=v.actions).toggleKana,p=r.setKanaBtnN,g=r.toggleKanaEasyMode,m=r.toggleKanaGameWideMode;const b=v.reducer},8673:(e,n,t)=>{t.d(n,{LD:()=>y,Mh:()=>x,QJ:()=>g,SI:()=>w,X8:()=>j,ZP:()=>T,cy:()=>N,ow:()=>k,tk:()=>p,vT:()=>S});var r,i=t(9829),a=t(4613),o=t.n(a),s=t(7186),c=t(1059),l=t(4133),u=t(3859),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},d.apply(this,arguments)},f=function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},v=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},h=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},p=(0,i.hg)("kanji/getKanji",(function(e,n){return f(void 0,void 0,void 0,(function(){var e,t;return v(this,(function(r){return e=n.getState(),"0"===(t=e.version.kanji||"0")&&console.error("fetching kanji: 0"),[2,fetch(s.qe.databaseURL+"/lambda/kanji.json",{headers:{"Data-Version":t}}).then((function(e){return e.json().then((function(e){return{value:e,version:t}}))}))]}))}))})),g=(0,i.hg)("kanji/kanjiFromLocalStorage",(function(e){return f(void 0,void 0,void 0,(function(){return v(this,(function(n){return[2,e]}))}))})),m={value:[],version:"",tagObj:[],setting:{choiceN:32,filter:2,reinforce:!1,repTID:-1,repetition:{},activeGroup:[],activeTags:[]}},b=(0,i.oM)({name:"kanji",initialState:m,reducers:{toggleKanjiActiveTag:function(e,n){var t,r=n.payload,i=e.setting.activeTags;t=i.includes(r)?i.filter((function(e){return e!==r})):h(h([],i,!0),[r],!1),e.setting.activeTags=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","activeTags",t)},toggleKanjiActiveGrp:function(e,n){var t=n.payload,r=e.setting.activeGroup,i=Array.isArray(t)?t:[t],a=(0,l.c0)(i,r);e.setting.activeGroup=(0,u.JW)(new Date,{kaji:e.setting},"/kanji/","activeGroup",a)},addFrequencyKanji:function(e,n){var t=n.payload,r=(0,l.pg)(t,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",r)},removeFrequencyKanji:function(e,n){var t,r=n.payload,i=e.setting.repetition;if(!0===(null===(t=i[r])||void 0===t?void 0:t.rein)){var a=(0,l.pg)(r,i,{count:!1,date:!1},{set:{rein:null}}).value;(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",a),a&&(e.setting.repTID=Date.now(),e.setting.repetition=a)}},setKanjiBtnN:function(e,n){var t=n.payload;e.setting.choiceN=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","choiceN",t)},toggleKanjiFilter:function(e,n){var t=n.payload,r=e.setting,i=r.filter,a=r.reinforce,o=(0,l.P_)(i+1,[l.Lx.FREQUENCY,l.Lx.TAGS],t);e.setting.filter=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","filter",o),0!==o&&a&&(e.setting.reinforce=!1)},toggleKanjiReinforcement:function(e){e.setting.reinforce=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","reinforce")}},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,n){var t=n.payload,r=t.value,i=t.version,a=Object.keys(r).map((function(e){return d(d({},r[e]),{uid:e,tag:void 0===r[e].tag?[]:r[e].tag})}));e.tagObj=(0,c.fh)(r),e.value=a,e.version=i})),e.addCase(g.fulfilled,(function(e,n){var t=n.payload,r=o()(m.setting,t);return d(d({},e),{setting:d(d({},r),{repTID:Date.now()})})}))}}),j=(r=b.actions).toggleKanjiActiveTag,y=r.toggleKanjiActiveGrp,x=r.addFrequencyKanji,w=r.removeFrequencyKanji,k=r.setKanjiBtnN,N=r.toggleKanjiFilter,S=r.toggleKanjiReinforcement;const T=b.reducer},9385:(e,n,t)=>{t.d(n,{CO:()=>v,Cz:()=>h,DA:()=>d,ZP:()=>p,bt:()=>u});var r,i=t(9829),a=t(7186),o=t(3859),s=function(){return s=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},s.apply(this,arguments)},c=function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},l=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},u=(0,i.hg)("opposite/getOpposite",(function(e,n){return c(void 0,void 0,void 0,(function(){var e,t;return l(this,(function(r){return e=n.getState(),"0"===(t=e.version.phrases||"0")&&console.error("fetching opposite: 0"),[2,fetch(a.qe.databaseURL+"/lambda/opposites.json",{headers:{"Data-Version":t}}).then((function(e){return e.json().then((function(e){return{value:e,version:t}}))}))]}))}))})),d=(0,i.hg)("opposite/oppositeFromLocalStorage",(function(e){return c(void 0,void 0,void 0,(function(){return l(this,(function(n){return[2,e]}))}))})),f=(0,i.oM)({name:"opposite",initialState:{value:[],version:"",aRomaji:!1,qRomaji:!1},reducers:{setOppositesARomaji:function(e){var n=new Date,t={opposite:e};e.aRomaji=(0,o.JW)(n,t,"/opposite/","aRomaji")},setOppositesQRomaji:function(e){var n=new Date,t={opposite:e};(0,o.JW)(n,t,"/opposite/","qRomaji",!e.qRomaji),e.qRomaji=!e.qRomaji}},extraReducers:function(e){e.addCase(u.fulfilled,(function(e,n){var t=n.payload,r=t.value,i=t.version;e.value=r,e.version=i})),e.addCase(d.fulfilled,(function(e,n){var t=n.payload;return s(s({},e),t)}))}}),v=(r=f.actions).setOppositesARomaji,h=r.setOppositesQRomaji;const p=f.reducer},7988:(e,n,t)=>{t.d(n,{ZP:()=>y,aq:()=>h,ok:()=>p,ro:()=>j});var r=t(9829),i=t(4613),a=t.n(i),o=t(9815),s=t(2850),c=t(3859),l=t(7652),u=function(){return u=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},u.apply(this,arguments)},d=function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},f=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},v=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},h=(0,r.hg)("particle/getParticleGame",(function(e,n){return d(void 0,void 0,void 0,(function(){var e,t,r,i;return f(this,(function(a){return e=n.getState().particle,(t=n.getState().phrases.value).length>0?(r=0===e.particleGame.phrases.length,i=void 0,r&&(i=g(t)),[2,{game:i}]):[2,n.dispatch((0,l.cC)()).then((function(e){var n=e.payload.value,t=(0,l.Y1)(n);return{phrase:t,game:g(t)}}))]}))}))})),p=(0,r.hg)("particleGame/particleFromLocalStorage",(function(e){return d(void 0,void 0,void 0,(function(){return f(this,(function(n){return[2,e]}))}))}));function g(e){var n=[],t={},r=e.reduce((function(e,r){var i;if(r.particles&&(null===(i=r.particles)||void 0===i?void 0:i.length)>0){var a=s.TZ.parse(r).getSpelling();r.particles.forEach((function(i){var s;if(2===a.split(i).length){var c=(0,o.C5)(i),l=a.indexOf(i),d={japanese:i,romaji:c,html:i},f={japanese:i,romaji:c,start:l,end:l+i.length,html:i};n=v(v([],n,!0),[d],!1),e=v(v([],e,!0),[{answer:f,question:r,english:r.english,literal:r.lit}],!1)}else t=u(u({},t),((s={})[r.english]={japanese:a,particle:i,times:a.split(i).length},s))}))}return e}),[]);return console.error("More than one match "+Object.keys(t).length),console.table(t),{phrases:r,particles:n}}var m={particleGame:{phrases:[],particles:[]},setting:{aRomaji:!1}},b=(0,r.oM)({name:"particleGame",initialState:m,reducers:{setParticlesARomaji:function(e){e.setting.aRomaji=(0,c.JW)(new Date,{particle:e.setting},"/particle/","aRomaji")}},extraReducers:function(e){e.addCase(h.fulfilled,(function(e,n){var t=n.payload.game;t&&(e.particleGame=t)})),e.addCase(p.fulfilled,(function(e,n){var t=n.payload,r=a()(m.setting,t);return u(u({},e),{setting:u({},r)})}))}}),j=b.actions.setParticlesARomaji;const y=b.reducer},7652:(e,n,t)=>{t.d(n,{Lp:()=>S,OJ:()=>x,Y1:()=>h,ZP:()=>M,cC:()=>p,cz:()=>k,d1:()=>y,f6:()=>w,fN:()=>g,gP:()=>T,mW:()=>C,s5:()=>m,vy:()=>N});var r,i=t(9829),a=t(4613),o=t.n(a),s=t(7186),c=t(1059),l=t(3859),u=t(4133),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},d.apply(this,arguments)},f=function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},v=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},h=function(e){return Object.keys(e).map((function(n){return d(d({},e[n]),{uid:n})}))},p=(0,i.hg)("phrase/getPhrase",(function(e,n){return f(void 0,void 0,void 0,(function(){var e,t;return v(this,(function(r){return e=n.getState(),"0"===(t=e.version.phrases||"0")&&console.error("fetching phrase: 0"),[2,fetch(s.qe.databaseURL+"/lambda/phrases.json",{headers:{"Data-Version":t}}).then((function(e){return e.json().then((function(e){return{value:e,version:t}}))}))]}))}))})),g=(0,i.hg)("phrase/phraseFromLocalStorage",(function(e){return f(void 0,void 0,void 0,(function(){return v(this,(function(n){return[2,e]}))}))})),m=(0,i.hg)("phrase/updateSpaceRepPhrase",(function(e,n){return f(void 0,void 0,void 0,(function(){var t,r,i,a;return v(this,(function(o){return t=e.uid,r=e.shouldIncrement,i=n.getState().phrases,a=i.setting.repetition,[2,(0,u.pg)(t,a,{count:r,date:!0})]}))}))})),b={value:[],version:"",grpObj:{},setting:{ordered:0,practiceSide:!1,romaji:!1,reinforce:!1,repTID:-1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],filter:0}},j=(0,i.oM)({name:"phrase",initialState:b,reducers:{togglePhrasesFilter:function(e,n){var t=n.payload,r=[u.Lx.FREQUENCY,u.Lx.GROUP],i=e.setting,a=i.filter,o=i.reinforce,s=(0,u.P_)(a+1,r,t);e.setting.filter=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","filter",s),s!==u.Lx.GROUP&&o&&(e.setting.reinforce=!1)},togglePhraseActiveGrp:function(e,n){var t=n.payload,r=e.setting.activeGroup,i=Array.isArray(t)?t:[t],a=(0,u.c0)(i,r);e.setting.activeGroup=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","activeGroup",a)},togglePhrasesReinforcement:function(e){e.setting.reinforce=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","reinforce")},addFrequencyPhrase:function(e,n){var t=n.payload,r=(0,u.pg)(t,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",r);var i={uid:t,count:e.setting.frequency.count+1};e.setting.frequency=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",i)},removeFrequencyPhrase:function(e,n){var t,r=n.payload,i=e.setting.repetition;if(!0===(null===(t=i[r])||void 0===t?void 0:t.rein)){var a=(0,u.pg)(r,i,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",a);var o={uid:r,count:e.setting.frequency.count-1};e.setting.frequency=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",o)}},flipPhrasesPracticeSide:function(e){e.setting.practiceSide=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","practiceSide")},togglePhrasesRomaji:function(e){e.setting.romaji=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","romaji")},togglePhrasesOrdering:function(e){var n=[u.vl.RANDOM,u.vl.VIEW_DATE],t=e.setting.ordered,r=(0,u.P_)(t+1,n);e.setting.ordered=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","ordered",r)}},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,n){var t=n.payload,r=t.value,i=t.version;e.grpObj=(0,c.by)(r),e.value=h(r),e.version=i})),e.addCase(g.fulfilled,(function(e,n){var t=n.payload,r=o()(b.setting,t),i=Object.keys(r.repetition).filter((function(e){var n;return!0===(null===(n=r.repetition[e])||void 0===n?void 0:n.rein)}));return r.frequency={uid:void 0,count:i.length},d(d({},e),{setting:d(d({},r),{repTID:Date.now()})})})),e.addCase(m.fulfilled,(function(e,n){var t=n.payload.value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",t)}))}}),y=(r=j.actions).flipPhrasesPracticeSide,x=r.togglePhrasesRomaji,w=r.togglePhrasesFilter,k=r.togglePhraseActiveGrp,N=r.togglePhrasesReinforcement,S=r.addFrequencyPhrase,T=r.removeFrequencyPhrase,C=r.togglePhrasesOrdering;const M=j.reducer},4133:(e,n,t)=>{t.d(n,{Lx:()=>o,P_:()=>u,c0:()=>d,iU:()=>l,kS:()=>c,pg:()=>f,vl:()=>s,x6:()=>a});var r=function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},r.apply(this,arguments)},i=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))},a=Object.freeze({OFF:0,ERROR:1,WARN:2,DEBUG:3}),o=Object.freeze({GROUP:0,FREQUENCY:1,TAGS:2}),s=Object.freeze({RANDOM:0,ALPHABETIC:1,VIEW_DATE:2,GAME:3,DIFFICULTY:4}),c=Object.freeze({HIRAGANA:0,KATAKANA:1,MIXED:2}),l=["Randomized","Alphabetic","Staleness","Space Rep","Difficulty"];function u(e,n,t){var r=Math.max.apply(Math,n),i=e;if(void 0!==t&&n.includes(t))i=t;else for(;!n.includes(i)||i>r;)i=i+1>r?0:i+1;return i}function d(e,n){var t=Array.from(new Set(e)),r=Array.from(new Set(n));return t.forEach((function(e){var n=!e.includes(".");r=r.includes(e)?r.filter((function(n){return n!==e})):i(i([],r,!0),[e],!1),n&&r.some((function(n){return n.includes(e+".")}))&&(r=r.filter((function(n){return!n.startsWith(e+".")})))})),r}function f(e,n,t,i){var a,o,s;void 0===t&&(t={count:!0,date:!0});var c,l=n[e],u=void 0===l?void 0:((a={})[e]=n[e],a),d=null!==(s=null==l?void 0:l.vC)&&void 0!==s?s:-1;c=d>0&&!0===t.count?d+1:d>0&&!1===t.count?d:1;var f={};if(void 0!==i){if(i.toggle){var v=i.toggle.reduce((function(t,i){var a,o;return o=["f"].includes(i)?!(n[e]&&!1===n[e][i]):n[e]&&n[e][i],r(r({},t),((a={})[i]=!o,a))}),{});f=r(r({},f),v)}if(void 0!==i.set){var h=Object.keys(i.set).reduce((function(e,n){var t,a;return void 0!==i.set&&void 0!==i.set[n]&&(e=null===i.set[n]?r(r({},e),((t={})[n]=void 0,t)):r(r({},e),((a={})[n]=i.set[n],a))),e}),{});f=r(r({},f),h)}}var p=null==l?void 0:l.d,g=void 0!==p&&!1===t.date?p:(new Date).toJSON(),m=r(r(r({},n[e]||{}),{vC:c,d:g}),f),b=((o={})[e]=m,o);return{map:b,prevMap:u=void 0===u?r({},b):u,value:r(r({},n),b)}}},7891:(e,n,t)=>{t.d(n,{$u:()=>E,E3:()=>b,Gy:()=>I,Hi:()=>k,Rz:()=>p,S5:()=>D,Tn:()=>M,VX:()=>P,Vb:()=>O,Wo:()=>g,ZP:()=>Z,ZZ:()=>C,_4:()=>F,_n:()=>x,az:()=>m,d1:()=>q,eK:()=>T,gl:()=>A,kn:()=>L,oG:()=>R,rZ:()=>y,sG:()=>S,wf:()=>N,xz:()=>w});var r,i=t(9829),a=t(4613),o=t.n(a),s=t(7186),c=t(9983),l=t(3859),u=t(1059),d=t(4133),f=function(){return f=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},f.apply(this,arguments)},v=function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},h=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},p=(0,i.hg)("vocabulary/getVocabulary",(function(e,n){return v(void 0,void 0,void 0,(function(){var e,t;return h(this,(function(r){return e=n.getState(),"0"===(t=e.version.vocabulary||"0")&&console.error("fetching vocabulary: 0"),[2,fetch(s.qe.databaseURL+"/lambda/vocabulary.json",{headers:{"Data-Version":t}}).then((function(e){return e.json().then((function(e){return{value:e,version:t}}))}))]}))}))})),g=(0,i.hg)("vocabulary/updateSpaceRepWord",(function(e,n){return v(void 0,void 0,void 0,(function(){var t,r,i,a;return h(this,(function(o){return t=e.uid,r=e.shouldIncrement,i=n.getState().vocabulary,a=i.setting.repetition,[2,(0,d.pg)(t,a,{count:r,date:!0})]}))}))})),m=(0,i.hg)("vocabulary/vocabularyFromLocalStorage",(function(e){return v(void 0,void 0,void 0,(function(){return h(this,(function(n){return[2,e]}))}))})),b={value:[],version:"",grpObj:{},verbForm:"dictionary",setting:{ordered:0,practiceSide:!1,romaji:!1,bareKanji:!1,hintEnabled:!1,filter:0,memoThreshold:c.YZ,reinforce:!1,repTID:-1,repetition:{},activeGroup:[],autoVerbView:!1,verbColSplit:0,verbFormsOrder:(0,c.kf)().map((function(e){return e.name}))}},j=(0,i.oM)({name:"vocabulary",initialState:b,reducers:{verbFormChanged:function(e,n){return f(f({},e),{verbForm:n.payload})},toggleVocabularyActiveGrp:function(e,n){var t=n.payload,r=e.setting.activeGroup,i=Array.isArray(t)?t:[t],a=(0,d.c0)(i,r);e.setting.activeGroup=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","activeGroup",a)},furiganaToggled:function(e,n){var t=n.payload,r=(0,d.pg)(t,e.setting.repetition,{count:!1,date:!1},{toggle:["f"]}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",r)},toggleVocabularyReinforcement:function(e){e.setting.reinforce=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","reinforce")},toggleVocabularyOrdering:function(e,n){var t=e.setting.ordered,r=n.payload,i=[d.vl.ALPHABETIC,d.vl.DIFFICULTY,d.vl.GAME,d.vl.RANDOM,d.vl.VIEW_DATE],a=(0,d.P_)(t+1,i,r);e.setting.ordered=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","ordered",a)},flipVocabularyPracticeSide:function(e){e.setting.practiceSide=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","practiceSide")},toggleVocabularyRomaji:function(e){e.setting.romaji=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","romaji")},toggleVocabularyBareKanji:function(e){e.setting.bareKanji=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","bareKanji")},toggleVocabularyHint:function(e){e.setting.hintEnabled=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","hintEnabled")},toggleVocabularyFilter:function(e,n){var t=[d.Lx.FREQUENCY,d.Lx.GROUP],r=n.payload,i=e.setting,a=i.filter,o=i.reinforce,s=(0,d.P_)(a+1,t,r);e.setting.filter=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","filter",s),0!==s&&o&&(e.setting.reinforce=!1)},setVerbFormsOrder:function(e,n){var t=n.payload;e.setting.verbFormsOrder=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbFormsOrder",t)},toggleAutoVerbView:function(e){e.setting.autoVerbView=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","autoVerbView")},updateVerbColSplit:function(e,n){var t=n.payload;e.setting.verbColSplit=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbColSplit",t)},addFrequencyWord:function(e,n){var t=n.payload,r=(0,d.pg)(t,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",r)},removeFrequencyWord:function(e,n){var t,r=n.payload,i=e.setting.repetition;if(!0===(null===(t=i[r])||void 0===t?void 0:t.rein)){var a=(0,d.pg)(r,i,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",a)}},setMemorizedThreshold:function(e,n){var t=n.payload;e.setting.memoThreshold=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","memoThreshold",t)},setWordDifficulty:{reducer:function(e,n){var t=n.payload,r=t.uid,i=t.value,a=(0,d.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{difficulty:i}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",a)},prepare:function(e,n){return{payload:{uid:e,value:n}}}},setWordTPCorrect:{reducer:function(e,n){var t,r,i=n.payload,a=i.uid,o=i.tpElapsed,s=i.pronunciation,c=e.setting.repetition,u=1,d=1,v=o,h=c[a];if(void 0!==h){var p=h.tpPc,g=h.tpAcc,m=h.tpCAvg||0;if(void 0!==p&&null!=g){var b=p*g;d=(b+1)/(u=p+1),v=(m*b+o)/(b+1)}}var j=s||null!==(r=null==h?void 0:h.pron)&&void 0!==r&&r,y=f(f({},c[a]||{}),{pron:j||void 0,tpPc:u,tpAcc:d,tpCAvg:v}),x=f(f({},c),((t={})[a]=y,t));e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",x)},prepare:function(e,n,t){return{payload:{uid:e,tpElapsed:n,pronunciation:(void 0===t?{}:t).pronunciation}}}},setWordTPIncorrect:{reducer:function(e,n){var t,r=n.payload,i=r.uid,a=r.pronunciation,o=e.setting.repetition,s=1,c=0,u=o[i];if(void 0!==u){var d=u.tpPc,v=u.tpAcc;void 0!==d&&null!=v&&(c=(d*v+0)/(s=d+1))}var h=f(f({},o[i]||{}),{tpPc:s,tpAcc:c,pron:!!a||void 0}),p=f(f({},o),((t={})[i]=h,t));e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",p)},prepare:function(e,n){return{payload:{uid:e,pronunciation:(void 0===n?{}:n).pronunciation}}}}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,n){var t=n.payload,r=o()(b.setting,t);return f(f({},e),{setting:f(f({},r),{repTID:Date.now()})})})),e.addCase(p.fulfilled,(function(e,n){var t=n.payload,r=t.value,i=t.version;e.grpObj=(0,u.by)(r),e.value=(0,u.MS)(r),e.version=i})),e.addCase(g.fulfilled,(function(e,n){var t=n.payload.value;e.setting.repTID=Date.now(),e.setting.repetition=(0,l.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",t)}))}}),y=(r=j.actions).verbFormChanged,x=r.furiganaToggled,w=r.removeFrequencyWord,k=r.setVerbFormsOrder,N=r.toggleVocabularyOrdering,S=r.toggleVocabularyActiveGrp,T=r.toggleAutoVerbView,C=r.toggleVocabularyFilter,M=r.toggleVocabularyHint,A=r.toggleVocabularyReinforcement,P=r.toggleVocabularyRomaji,R=r.updateVerbColSplit,O=r.toggleVocabularyBareKanji,E=r.flipVocabularyPracticeSide,D=r.addFrequencyWord,L=r.setWordDifficulty,F=r.setMemorizedThreshold,I=r.setWordTPCorrect,q=r.setWordTPIncorrect;const Z=j.reducer},6954:e=>{e.exports=JSON.parse('{"Be":["a","i","u","e","o"],"sH":["","k","g","s","z","t","d","n","h","b","p","m","y","r","w","N"],"Bw":[["あ","い","う","え","お"],["か","き","く","け","こ"],["が","ぎ","ぐ","げ","ご"],["さ","し","す","せ","そ"],["ざ","じ","ず","ぜ","ぞ"],["た","ち","つ","て","と"],["だ","ぢ","づ","で","ど"],["な","に","ぬ","ね","の"],["は","ひ","ふ","へ","ほ"],["ば","び","ぶ","べ","ぼ"],["ぱ","ぴ","ぷ","ぺ","ぽ"],["ま","み","む","め","も"],["や"," ","ゆ"," ","よ"],["ら","り","る","れ","ろ"],["わ","ゐ"," ","ゑ","を"],["ん"," "," "," "," "]],"TU":[["ア","イ","ウ","エ","オ"],["カ","キ","ク","ケ","コ"],["ガ","ギ","グ","ゲ","ゴ"],["サ","シ","ス","セ","ソ"],["ザ","ジ","ズ","ゼ","ゾ"],["タ","チ","ツ","テ","ト"],["ダ","ヂ","ヅ","デ","ド"],["ナ","ニ","ヌ","ネ","ノ"],["ハ","ヒ","フ","ヘ","ホ"],["バ","ビ","ブ","ベ","ボ"],["パ","ピ","プ","ペ","ポ"],["マ","ミ","ム","メ","モ"],["ヤ"," ","ユ"," ","ヨ"],["ラ","リ","ル","レ","ロ"],["ワ","ヰ"," ","ヱ","ヲ"],["ン"," "," "," "," "]],"jX":{"si":"shi","ti":"chi","tu":"tsu","hu":"fu","zi":"ji","di":"dji","du":"dzu","Na":"n"}}')}},e=>{e.O(0,[816,913,794,931,612,697,555,774,25,104,105,418,642,995,86,220,183,323,593,623,617,216,810,260,303,979,655],(()=>(5707,e(e.s=5707)))),e.O()}]);