"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[52],{2052:(e,s,l)=>{l.r(s),l.d(s,{default:()=>x});var a=l(5893),i=l(7294),n=l(743),t=l(6537),c=l(9983),d=l(6278),r=l(158),h=l(4933),u=l(8673),o=l(7652),m=l(7891),p=l(3295);function x(){const e=(0,n.I0)(),[s,l]=(0,i.useState)(!1),{vocabList:x,repetition:j}=(0,h.Z)(),{phraseList:k,repetition:g}=(0,r.Q)(),{kanjiList:v,repetition:y}=(0,d.R)(),{keys:S,list:f}=(0,i.useMemo)((()=>(0,c.XQ)(j,x,"[Stale Vocabulary]")),[x,j]),{keys:b,list:M}=(0,i.useMemo)((()=>(0,c.XQ)(g,k,"[Stale Phrase]")),[k,g]),{keys:N,list:C}=(0,i.useMemo)((()=>(0,c.XQ)(y,v,"[Stale Kanji]")),[v,y]),w=(0,i.useMemo)((()=>new Set([...S,...b,...N])),[S,b,N]),Q=(0,i.useMemo)((()=>{return(e=[...f,...M,...C]).reduce(((s,l,i)=>{const n=(0,a.jsx)("hr",{},`stale-meta-${l.uid}`),t=(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("span",{className:"col p-0",children:l.key}),(0,a.jsx)("span",{className:"col p-0",children:l.english}),(0,a.jsx)("span",{className:"col p-0 app-sm-fs-xx-small",children:(0,a.jsx)("div",{children:l.uid})})]},l.uid);return s.length>0&&i<e.length?[...s,n,t]:[...s,t]}),[]);var e}),[f,M,C]),L=(0,i.useMemo)((()=>C.reduce(((e,s)=>"uid"===s.key?[...e,s.uid]:e),[])),[C]),X=(0,i.useMemo)((()=>M.reduce(((e,s)=>"uid"===s.key?[...e,s.uid]:e),[])),[M]),K=(0,i.useMemo)((()=>f.reduce(((e,s)=>"uid"===s.key?[...e,s.uid]:e),[])),[f]),P=(0,i.useCallback)((()=>{X.length>0&&e((0,o.l6)(X))}),[e,X]),R=(0,i.useCallback)((()=>{K.length>0&&e((0,m.l6)(K))}),[e,K]),V=(0,i.useCallback)((()=>{L.length>0&&e((0,u.l6)(L))}),[e,L]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,a.jsx)("h5",{children:"Stale Space Repetition"}),(0,p.collapseExpandToggler)(s,l)]}),(0,a.jsxs)("div",{children:[X.length>0&&(0,a.jsxs)("div",{onClick:P,children:["Stale Phrase Metadata: ",X.length]}),K.length>0&&(0,a.jsxs)("div",{onClick:R,children:["Stale Vocab Metadata: ",K.length]}),L.length>0&&(0,a.jsxs)("div",{onClick:V,children:["Stale Kanji Metadata: ",L.length]})]}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)("span",{children:"keys: "+JSON.stringify(Array.from(w))})}),s&&(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(t.n,{addlStyle:"failed-spacerep-view"}),children:(0,a.jsx)("div",{className:"failed-spacerep-view container mt-2 p-0",children:Q})})]})})}}}]);