{"version":3,"file":"voice-worker-ja.js","sources":["webpack://nmemonica/./src/constants/voiceConstants.ts","webpack://nmemonica/./src/workers/index.ts","webpack://nmemonica/./src/workers/voiceWorker-ja.ts","webpack://nmemonica/./node_modules/@nmemonica/voice-ja/voice_ja.js","webpack://nmemonica/./node_modules/@nmemonica/voice-ja/voice_ja_bg.js"],"sourcesContent":["export const VoiceErrorCode = Object.freeze({\n    MODULE_LOAD_ERROR: \"Failed to load module\",\n    MAX_RETRY: \"Maximum retries exceeded\",\n    DUPLICATE_REQUEST: \"Duplicate request\",\n    UNREACHABLE: \"Module panicked\",\n    BAD_INPUT: \"Invalid Input\"\n});\nexport const VOICE_KIND_JA = Object.freeze({\n    HAPPY: \"happy\",\n    ANGRY: \"angry\",\n    SAD: \"sad\",\n    NEUTRAL: \"neutral\"\n});\nexport const VOICE_KIND_EN = Object.freeze({\n    HUMAN_FEMALE: \"Human Female\",\n    ROBOT_MALE: \"Robot Male\"\n});\n","export const AUDIO_WORKER_JA_NAME = \"./voice-worker-ja.js\";\nexport const AUDIO_WORKER_EN_NAME = \"./voice-worker-en.js\";\n/**\n * Parse error stack for originating file\n * @param error\n * @returns Origin of error\n */ export function getStackInitial(error) {\n    var _error_stack_split_slice_pop, _error_stack;\n    return ((_error_stack = error.stack) === null || _error_stack === void 0 ? void 0 : (_error_stack_split_slice_pop = _error_stack.split(\"\\n\").slice(-1).pop()) === null || _error_stack_split_slice_pop === void 0 ? void 0 : _error_stack_split_slice_pop.split(\"/\").slice(-1).pop()) ?? \"\";\n}\nexport function isVoiceErrorObject(m) {\n    const test = m;\n    return (test.name === \"Error\" || test.name === \"RuntimeError\") && typeof test.message === \"string\" && typeof test.cause === \"object\";\n}\n/**\n * Convert an unknown exception into Error\n */ export function exceptionToErrorObj(exception, origin) {\n    let error = {\n        name: \"Error\",\n        message: \"Unknown exception\" + origin !== undefined ? ` at ${origin}` : \"\",\n        cause: {}\n    };\n    if (typeof exception === \"string\" && exception.length > 0) {\n        try {\n            // parse a serialized error\n            error = JSON.parse(exception);\n        } catch  {\n            error.message = exception;\n        }\n    } else if (exception instanceof Error || typeof exception === \"object\" && exception !== null) {\n        if (\"name\" in exception) {\n            error.name = exception.name ?? \"Error\";\n        }\n        if (\"message\" in exception) {\n            error.message = exception.message;\n        }\n        if (\"stack\" in exception) {\n            error.stack = exception.stack;\n        }\n        if (\"cause\" in exception && exception.cause !== null && typeof exception.cause === \"object\") {\n            if (\"code\" in exception.cause && typeof exception.cause.code === \"string\") {\n                error.cause.code = exception.cause.code;\n            }\n            if (\"module\" in exception.cause && typeof exception.cause.module === \"string\") {\n                error.cause.module = exception.cause.module;\n            }\n        }\n    }\n    return error;\n}\n","import { buildSpeech as jBuildSpeech } from \"@nmemonica/voice-ja\";\nimport { VOICE_KIND_JA } from \"../constants/voiceConstants\";\nimport { exceptionToErrorObj } from \".\";\nconst wSelf = globalThis.self;\nwSelf.addEventListener(\"message\", messageHandler);\nfunction messageHandler(event) {\n    const data = event.data;\n    const { uid, index, tl: language, q: query, japaneseVoice } = data;\n    if (language === \"ja\" && query !== null && typeof jBuildSpeech === \"function\") {\n        let voice_model;\n        switch(japaneseVoice){\n            case \"default\":\n            case undefined:\n                voice_model = VOICE_KIND_JA.NEUTRAL;\n                break;\n            default:\n                voice_model = japaneseVoice;\n        }\n        try {\n            const { uid: resUid, index: resIndex, buffer: resBuffer } = jBuildSpeech(uid, index, query, voice_model);\n            const response = {\n                uid: resUid,\n                index: resIndex,\n                buffer: resBuffer\n            };\n            wSelf.postMessage(response);\n        } catch (exception) {\n            const error = exceptionToErrorObj(exception, \"voice-worker-ja\");\n            wSelf.postMessage(error);\n        }\n    }\n}\n","import * as wasm from \"./voice_ja_bg.wasm\";\nexport * from \"./voice_ja_bg.js\";\nimport { __wbg_set_wasm } from \"./voice_ja_bg.js\";\n__wbg_set_wasm(wasm);\nwasm.__wbindgen_start();\n","let wasm;\nexport function __wbg_set_wasm(val) {\n    wasm = val;\n}\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\nlet cachedTextDecoder = new lTextDecoder('utf-8', {\n    ignoreBOM: true,\n    fatal: true\n});\ncachedTextDecoder.decode();\nlet cachedUint8ArrayMemory0 = null;\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\nlet WASM_VECTOR_LEN = 0;\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\nlet cachedTextEncoder = new lTextEncoder('utf-8');\nconst encodeString = typeof cachedTextEncoder.encodeInto === 'function' ? function(arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n} : function(arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n};\nfunction passStringToWasm0(arg, malloc, realloc) {\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8ArrayMemory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n    const mem = getUint8ArrayMemory0();\n    let offset = 0;\n    for(; offset < len; offset++){\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8ArrayMemory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\nlet cachedDataViewMemory0 = null;\nfunction getDataViewMemory0() {\n    if (cachedDataViewMemory0 === null || cachedDataViewMemory0.buffer.detached === true || cachedDataViewMemory0.buffer.detached === undefined && cachedDataViewMemory0.buffer !== wasm.memory.buffer) {\n        cachedDataViewMemory0 = new DataView(wasm.memory.buffer);\n    }\n    return cachedDataViewMemory0;\n}\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\nfunction getArrayU8FromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return getUint8ArrayMemory0().subarray(ptr / 1, ptr / 1 + len);\n}\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1, 1) >>> 0;\n    getUint8ArrayMemory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\nfunction takeFromExternrefTable0(idx) {\n    const value = wasm.__wbindgen_export_3.get(idx);\n    wasm.__externref_table_dealloc(idx);\n    return value;\n}\n/**\n * @param {string} key\n * @param {number | null | undefined} index\n * @param {string} query\n * @param {JapaneseVoice | null} [voice_model]\n * @returns {QueryResult}\n */ export function buildSpeech(key, index, query, voice_model) {\n    const ptr0 = passStringToWasm0(key, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len0 = WASM_VECTOR_LEN;\n    const ptr1 = passStringToWasm0(query, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    const ret = wasm.buildSpeech(ptr0, len0, isLikeNone(index) ? 0x100000001 : index >>> 0, ptr1, len1, isLikeNone(voice_model) ? 5 : (__wbindgen_enum_JapaneseVoice.indexOf(voice_model) + 1 || 5) - 1);\n    if (ret[2]) {\n        throw takeFromExternrefTable0(ret[1]);\n    }\n    return QueryResult.__wrap(ret[0]);\n}\nexport function run() {\n    wasm.run();\n}\nconst __wbindgen_enum_JapaneseVoice = [\n    \"neutral\",\n    \"angry\",\n    \"happy\",\n    \"sad\"\n];\nconst QueryResultFinalization = typeof FinalizationRegistry === 'undefined' ? {\n    register: ()=>{},\n    unregister: ()=>{}\n} : new FinalizationRegistry((ptr)=>wasm.__wbg_queryresult_free(ptr >>> 0, 1));\nexport class QueryResult {\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(QueryResult.prototype);\n        obj.__wbg_ptr = ptr;\n        QueryResultFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        QueryResultFinalization.unregister(this);\n        return ptr;\n    }\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_queryresult_free(ptr, 0);\n    }\n    /**\n     * @returns {string}\n     */ get uid() {\n        let deferred1_0;\n        let deferred1_1;\n        try {\n            const ret = wasm.__wbg_get_queryresult_uid(this.__wbg_ptr);\n            deferred1_0 = ret[0];\n            deferred1_1 = ret[1];\n            return getStringFromWasm0(ret[0], ret[1]);\n        } finally{\n            wasm.__wbindgen_free(deferred1_0, deferred1_1, 1);\n        }\n    }\n    /**\n     * @param {string} arg0\n     */ set uid(arg0) {\n        const ptr0 = passStringToWasm0(arg0, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.__wbg_set_queryresult_uid(this.__wbg_ptr, ptr0, len0);\n    }\n    /**\n     * @returns {number | undefined}\n     */ get index() {\n        const ret = wasm.__wbg_get_queryresult_index(this.__wbg_ptr);\n        return ret === 0x100000001 ? undefined : ret;\n    }\n    /**\n     * @param {number | null} [arg0]\n     */ set index(arg0) {\n        wasm.__wbg_set_queryresult_index(this.__wbg_ptr, isLikeNone(arg0) ? 0x100000001 : arg0 >>> 0);\n    }\n    /**\n     * @returns {Uint8Array}\n     */ get buffer() {\n        const ret = wasm.__wbg_get_queryresult_buffer(this.__wbg_ptr);\n        var v1 = getArrayU8FromWasm0(ret[0], ret[1]).slice();\n        wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);\n        return v1;\n    }\n    /**\n     * @param {Uint8Array} arg0\n     */ set buffer(arg0) {\n        const ptr0 = passArray8ToWasm0(arg0, wasm.__wbindgen_malloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.__wbg_set_queryresult_buffer(this.__wbg_ptr, ptr0, len0);\n    }\n}\nexport function __wbg_error_7534b8e9a36f1ab4(arg0, arg1) {\n    let deferred0_0;\n    let deferred0_1;\n    try {\n        deferred0_0 = arg0;\n        deferred0_1 = arg1;\n        console.error(getStringFromWasm0(arg0, arg1));\n    } finally{\n        wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n    }\n}\nexport function __wbg_new_8a6f238a6ece86ea() {\n    const ret = new Error();\n    return ret;\n}\nexport function __wbg_stack_0ed75d68575b0f3c(arg0, arg1) {\n    const ret = arg1.stack;\n    const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    getDataViewMemory0().setInt32(arg0 + 4 * 1, len1, true);\n    getDataViewMemory0().setInt32(arg0 + 4 * 0, ptr1, true);\n}\nexport function __wbindgen_init_externref_table() {\n    const table = wasm.__wbindgen_export_3;\n    const offset = table.grow(4);\n    table.set(0, undefined);\n    table.set(offset + 0, undefined);\n    table.set(offset + 1, null);\n    table.set(offset + 2, true);\n    table.set(offset + 3, false);\n    ;\n}\nexport function __wbindgen_string_new(arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return ret;\n}\nexport function __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n}\n"],"names":["Object","VOICE_KIND_JA","exceptionToErrorObj","exception","origin","error","JSON","Error","wSelf","globalThis","event","uid","index","language","query","japaneseVoice","voice_model","undefined","resUid","resIndex","resBuffer","wasm","__wbg_set_wasm","val","cachedTextDecoder","TextDecoder","module","cachedUint8ArrayMemory0","getUint8ArrayMemory0","Uint8Array","getStringFromWasm0","ptr","len","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","arg","view","buf","passStringToWasm0","malloc","realloc","mem","offset","code","ret","cachedDataViewMemory0","getDataViewMemory0","DataView","buildSpeech","key","ptr0","len0","ptr1","len1","isLikeNone","x","__wbindgen_enum_JapaneseVoice","takeFromExternrefTable0","idx","value","QueryResult","QueryResultFinalization","FinalizationRegistry","obj","deferred1_0","deferred1_1","arg0","v1","getArrayU8FromWasm0","passArray8ToWasm0","__wbg_error_7534b8e9a36f1ab4","arg1","deferred0_0","deferred0_1","console","__wbg_new_8a6f238a6ece86ea","__wbg_stack_0ed75d68575b0f3c","__wbindgen_init_externref_table","table","__wbindgen_string_new","__wbindgen_throw"],"mappings":"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"}