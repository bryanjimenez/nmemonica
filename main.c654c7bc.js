/*! For license information please see main.c654c7bc.js.LICENSE.txt */
"use strict";(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([[179],{6456:(e,t,r)=>{r.d(t,{Z:()=>s}),r(7294);var n=r(5697),o=r.n(n),i=r(5529),a=r(3827),c=r(9701),u=r(9575),l=r(5893);function s(e){var t,r=e.word;return(0,l.jsx)("div",{className:"clickable",onTouchStart:e.visible?function(){t=Date.now(),e.onPushedPlay&&"function"==typeof e.onPushedPlay&&e.onPushedPlay()}:void 0,onTouchEnd:e.visible?function(){var n=~~(Date.now()-t)<500&&!e.reCache?"":"/override_cache",o=(0,c.b1)(a.vT+n,r);(0,u.R$)(o)}:void 0,children:e.visible&&(0,l.jsx)(i.Ibz,{size:"medium","aria-label":"pronunciation"})})}s.defaultProps={visible:!1},s.propTypes={word:o().shape({tl:o().string.isRequired,q:o().string.isRequired,uid:o().string.isRequired}).isRequired,reCache:o().bool,onPushedPlay:o().func,visible:o().bool}},5231:(e,t,r)=>{r.d(t,{Z:()=>S});var n=r(5697),o=r.n(n),i=r(7294),a=r(4184),c=r.n(a),u=r(743),l=r(4026),s=r(5893);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=6,j=3e3,w=1e4;function x(e){var t=[],r=0;return e.forEach((function(n,o){if(o>0&&n.msg===e[o-1].msg)r++;else if(r>0){var i=t.slice(0,-1),a=t.slice(-1)[0];t=[].concat(y(i),[p(p({},a),{},{msg:a.msg+" "+(r+1)+"+"}),n]),r=0}else t=[].concat(y(t),[n])})),t}function S(e){var t=!0===e.connected,r=(0,u.v9)((function(r){var n=r.global;return!t&&e.messages?{messages:e.messages,debug:l.x6.DEBUG}:p({messages:n.console},n)})),n=r.messages,o=r.debug,a=d((0,i.useState)(g),2),f=a[0],v=a[1],y=d((0,i.useState)(0),2),m=y[0],b=y[1],S=d((0,i.useState)(x(n)),2),O=S[0],k=S[1],P=(0,i.useRef)();(0,i.useMemo)((function(){if(o===l.x6.OFF)b(0),k([]);else{var e=x(n);if(b(0),k(e),v(g),void 0!==P.current&&clearTimeout(P.current),t){var r=setTimeout((function(){v(3),P.current=void 0}),j);P.current=Number(r)}}}),[t,o,n]);var A=-f-m,E=m>0?-1*m:void 0,N=O.slice(A,E),T=(0,i.useCallback)((function(){var e=O.length-f>-1?O.length-f:0;if(m<e){v(g),b((function(e){return e+1})),void 0!==P.current&&clearTimeout(P.current);var t=setTimeout((function(){v(3),b(0),P.current=void 0}),w);P.current=Number(t)}}),[f,m,O]);return(0,s.jsx)("div",{className:c()({"console p-1":!0,"position-absolute":!0===e.connected,"mw-50":!0===e.connected}),children:N.map((function(e,t){var r=c()(p(p({"app-sm-fs-xx-small":!0},e.css?h({},e.css,!0):{}),{},{"correct-color":e.lvl===l.x6.DEBUG,"question-color":e.lvl===l.x6.WARN,"incorrect-color":e.lvl===l.x6.ERROR}));return(0,s.jsx)("div",{className:r,onClick:T,children:e.msg},t)}))})}S.propTypes={connected:o().bool,messages:o().array}},6892:(e,t,r)=>{r.d(t,{M:()=>f}),r(7294);var n=r(4184),o=r.n(n),i=r(5697),a=r.n(i),c=r(5529),u=r(5893);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t,r=o()((s(t={},""+e.addlStyle,!!e.addlStyle),s(t,"p-0 px-2",!0),s(t,"font-weight-bold",e.active),t));return(0,u.jsxs)("div",{className:r,onClick:e.onClick,children:[(0,u.jsx)("span",{className:"p-1",children:e.active?(0,u.jsx)(c.oOx,{className:"clickable incorrect-color",size:"small","aria-label":"remove"}):(0,u.jsx)(c.wl8,{className:"clickable",size:"small","aria-label":"add"})}),(0,u.jsx)("span",{className:"p-1",children:e.children})]})}f.propTypes={addlStyle:a().string,active:a().bool,onClick:a().func,children:a().string}},7588:(e,t,r)=>{r.d(t,{R:()=>u}),r(7294);var n=r(5697),o=r.n(n),i=r(5529),a=r(1816),c=r(5893);function u(e){var t="error";return(0,c.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,c.jsx)(a.Z,{color:t,ariaLabel:"Previous",action:e.prev,children:(0,c.jsx)(i.wyc,{size:16})}),e.children,(0,c.jsx)(a.Z,{color:t,ariaLabel:"Next",action:e.next,children:(0,c.jsx)(i.XCv,{size:16})})]})}u.propTypes={prev:o().func,next:o().func,color:o().string,children:o().object}},1741:(e,t,r)=>{r.d(t,{n:()=>s}),r(7294);var n=r(4184),o=r.n(n),i=r(5697),a=r.n(i),c=r(5893);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t,r=o()((l(t={},e.addlStyle,!0),l(t,"d-flex flex-column justify-content-around text-center h-100",!0),t));return(0,c.jsx)("div",{className:r,children:(0,c.jsx)("div",{children:"Awaiting data ..."})})}s.propTypes={addlStyle:a().string}},3653:(e,t,r)=>{r.d(t,{A:()=>v,D4:()=>j,Qp:()=>w,R_:()=>h,Ro:()=>b,lh:()=>x,ph:()=>m,uY:()=>g,y8:()=>y});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),u=r(5529),l=r(7625),s=r(1436),f=r(5591),d=r(5893);function v(e){var t=e.active,r=e.toggle,n=e.toggleFurigana,o=e.vocabulary;return!1===e.visible?null:(0,d.jsx)("div",{className:i()({clickable:t,"sm-icon-grp":!0,"sm-kanji":t}),onClick:t?function(){return n(o.uid)}:void 0,"aria-label":"Toggle furigana",children:t?(0,d.jsxs)("ruby",{children:["漢",(0,d.jsx)("rt",{className:i()({"disabled disabled-color":!r}),children:"ふりがな"})]}):(0,d.jsx)("span",{className:"disabled disabled-color",children:"あ"})})}function p(e){var t=(0,n.useRef)(0),r=e.addFrequencyTerm,o=e.removeFrequencyTerm,a=e.toggle,c=e.term,l=e.count,s=void 0===l?t.current:l,v=(0,f.oU)(),p=t.current===s;return(0,n.useEffect)((function(){t.current=void 0!==s?s:0,!1===p&&v()}),[s,p,v]),!1===e.visible?null:(0,d.jsxs)("div",{"aria-label":a?"Remove term":"Add term",className:"sm-icon-grp clickable",onClick:function(){a?o(c.uid):r(c.uid)},children:[a?(0,d.jsx)(u.oOx,{size:"small"}):(0,d.jsx)(u.wl8,{size:"small"}),void 0!==s&&s>-1&&(0,d.jsx)("span",{className:i()({notification:!0,"notification-fade":p}),children:s})]})}v.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,toggleFurigana:c().func,hasFurigana:c().bool,vocabulary:c().object},p.propTypes={visible:c().bool,active:c().bool,addFrequencyTerm:c().func,removeFrequencyTerm:c().func,toggle:c().bool,term:c().object,count:c().number};var h=(0,n.memo)(p);function y(e){var t=e.active,r=e.setShowHint;return e.visible?(0,d.jsx)("div",{className:i()({"sm-icon-grp":!0,clickable:t,"disabled disabled-color":!t}),onClick:t?function(){r(!0),setTimeout((function(){r(!1)}),1500)}:void 0,"aria-label":t?"Show hint":"Hint unavailable",children:(0,d.jsx)(u.OgN,{size:"small"})}):null}function m(e){var t=e.toggleAutoVerbView,r=e.autoVerbView;return e.visible?(0,d.jsx)("div",{className:"sm-icon-grp clickable",onClick:function(){return t()},"aria-label":"Toggle auto verb view",children:(0,d.jsx)(l.G,{icon:r?s.gPx:s.Bxq})}):null}function b(e){var t=e.active,r=e.action;return!1===e.visible?null:(0,d.jsx)("div",{className:i()({clickable:!0,"sm-icon-grp":!0,"disabled-color":t}),onClick:function(){"function"==typeof r&&r()},"aria-label":"Override audio",children:(0,d.jsx)(l.G,{icon:s.TZC})})}function g(e){var t=e.action,r=e.toggle;return!1===e.visible?null:(0,d.jsxs)("div",{"aria-label":"Toggle practice side",children:[(0,d.jsx)(l.G,{className:"clickable",onClick:t,icon:r?s.dzc:s.UJf}),(0,d.jsx)("span",{className:"notification",children:(0,d.jsx)(l.G,{icon:r?s.UJf:s.dzc})})]})}function j(e){var t=e.action,r=e.toggle;return e.visible?(0,d.jsx)("div",{className:i()({clickable:!0,"sm-icon-grp":!0,"info-color":r}),onClick:function(){"function"==typeof t&&t()},"aria-label":"Literal english translation",children:(0,d.jsx)(u.Rg1,{size:"small"})}):null}function w(e){return e.visible?(0,d.jsx)("div",{children:(0,d.jsx)(l.G,{icon:s.RJo})}):null}function x(e){return e.visible?(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)("div",{className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onIncorrect&&e.onIncorrect()},children:(0,d.jsx)("span",{className:i()({"border-bottom":"incorrect"===e.hover}),children:"-1"})},0),(0,d.jsx)("div",{className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onPronunciation&&e.onPronunciation()},children:(0,d.jsx)("span",{className:i()({"border-bottom":"pronunciation"===e.hover||"reset"!==e.hover&&!0===e.prevMissPronu}),children:"P"})},1),(0,d.jsx)("div",{className:"sm-icon-grp",onClick:function(){"function"==typeof e.onClick&&e.onClick(),"function"==typeof e.onReset&&e.onReset()},children:(0,d.jsx)("span",{className:i()({"border-bottom":"reset"===e.hover}),children:"0"})},2)]}):null}y.propTypes={visible:c().bool,active:c().bool,setShowHint:c().func},m.propTypes={visible:c().bool,active:c().bool,toggleAutoVerbView:c().func,autoVerbView:c().bool},b.propTypes={visible:c().bool,active:c().bool,action:c().func},g.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},j.propTypes={visible:c().bool,active:c().bool,toggle:c().bool,action:c().func},w.propTypes={visible:c().bool},x.propTypes={visible:c().bool,hover:c().string,onClick:c().func,onIncorrect:c().func,onPronunciation:c().func,onReset:c().func,prevMissPronu:c().bool}},3307:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(7294),o=r(5697),i=r.n(o),a=r(4184),c=r.n(a),u=r(5893);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t,r;e.children&&(t=e.children,r=e.children),e.largeValue&&(t=e.largeValue),e.smallValue&&(r=e.smallValue);var o=void 0!==e.rootClassName&&c()(e.rootClassName)||void 0,i=void 0!==e.className&&e.className||{},a="d-none d-"+e.breakPoint+"-inline"+(void 0!==e.largeClassName?" "+c()(e.largeClassName):""),l="d-inline d-"+e.breakPoint+"-none"+(void 0!==e.smallClassName?" "+c()(e.smallClassName):""),s=function(){"function"==typeof e.onClick&&e.onClick()},v=[(0,u.jsx)("span",{"data-name":"large",className:c()(f(f(d({},a,!0),i),{},{clickable:"function"==typeof e.onClick}))||void 0,onClick:s,children:t},0),(0,u.jsx)("span",{"data-name":"small",className:c()(f(f(d({},l,!0),i),{},{clickable:"function"==typeof e.onClick}))||void 0,onClick:s,children:r},1)];return!0===e.fragment?(0,u.jsx)(n.Fragment,{children:v}):(0,u.jsx)("div",{className:o,children:v})}v.propTypes={fragment:i().bool,breakPoint:i().string,rootClassName:i().object,className:i().object,largeClassName:i().object,smallClassName:i().object,onClick:i().func,children:i().oneOfType([i().string,i().element]),largeValue:i().oneOfType([i().string,i().element]),smallValue:i().oneOfType([i().string,i().element])}},1816:(e,t,r)=>{r.d(t,{Z:()=>u}),r(7294);var n=r(5697),o=r.n(n),i=r(6914),a=r(5893);function c(e){return(0,a.jsx)(i.Z,{size:"small",color:e.color,"aria-label":e.ariaLabel,sx:{color:e.color?void 0:"unset"},onClick:e.action,children:e.children})}c.propTypes={action:o().func.isRequired,color:o().string,ariaLabel:o().string.isRequired,children:o().object.isRequired};const u=c},9897:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(7294),o=r(5697),i=r.n(o),a=r(4184),c=r.n(a),u=r(5529),l=r(1816),s=r(5893);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t,r,o=(0,n.useReducer)((function(e,t){return p(p({},e),t)}),{showMeaning:!1,incorrect:[],correct:!1}),i=(r=2,function(e){if(Array.isArray(e))return e}(t=o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,r)||y(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],f=i[1],v=function(){f({showMeaning:!1,correct:!1,incorrect:[]})},h=e.question,m=e.choices,b=void 0!==h.english?"[English]":"";return void 0===e.hint?a.showMeaning&&h.english&&(b=h.english):b=a.showMeaning&&h.english?h.english:e.hint,(0,s.jsx)("div",{className:"pick4game main-panel h-100",children:(0,s.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,s.jsx)(l.Z,{ariaLabel:"Previous",action:function(){v(),e.gotoPrev()},children:(0,s.jsx)(u.wyc,{size:16})}),(0,s.jsxs)("div",{className:c()({"question d-flex flex-column justify-content-center text-center w-50":!0}),children:[(0,s.jsx)("h1",{children:h.toHTML(a.correct)}),(0,s.jsx)("span",{className:c()({invisible:!e.qRomaji}),children:h.romaji}),void 0!==b&&(0,s.jsx)("span",{className:"clickable",onClick:function(){f({showMeaning:!a.showMeaning})},children:b})]}),(0,s.jsx)("div",{className:"choices d-flex justify-content-around flex-wrap w-50",children:m.map((function(t,r){var n=e.isCorrect(m[r])&&a.correct,o=a.incorrect.includes(r),i=c()({"w-50 h-50 pt-3 d-flex flex-column justify-content-evenly text-center clickable":!0,"correct-color":n,"incorrect-color":o});return(0,s.jsx)("div",{className:i,onClick:function(){!function(t,r){e.isCorrect(t)?(f({correct:!0,showMeaning:!0}),setTimeout((function(){v(),e.gotoNext()}),1e3)):2===a.incorrect.length?(f({incorrect:[].concat(d(a.incorrect),[r]),correct:!0,showMeaning:!0}),setTimeout((function(){v(),e.gotoNext()}),1e3)):f({incorrect:[].concat(d(a.incorrect),[r])})}(t,r)},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:t.toHTML()}),n&&(0,s.jsx)("div",{children:t.english}),(0,s.jsx)("span",{className:c()({invisible:!e.aRomaji}),children:t.romaji})]})},r)}))}),(0,s.jsx)(l.Z,{ariaLabel:"Next",action:function(){v(),e.gotoNext()},children:(0,s.jsx)(u.XCv,{size:16})})]})},0)}b.propTypes={question:i().object,hint:i().string,isCorrect:i().func.isRequired,choices:i().array,gotoNext:i().func.isRequired,gotoPrev:i().func.isRequired,qRomaji:i().bool,aRomaji:i().bool};const g=b},3151:(e,t,r)=>{r.r(t),r.d(t,{KanjiGameMeta:()=>A,default:()=>N,oneFromList:()=>E});var n=r(9041),o=r(4184),i=r.n(o),a=r(7294),c=r(743),u=r(9655),l=r(341),s=r(3072),f=r(588),d=r(2761),v=r(1741),p=r(3653),h=r(9897),y=r(1949),m=r(4026),b=r(5893);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A={location:"/kanji-game/",label:"Kanji Game"};function E(e){var t=e,r=e.split(",");if(r.length>1){var n=r[Math.floor(Math.random()*r.length)].trim();t=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}return t}function N(){var e,t=(0,c.I0)(),r=(0,f.R)(),o=r.kanjiList,g=r.activeTags,x=r.repetition,S=r.filterType,O=r.reinforce;(0,a.useEffect)((function(){0===o.length&&t((0,d.tk)())}),[]);var P=(0,a.useRef)(x);P.current=x;var A=j((0,a.useState)([]),2),N=A[0],T=A[1],L=j((0,a.useState)(0),2),C=L[0],M=L[1],I=j((0,a.useState)(void 0),2),R=I[0],D=I[1],_=(0,a.useMemo)((function(){if(0===o.length)return[];if(0===Object.keys(P.current).length&&0===g.length)return o;var e=Object.keys(P.current).reduce((function(e,t){return!0===P.current[t].rein&&(e=[].concat(w(e),[t])),e}),[]),t=(0,s.Dm)(S.current,o,e,S.current===m.Lx.TAGS?g:[],(function(){}));if(O.current&&S.current===m.Lx.TAGS){var r=t.map((function(e){return e.uid})),n=o.filter((function(t){return e.includes(t.uid)&&!r.includes(t.uid)}));t=[].concat(w(t),w(n))}var i=t.reduce((function(e,t){var r;return!0===(null===(r=P.current[t.uid])||void 0===r?void 0:r.rein)?[].concat(w(e),[t.uid]):e}),[]);return T(i),t}),[o,g,O,S]),F=(0,a.useMemo)((function(){return(0,s.tq)(_)}),[_]),G=(0,a.useCallback)((function(){var e=_.length;M((C+1)%e),D(void 0)}),[_,C]),q=(0,a.useCallback)((function(){(0,s.hY)(O.current,S.current,N,_,P.current,R,(function(e){D(e)}),G)}),[N,_,R,G,O,S]),U=(0,a.useCallback)((function(){var e=_.length;M(R?C:(e+(C-1))%e),D(void 0)}),[_,C,R]),Z=(0,a.useCallback)((function(e){T((function(t){return[].concat(w(t),[e])})),t((0,d.Mh)(e))}),[t]),W=(0,a.useCallback)((function(e){T((function(t){return t.filter((function(t){return t!==e}))})),t((0,d.SI)(e))}),[t]);if(0===F.length)return(0,b.jsx)(v.n,{addlStyle:"main-panel"});var V=R||(0,s.vr)(C,F,_),z=(0,s.cc)(V,o),K=z&&!0===(null===(e=x[z.uid])||void 0===e?void 0:e.rein),H=function(e,t){var r=e.uid,n=e.kanji,o=e.on,a=e.kun,c=function(e,t){for(var r=function(e){return e.split(",").map((function(e){return e.trim()}))},n=[k(k({},e),{},{english:E(e.english)})],o=r(e.english);n.length<4;){var i=t[Math.floor(Math.random()*t.length)],a=r(i.english);a.every((function(e){return o.every((function(t){return t!==e}))}))&&a.every((function(e){return n.every((function(t){return e!==t.english}))}))&&(n=[].concat(w(n),[k(k({},i),{},{english:E(i.english)})]))}return(0,l.Sy)(n),n}(e,t);return{question:{toHTML:function(e){return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:i()({"correct-color":e}),children:(0,b.jsx)("span",{children:n})}),(void 0!==o||void 0!==a)&&(0,b.jsxs)("div",{className:i()({"d-flex flex-column mt-3 h4":!0,invisible:!e,"correct-color":e}),children:[(0,b.jsx)("span",{children:o}),(0,b.jsx)("span",{children:a})]})]})}},answer:r,choices:c.map((function(e){return{compare:e.uid,toHTML:function(){return e.english}}}))}}(z,o),J=(C+1)/_.length*100;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Z,{question:H.question,isCorrect:function(e){return e.compare===H.answer},choices:H.choices,gotoPrev:U,gotoNext:q}),(0,b.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,b.jsxs)("div",{className:"row opts-max-h",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("div",{className:"d-flex justify-content-start",children:(0,b.jsx)(u.rU,{to:y.KanjiGridMeta.location,children:(0,b.jsx)(p.uY,{toggle:!0,action:function(){}})})})}),(0,b.jsx)("div",{className:"col text-center",children:(0,b.jsx)(p.Qp,{visible:K&&z.uid!==_[F[C]].uid})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)(p.R_,{addFrequencyTerm:Z,removeFrequencyTerm:W,toggle:K,term:z})})})]})}),(0,b.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,b.jsx)(n.Z,{variant:"determinate",value:J,color:K?"secondary":"primary"})})]})}},1949:(e,t,r)=>{r.r(t),r.d(t,{KanjiGridMeta:()=>q,default:()=>Z,useCreateChoices:()=>U});var n=r(9041),o=r(4184),i=r.n(o),a=r(7294),c=r(743),u=r(9655),l=r(3072),s=r(5591),f=r(588),d=r(2761),v=r(1741),p=r(3653),h=r(3151),y=r(5529),m=r(5697),b=r.n(m),g=r(1816),j=r(5893);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var t=(0,a.useReducer)((function(e,t){return O(O({},e),t)}),{showMeaning:!1,incorrect:[],correct:-1}),r=P(t,2),n=r[0],o=r[1],c=(0,a.useCallback)((function(){o({showMeaning:!1,correct:-1,incorrect:[]})}),[o]),u=e.isCorrect,l=e.choices,s=e.gotoNext,f=e.gotoPrev,d=(0,a.useCallback)((function(){c(),f()}),[c,f]),v=(0,a.useCallback)((function(){c(),s()}),[c,s]),p=i()({"pickXgame main-panel h-100":!0});return(0,j.jsx)("div",{className:p,children:(0,j.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,j.jsx)(g.Z,{ariaLabel:"Previous",action:d,children:(0,j.jsx)(y.wyc,{size:16})}),(0,j.jsx)("div",{className:"choices d-flex justify-content-around flex-wrap w-100",children:l.map((function(e,t){return r=t,a=l.length,f=n.incorrect.includes(r),d=n.correct===r,v=i()({clickable:!0,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":d,"incorrect-color":f}),p=i()({"mb-0":!0}),h=Math.trunc(1/Math.ceil(Math.sqrt(a))*.75*100)+"%",(0,j.jsx)("div",{onClick:function(){return e=l[r],t=r,a=(i=P(u(e),2))[0],f=i[1],void(a?(o({correct:t,showMeaning:!0}),setTimeout((function(){c(),s()}),1e3)):2===n.incorrect.length?(o({incorrect:[].concat(x(n.incorrect),[t]),correct:f,showMeaning:!0}),setTimeout((function(){c(),s()}),2500)):o({incorrect:[].concat(x(n.incorrect),[t])}));var e,t,i,a,f},className:v,style:{width:h},children:(0,j.jsx)("h2",{className:p,children:l[r].toHTML()})},r);var r,a,f,d,v,p,h}))}),(0,j.jsx)(g.Z,{ariaLabel:"Next",action:v,children:(0,j.jsx)(y.XCv,{size:16})})]})},0)}N.propTypes={question:b().object,isCorrect:b().func.isRequired,choices:b().array,gotoNext:b().func.isRequired,gotoPrev:b().func.isRequired};var T=r(4026),L=r(341),C=r(2409),M=r(8301);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q={location:"/kanji-grid/",label:"Kanji Grid Game"};function U(e,t,r,n){return(0,a.useMemo)((function(){if(!r)return[];for(var o=[r],i=function(){var e=Math.floor(Math.random()*n.length),r=n[e];o.every((function(e){return e[t]!==r[t]}))&&(o=[].concat(D(o),[r]))};o.length<e;)i();return(0,L.Sy)(o),o}),[e,t,r,n])}function Z(){var e,t=(0,c.I0)(),r=(0,f.R)(),y=r.kanjiList,m=r.activeTags,b=r.repetition,g=r.filterType,w=r.reinforce,x=r.choiceN;(0,a.useEffect)((function(){0===y.length&&t((0,d.tk)())}),[]);var S=(0,a.useRef)(b);S.current=b;var O=_((0,a.useState)([]),2),k=O[0],P=O[1],A=_((0,a.useState)(0),2),E=A[0],R=A[1],F=_((0,a.useState)(void 0),2),G=F[0],U=F[1],Z=(0,a.useRef)(""),W=_((0,a.useState)(!1),2),V=W[0],z=W[1],K=(0,a.useRef)([]),H=_((0,a.useState)(null),2),J=H[0],Y=H[1],$=(0,a.useMemo)((function(){if(0===y.length)return[];if(0===Object.keys(S.current).length&&0===m.length)return y;var e=Object.keys(S.current).reduce((function(e,t){return!0===S.current[t].rein&&(e=[].concat(D(e),[t])),e}),[]),t=(0,l.Dm)(g.current,y,e,g.current===T.Lx.TAGS?m:[],(function(){}));if(w.current&&g.current===T.Lx.TAGS){var r=t.map((function(e){return e.uid})),n=y.filter((function(t){return e.includes(t.uid)&&!r.includes(t.uid)}));t=[].concat(D(t),D(n))}var o=t.reduce((function(e,t){var r;return!0===(null===(r=S.current[t.uid])||void 0===r?void 0:r.rein)?[].concat(D(e),[t.uid]):e}),[]);return P(o),t}),[y,m,w,g]),B=(0,a.useMemo)((function(){return(0,l.tq)($)}),[$]),Q=(0,a.useCallback)((function(){var e=$.length;R((E+1)%e),U(void 0),Y(null)}),[$,E]),X=(0,a.useCallback)((function(){(0,l.hY)(w.current,g.current,k,$,S.current,G,(function(e){U(e)}),Q)}),[k,$,G,Q,w,g]),ee=(0,a.useCallback)((function(){var e=$.length;R(G?E:(e+(E-1))%e),U(void 0),Y(null)}),[$,E,G]),te=(0,a.useRef)(-1),re=function(){var e=I((0,a.useState)(""),2),t=e[0],r=e[1],n=I((0,a.useState)({w:0,h:0}),2),i=n[0],c=n[1],u=(0,s.iP)(),l=(0,C.YF)({placement:"bottom",middleware:[(0,M.cv)({mainAxis:void 0===u.height?0:u.height/2-i.h,crossAxis:0}),(0,M.uY)()]}),f=l.x,d=l.y,v=l.strategy,p=l.refs,h=l.update;return(0,a.useEffect)((function(){var e,r,n=null===(e=p.floating.current)||void 0===e?void 0:e.clientWidth,o=null===(r=p.floating.current)||void 0===r?void 0:r.clientHeight;t.length>0&&n&&n>0&&o&&o>0&&(c({w:n,h:o}),h())}),[t,c,p.floating,h]),{blastEl:(0,j.jsx)("div",{ref:p.setFloating,style:{position:v,top:null!=d?d:0,left:null!=f?f:0,width:"max-content",fontWeight:"bold",fontSize:"xxx-large"},className:o({"dark-mode-color":!0,"notification-fade":t.length>0}),children:t}),anchorElRef:p.setReference,text:t,setText:r}}(),ne=re.blastEl,oe=re.anchorElRef,ie=re.text,ae=re.setText,ce=(0,a.useCallback)((function(e){P((function(t){return[].concat(D(t),[e])})),t((0,d.Mh)(e))}),[t]),ue=(0,a.useCallback)((function(e){P((function(t){return t.filter((function(t){return t!==e}))})),t((0,d.SI)(e))}),[t]);if(0===B.length)return(0,j.jsx)(v.n,{addlStyle:"main-panel"});var le,se=G||(0,l.vr)(E,B,$),fe=(0,l.cc)(se,y);Z.current!==fe.uid?(Z.current=fe.uid,K.current=function(e,t,r,n){for(var o=[r],i=function(){var e=Math.floor(Math.random()*n.length),r=n[e];o.every((function(e){return e[t]!==r[t]}))&&(o=[].concat(D(o),[r]))};o.length<e;)i();return(0,L.Sy)(o),o}(x,"english",fe,y),le=(0,h.oneFromList)(fe.english)):le=null!=J?J:(0,h.oneFromList)(fe.english);var de=function(e,t,r){return function(){if(null!=e&&e.english.includes(",")){for(var n=(0,h.oneFromList)(e.english);n===t;)n=(0,h.oneFromList)(e.english);r(n)}}}(fe,le,Y),ve=function(e,t,r,n){var o=_(n,2),a=o[0],c=o[1],u=e.english,l=e.kanji,s=e.on,f=e.kun,d=e.uid,v=a!==u;return{question:{toHTML:function(e){return r?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:i()({"correct-color":e}),children:(0,j.jsx)("span",{children:l})}),(void 0!==s||void 0!==f)&&(0,j.jsxs)("div",{className:i()({"d-flex flex-column mt-3 h4":!0,"transparent-color":!e,"correct-color":e}),children:[(0,j.jsx)("span",{children:s}),(0,j.jsx)("span",{children:f})]})]}):(0,j.jsx)("div",{onClick:v?c:void 0,children:a+(v?"...":"")})}},answer:d,choices:t.map((function(e){return{compare:e.uid,toHTML:function(t){return(null!=t?t:r)?e.english:e.kanji}}}))}}(fe,K.current,V,[le,de]),pe=function(e,t,r,n,o){return function(i){var a=i.compare===(null==t?void 0:t.answer),c=(null==t?void 0:t.choices.findIndex((function(e){return e.compare===(null==t?void 0:t.answer)})))||-1;return a||(o.current>-1&&r.length>0?(clearTimeout(o.current),n(""),setTimeout((function(){return n(i.toHTML(!e))}),100)):(n(i.toHTML(!e)),o.current=window.setTimeout((function(){return n("")}),2500))),[a,c]}}(V,ve,ie,ae,te),he=fe&&!0===(null===(e=b[fe.uid])||void 0===e?void 0:e.rein),ye=(E+1)/$.length*100;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"tooltip-anchor",ref:oe}),ne,(0,j.jsx)(N,{question:ve.question,isCorrect:pe,choices:ve.choices,gotoPrev:ee,gotoNext:X}),(0,j.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,j.jsxs)("div",{className:"row opts-max-h",children:[(0,j.jsx)("div",{className:"col",children:(0,j.jsx)("div",{className:"d-flex justify-content-start",children:(0,j.jsx)(u.rU,{to:V?q.location:h.KanjiGameMeta.location,children:(0,j.jsx)(p.uY,{toggle:V,action:(0,s.kP)(z,(function(e){return!e}))})})})}),(0,j.jsx)("div",{className:"col text-center",children:(0,j.jsx)(p.Qp,{visible:he&&fe.uid!==$[B[E]].uid})}),(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,j.jsx)("span",{children:ve.question.toHTML(!1)}),(0,j.jsx)(p.R_,{addFrequencyTerm:ce,removeFrequencyTerm:ue,toggle:he,term:fe})]})})]})}),(0,j.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,j.jsx)(n.Z,{variant:"determinate",value:ye,color:he?"secondary":"primary"})})]})}},2917:(e,t,r)=>{r.r(t),r.d(t,{OppositesGameMeta:()=>S,default:()=>O});var n=r(9041),o=r(4184),i=r.n(o),a=r(7294),c=r(743),u=r(3246),l=r(341),s=r(3072),f=r(4724),d=r(1741),v=r(9897),p=r(5893);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S={location:"/opposites/",label:"Opposites Game"};function O(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.opposite}),(function(e,t){return e.version===t.version})).value,r=j((0,c.v9)((function(e){var t=e.opposite;return[t.qRomaji,t.aRomaji]}),c.wU),2),o=r[0],h=r[1];(0,a.useEffect)((function(){0===t.length&&e((0,f.bt)())}),[]);var m=(0,a.useMemo)((function(){return 0===t.length?[]:(0,s.tq)(t)}),[t]),g=j((0,a.useState)(0),2),w=g[0],x=g[1];if(0===m.length)return(0,p.jsx)(d.n,{addlStyle:"main-panel"});var S=function(e,t,r){for(var n=j(e[t[r]],2),o=n[0],a=n[1],c=u.TZ.parse(o),s=u.TZ.parse(a),f=b(b({},o),{},{toHTML:function(e){return(0,p.jsx)("span",{className:i()({"correct-color":e}),children:c.toHTML()})}}),d=b(b({},a),{},{compare:a.japanese,toHTML:function(){return s.toHTML()}}),v=[d],h=[d.romaji,f.romaji],m=function(){var t=Math.floor(Math.random()*e.length),r=j(e[t],2),n=r[0],o=r[1];if(!h.includes(n.romaji)&&!h.includes(o.romaji))if(0===Math.floor(2*Math.random())){var i=u.TZ.parse(n);v=[].concat(y(v),[b(b({},n),{},{compare:n.japanese,toHTML:function(){return i.toHTML()}})]),h=[].concat(y(h),[n.romaji])}else{var a=u.TZ.parse(o);v=[].concat(y(v),[b(b({},o),{},{compare:o.japanese,toHTML:function(){return a.toHTML()}})]),h=[].concat(y(h),[o.romaji])}};v.length<4;)m();return(0,l.Sy)(v),{question:f,answer:d,choices:v}}(t,m,w),O=(w+1)/t.length*100;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{question:S.question,isCorrect:function(e){return e.compare===S.answer.compare},choices:S.choices,qRomaji:o,aRomaji:h,gotoPrev:function(){var e=t.length,r=w-1;x(r<0?(e+r)%e:r%e)},gotoNext:function(){var e=t.length;x((w+1)%e)}},0),(0,p.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,p.jsx)(n.Z,{variant:"determinate",value:O})},1)]})}},3494:(e,t,r)=>{r.r(t),r.d(t,{ParticlesGameMeta:()=>j,default:()=>w});var n=r(7294),o=r(743),i=r(9041),a=r(341),c=r(5951),u=r(3072),l=r(1741),s=r(9897),f=r(8681),d=r(3246),v=r(5893);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j={location:"/particles/",label:"Particles Game"};function w(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.particle})).particleGame,r=t.phrases,p=t.particles;(0,n.useEffect)((function(){0===r.length&&e((0,f.aq)())}),[]);var h,m,j=(0,n.useRef)([]),w=(h=(0,n.useState)(0),m=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(h,m)||b(h,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=w[0],S=w[1],O=(0,o.v9)((function(e){return e.particle.setting.aRomaji})),k=function(e,t,r){if(0!==t.length&&0!==r.length){0===j.current.length&&(j.current=(0,u.tq)(t));var n=t[j.current[e]],o=n.answer,i=n.question,l=n.english,s=n.literal,f=y(y({},o),{},{toHTML:function(){return o.html}});r=r.map((function(e){return y(y({},e),{},{toHTML:function(){return e.html}})}));var v=function(e,t){for(var r=[e],n=function(){var e=Math.floor(Math.random()*t.length),n=t[e];r.every((function(e){return e.japanese!==n.japanese}))&&(r=[].concat(function(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r),[n]))};r.length<4;)n();return(0,a.Sy)(r),r}(f,r);return{question:{english:l,toHTML:function(e){return function(e,t,r){var n=t.start,o=t.end,i=r?"correct-color":"transparent-font underline";return(0,c.tn)(null==e?void 0:e.parseObj,{hidden:i},n,o)}(d.TZ.parse(i),f,e)}},answer:f,choices:v,literal:s}}}(x,r,p);if(void 0===k)return(0,v.jsx)(l.n,{addlStyle:"main-panel"});var P=(x+1)/r.length*100;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{question:k.question,isCorrect:function(e){return e.japanese===k.answer.japanese},hint:k.literal,choices:k.choices,aRomaji:O,gotoPrev:function(){var e=r.length,t=x-1;S(t<0?(e+t)%e:t%e)},gotoNext:function(){var e=r.length;S((x+1)%e)}},0),(0,v.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,v.jsx)(i.Z,{variant:"determinate",value:P})},1)]})}},663:(e,t,r)=>{r.r(t),r.d(t,{KanaGameMeta:()=>P,buildChoiceButton:()=>T,default:()=>A,usePrepareGame:()=>N});var n=r(5529),o=r(4184),i=r.n(o),a=r(7294),c=r(2440),u=r(5591),l=r(1741),s=r(3653),f=r(1816),d=r(743);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=r(341),y=r(4026),m=r(5893);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P={location:"/kana/",label:["平仮名 Game","片仮名 Game","仮名 Game"]};function A(){var e=function(){var e=(0,d.v9)((function(e){return e.global.debug})),t=v((0,d.v9)((function(e){var t=e.kana;return[t.hiragana,t.katakana,t.vowels,t.consonants,t.sounds]}),(function(){return!0})),5),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],c=v((0,d.v9)((function(e){var t=e.kana.setting;return[t.wideMode,t.easyMode,t.charSet,t.choiceN]}),d.wU),4),u=c[0],l=c[1],s=c[2],f=c[3];return{debug:e,hiragana:r,katakana:n,vowels:o,consonants:i,sounds:a,choiceN:u?31:f,wideMode:u,easyMode:l,charSet:s}}(),t=e.hiragana,r=e.katakana,o=e.vowels,p=e.consonants,h=e.sounds,y=e.choiceN,b=e.wideMode,g=e.easyMode,w=e.charSet,O=(0,a.useRef)(o),k=(0,a.useRef)(p),P=(0,a.useRef)(h),A=(0,a.useRef)(t),E=(0,a.useRef)(r),L=(0,a.useRef)(b),C=(0,a.useRef)(g),M=(0,a.useRef)(y),I=S((0,a.useState)(0),2),R=I[0],D=I[1],_=S((0,a.useState)([]),2),F=_[0],G=_[1],q=S((0,a.useState)(!1),2),U=q[0],Z=q[1],W=N({charSet:w,choiceN:M.current,wideMode:L.current,practiceSide:U,reinforce:F,selectedIndex:R,vowelsR:O,consonantsR:k,soundsR:P,hiraganaR:A,katakanaR:E}),V=W.prepareGame,z=W.setWrongs,K=W.setCorrect,H=W.answer,J=W.correct,Y=W.question,$=W.wrongs,B=W.choices,Q=W.gameOrder,X=(0,a.useCallback)((function(){var e=Q.length;D((R+1)%e),z([]),K(!1)}),[K,z,Q,R]),ee=(0,a.useCallback)((function(){var e=Q.length,t=R-1;D(t<0?(e+t)%e:t%e),z([]),K(!1)}),[K,z,Q,R]),te=function(e){var t=e.setCorrect,r=e.setWrongs,n=e.setReinforce,o=e.gotoNext,i=e.answer,a=e.choices,c=e.wrongs,u=e.reinforce,l=e.practiceSide;return function(e){if(e.val===(null==i?void 0:i.val))t(!0),setTimeout(o,500);else{var s=a.findIndex((function(t){return t.val===e.val}));r([].concat(x(c),[s])),n([].concat(x(u),[j(j({},e),{},{practiceSide:l})]))}}}({setCorrect:K,setWrongs:z,setReinforce:G,gotoNext:X,practiceSide:U,answer:H,choices:B,wrongs:$,reinforce:F}),re=T({checkAnswer:te,charSet:w,practiceSide:U,wrongs:$,choices:B,answer:H,correct:J,wideMode:L.current,easyMode:C.current,choiceN:M.current});if((0,a.useEffect)((function(){A.current.length>0&&V()}),[R,U,w]),!Y)return(0,m.jsx)(l.n,{addlStyle:"kana"});var ne=i()({"kana main-panel h-100":!0}),oe=i()({"choices-row d-flex justify-content-around":!0,"w-50":!L.current,"w-100":L.current});return(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)("div",{className:ne,children:(0,m.jsxs)("div",{className:"d-flex justify-content-between h-100",children:[(0,m.jsx)(f.Z,{ariaLabel:"Previous",action:ee,children:(0,m.jsx)(n.wyc,{size:16})}),!L.current&&(0,m.jsxs)("div",{className:i()({"pt-3 d-flex flex-column justify-content-center text-center w-50":!0,"correct-color":J}),children:[(0,m.jsx)("h1",{className:"clickable",children:Y}),C.current&&!U&&(0,m.jsx)("div",{className:"d-flex justify-content-around",children:(0,m.jsx)("h6",{children:(0,c.Vj)(Y)})})]}),(0,m.jsx)("div",{className:oe,children:(0,m.jsx)("div",{className:"choices-column w-100 d-flex flex-wrap ",children:B.map((function(e,t){return re(t)}))})}),(0,m.jsx)(f.Z,{ariaLabel:"Next",action:X,children:(0,m.jsx)(n.XCv,{size:16})})]})}),(0,m.jsx)("div",{className:"options-bar mb-2 flex-shrink-1",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col",children:(0,m.jsx)(s.uY,{toggle:U,action:(0,u.kP)(Z,(function(e){return!e}))})}),(0,m.jsx)("div",{className:"col"}),(0,m.jsx)("div",{className:"col"})]})})]})}function E(e){return e===y.kS.MIXED?Math.floor(2*Math.random()):e}function N(e){var t=e.charSet,r=e.choiceN,n=e.wideMode,o=e.vowelsR,i=e.consonantsR,c=e.soundsR,u=e.hiraganaR,l=e.katakanaR,s=e.practiceSide,f=e.reinforce,d=e.selectedIndex,v=S((0,a.useState)("undefined"),2),p=v[0],m=v[1],b=S((0,a.useState)({val:"",hint:"",cSet:y.kS.HIRAGANA}),2),g=b[0],j=b[1],w=S((0,a.useState)([]),2),O=w[0],k=w[1],P=S((0,a.useState)([]),2),A=P[0],N=P[1],T=S((0,a.useState)([]),2),L=T[0],C=T[1],M=S((0,a.useState)(!1),2),I=M[0],R=M[1],D=(0,a.useCallback)((function(){var e,a,v,p=u.current,b=l.current;e=A.length>0?A:function(e){for(var t=[],r=e[0].length,n=e.length,o=0;o<r;o++)for(var i=0;i<n;i++)1==o&&12==i||3==o&&12==i||2==o&&14==i||0!==o&&15==i||(t=[].concat(x(t),[{vowel:o,consonant:i}]));return(0,h.Sy)(t),t}(p);var g,w,S,O,P=Math.random()<1/3,T=(g={vowels:o.current,consonants:i.current,sounds:c.current},w=g.vowels,S=g.consonants,O=g.sounds,function(e,t){var r=S[e]+w[t];return O[r]||r}),L=function(e){var t=e.hiragana,r=e.katakana;return function(e,n,o){return o===y.kS.HIRAGANA?t[e][n]:r[e][n]}}({hiragana:p,katakana:b});if(P&&f.length>0){var M=f[f.length-1];if(s===M.practiceSide)v=M;else{var I=M.val;v={val:M.hint,hint:I,cSet:M.cSet}}}else{var D=e[d],_=D.consonant,F=D.vowel,G=E(t),q=T(_,F),U=L(_,F,G);v=s?{val:U,hint:q,cSet:G}:{val:q,hint:U,cSet:G}}a=v.hint;var Z=function(e,t,r){for(var n=e.getPronunciation,o=e.getKanaCharacter,i=e.charSet,a=e.choiceN,c=[t],u=e.practiceSide,l=function(){var e,t=r.length,a=Math.floor(Math.random()*(t-0)+0),l=E(i),s=n(r[a].consonant,r[a].vowel),f=o(r[a].consonant,r[a].vowel,l);e=u?{val:f,hint:s,cSet:l}:{val:s,hint:f,cSet:l},(u&&!c.some((function(t){return t.hint===e.hint}))||!u&&!c.some((function(t){return t.val===e.val})))&&(c=[].concat(x(c),[e]))};c.length<a;)l();return(0,h.Sy)(c),c}({getPronunciation:T,getKanaCharacter:L,charSet:t,choiceN:r,practiceSide:s},v,e);n&&(Z=[].concat(x(Z),[{val:a,hint:a,cSet:v.cSet,q:!0}])),m(a),j(v),k(Z),N(e),C([]),R(!1)}),[t,A,i,o,c,u,l,s,f,d,n,r]);return{prepareGame:D,setWrongs:C,setCorrect:R,answer:g,correct:I,wrongs:L,question:p,choices:O,gameOrder:A}}function T(e){var t=e.checkAnswer,r=e.wideMode,n=e.easyMode,o=e.charSet,a=e.practiceSide,u=e.wrongs,l=e.choices,s=e.answer,f=e.correct,d=e.choiceN;return function(e){var v,p=u.includes(e),h=l[e].val===s.val&&f,b=i()({clickable:!l[e].q,"text-center":!0,"d-flex flex-column justify-content-center":!0,"correct-color":h||r&&l[e].q&&f,"incorrect-color":p,"question-color":r&&l[e].q&&!f}),g=i()({"mb-0":r}),j="d-flex justify-content-around",w=i()({"mb-0":!0,invisible:!p}),x=r?3/4:1,S=Math.trunc(1/Math.ceil(Math.sqrt(d))*x*100)+"%",O=!a;return v=!n||n&&!O?n&&!O&&!0!==l[e].q&&o===y.kS.MIXED?(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("h6",{className:w,children:l[e].hint}),(0,m.jsx)("h6",{className:w,children:(0,c.Vj)(l[e].val)})]}):!0!==l[e].q?(0,m.jsx)("div",{className:j,children:(0,m.jsx)("h6",{className:w,children:l[e].cSet===s.cSet?l[e].hint:(0,c.Vj)(l[e].hint)})}):(0,m.jsx)("div",{className:j,children:(0,m.jsx)("h6",{className:"mb-0 invisible",children:(0,c.Vj)(l[e].val)})}):!0!==l[e].q?(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("h6",{className:w,children:l[e].cSet===y.kS.HIRAGANA?l[e].hint:(0,c.Vj)(l[e].hint)}),(0,m.jsx)("h6",{className:w,children:l[e].cSet===y.kS.HIRAGANA?(0,c.Vj)(l[e].hint):l[e].hint})]}):(0,m.jsx)("div",{className:j,children:(0,m.jsx)("h6",{className:"mb-0",children:(0,c.Vj)(l[e].val)})}),(0,m.jsxs)("div",{onClick:function(){l[e].q||t(l[e])},className:b,style:{width:S},children:[(0,m.jsx)("h2",{className:g,children:l[e].val}),v]},e)}}},5649:(e,t,r)=>{r.r(t),r.d(t,{KanjiMeta:()=>C,default:()=>M});var n=r(9041),o=r(5529),i=r(4184),a=r.n(i),c=r(5472),u=r.n(c),l=r(7294),s=r(743),f=r(3246),d=r(341),v=r(3072),p=r(5591),h=r(588),y=r(2761),m=r(4026),b=r(7713),g=r(1741),j=r(3653),w=r(1816),x=r(1946),S=r(6278),O=r(5893);function k(e,t){return A(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||N(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){if(Array.isArray(e))return e}function E(e){return function(e){if(Array.isArray(e))return L(e)}(e)||T(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function T(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C={location:"/kanji/",label:"Kanji"};function M(){var e,t,r,i=(0,s.I0)(),c=(0,l.useCallback)((function(e){J((function(t){return[].concat(E(t),[e])})),i((0,y.Mh)(e))}),[i]),L=(0,l.useCallback)((function(e){J((function(t){return t.filter((function(t){return t!==e}))})),i((0,y.SI)(e))}),[i]),C=(0,h.R)(),M=C.kanjiList,I=C.vocabList,R=C.filterType,D=C.reinforce,_=C.activeTags,F=C.repetition;(0,l.useEffect)((function(){0===M.length&&i((0,y.tk)()),0===I.length&&i((0,b.Rz)())}),[]);var G=(0,l.useRef)(F);G.current=F;var q=k((0,l.useState)(0),2),U=q[0],Z=q[1],W=k((0,l.useState)(void 0),2),V=W[0],z=W[1],K=k((0,l.useState)([]),2),H=K[0],J=K[1],Y=k((0,l.useState)(!1),2),$=Y[0],B=Y[1],Q=k((0,l.useState)(!1),2),X=Q[0],ee=Q[1],te=k((0,l.useState)(!1),2),re=te[0],ne=te[1],oe=k((0,l.useState)(!1),2),ie=oe[0],ae=oe[1],ce=(0,l.useMemo)((function(){if(0===M.length)return[];if(0===Object.keys(G.current).length&&0===_.length)return M;var e=Object.keys(G.current).reduce((function(e,t){return!0===G.current[t].rein&&(e=[].concat(E(e),[t])),e}),[]),t=(0,v.Dm)(R.current,M,e,R.current===m.Lx.TAGS?_:[],(0,p.cM)(i,y.cy)),r=t.reduce((function(e,t){var r;return!0===(null===(r=G.current[t.uid])||void 0===r?void 0:r.rein)&&(e=[].concat(E(e),[t.uid])),e}),[]);return J(r),t}),[i,M,R,_]),ue=(0,l.useMemo)((function(){return 0===ce.length?[]:(0,v.tq)(ce)}),[ce]),le=(0,l.useCallback)((function(){var e=ce.length;Z((U+1)%e),z(void 0),B(!1),ee(!1),ne(!1),ae(!1)}),[ce,U]),se=(0,l.useCallback)((function(){var e=ce;if(D.current&&R.current===m.Lx.TAGS){var t=Object.keys(F).reduce((function(e,t){return!0===F[t].rein&&(e=[].concat(E(e),[t])),e}),[]),r=M.filter((function(e){return t.includes(e.uid)}));e=[].concat(E(ce),E(r))}(0,v.hY)(D.current,R.current,H,e,F,V,z,le)}),[le,M,ce,H,V,F,D,R]),fe=(0,l.useCallback)((function(){var e=ce.length,t=U-1;Z(t<0?(e+t)%e:t%e),z(void 0),B(!1),ee(!1),ne(!1),ae(!1)}),[ce,U]),de=(0,l.useCallback)((function(e){"left"===e?se():"right"===e&&fe()}),[se,fe]),ve=(0,S.M)(de).HTMLDivElementSwipeRef;if(ue.length<1)return(0,O.jsx)(g.n,{addlStyle:"main-panel"});var pe,he=V||(0,v.vr)(U,ue,ce),ye=(0,v.cc)(he,M),me=I.filter((function(e){return f.TZ.parse(e).getSpelling().includes(ye.kanji)&&e.english.toLowerCase()===ye.english.toLowerCase()||f.TZ.parse(e).getSpelling().includes(ye.kanji)&&e.english.toLowerCase().includes(ye.english.toLowerCase())&&"Verb"===e.grp||f.TZ.parse(e).getSpelling()===ye.kanji&&(e.english.toLowerCase().includes(ye.english.toLowerCase())||ye.english.toLowerCase().includes(e.english.toLowerCase()))})),be=[];if(me.length>0){var ge=A(pe=u()(me,(function(e){return e.english.length})))||T(pe)||N(pe)||P(),je=ge[0],we=ge.slice(1);be=[je].concat(E((0,d.Sy)(we)))}var xe=(null===(e=ye.tag.find((function(e){return _.includes(e)&&(0,x.F)(e)})))||void 0===e?void 0:e.replace("_"," "))||(null===(t=ye.tag.find((function(e){return(0,x.F)(e)})))||void 0===t?void 0:t.replace("_"," "))||"",Se=!0===(null===(r=F[ye.uid])||void 0===r?void 0:r.rein),Oe=be.slice(0,3).map((function(e,t,r){return(0,O.jsxs)(l.Fragment,{children:[e.english+" ",f.TZ.parse(e).toHTML(),t<r.length-1?"; ":"",(0,O.jsx)("wbr",{})]},e.uid)})),ke=(0,O.jsx)("span",{children:ye.english}),Pe=(U+1)/ce.length*100;return(0,O.jsxs)(l.Fragment,{children:[(0,O.jsx)("div",{className:"kanji main-panel h-100",children:(0,O.jsxs)("div",{ref:ve,className:"d-flex justify-content-between h-100",children:[(0,O.jsx)(w.Z,{ariaLabel:"Previous",action:fe,children:(0,O.jsx)(o.wyc,{size:16})}),(0,O.jsx)("div",{className:"grp-info",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:ye.grp}),(0,O.jsx)("div",{children:xe})]})}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("h1",{className:"pt-0",children:(0,O.jsx)("span",{children:ye.kanji})}),ye.on&&(0,O.jsx)("h4",{className:"pt-0",onClick:(0,p.kP)(B,(function(e){return!e})),children:(0,O.jsx)("span",{children:$?ye.on:"[On]"})})||(0,O.jsx)("h4",{className:"pt-0",children:"."}),ye.kun&&(0,O.jsx)("h4",{className:"pt-2",onClick:(0,p.kP)(ee,(function(e){return!e})),children:(0,O.jsx)("span",{children:X?ye.kun:"[Kun]"})})||(0,O.jsx)("h4",{className:"pt-2 mb-0",children:"."}),(0,O.jsxs)("div",{className:"d-flex flex-column",children:[(0,O.jsx)("span",{className:a()({"example-blk align-self-center clickable h6 pt-2":!0,"disabled-color":0===Oe.length}),onClick:(0,p.kP)(ne,(function(e){return!e})),children:(0,O.jsx)("span",{className:"text-nowrap",children:re&&Oe.length>0?Oe:"[Examples]"})}),(0,O.jsx)("h4",{className:"align-self-center pt-2 clickable",onClick:(0,p.kP)(ae,(function(e){return!e})),children:ie?ke:(0,O.jsx)("span",{children:"[Meaning]"})})]})]}),(0,O.jsx)("div",{className:"right-info"}),(0,O.jsx)(w.Z,{ariaLabel:"Next",action:se,children:(0,O.jsx)(o.XCv,{size:16})})]})}),(0,O.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,O.jsxs)("div",{className:"row opts-max-h",children:[(0,O.jsx)("div",{className:"col",children:(0,O.jsx)("div",{className:"d-flex justify-content-start"})}),(0,O.jsx)("div",{className:"col text-center",children:(0,O.jsx)(j.Qp,{visible:void 0!==V&&""!==V})}),(0,O.jsx)("div",{className:"col",children:(0,O.jsx)("div",{className:"d-flex justify-content-end",children:(0,O.jsx)(j.R_,{addFrequencyTerm:c,removeFrequencyTerm:L,toggle:Se,term:ye,count:H.length})})})]})}),(0,O.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,O.jsx)(n.Z,{variant:"determinate",value:Pe,color:Se?"secondary":"primary"})})]})}},2387:(e,t,r)=>{r.r(t),r.d(t,{PhrasesMeta:()=>q,default:()=>U});var n=r(9041),o=r(5529),i=r(7294),a=r(743),c=r(3827),u=r(3246),l=r(9575),s=r(8055),f=r(3072),d=r(9701),v=r(5591),p=r(4414),h=r(8876),y=r(1411);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=r(6278),j=r(3545),w=r(3999),x=r(4728),S=r(4026),O=r(6456),k=r(5231),P=r(7588),A=r(1741),E=r(3653),N=r(3307),T=r(1816),L=r(5893);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q={location:"/phrases/",label:"Phrases"};function U(){var e,t,r=(0,a.I0)(),b=(0,i.useRef)(void 0),C=(0,i.useRef)(0),M=_((0,i.useState)(void 0),2),F=M[0],G=M[1],q=_((0,i.useState)([]),2),U=q[0],z=q[1],K=_((0,i.useState)(-1),2),H=K[0],J=(K[1],_((0,i.useState)(Date.now()),2)),Y=J[0],$=J[1],B=(0,i.useRef)(Date.now()),Q=_((0,i.useState)(0),2),X=Q[0],ee=Q[1],te=_((0,i.useState)(null),2),re=te[0],ne=te[1],oe=_((0,i.useState)(null),2),ie=oe[0],ae=oe[1],ce=_((0,i.useState)(null),2),ue=ce[0],le=ce[1],se=_((0,i.useState)([]),2),fe=se[0],de=se[1],ve=_((0,i.useState)(!1),2),pe=ve[0],he=ve[1],ye=function(){var e=m((0,a.v9)((function(e){var t=e.global;return[t.debug,t.motionThreshold,t.swipeThreshold]}),a.wU),3),t=e[0],r=e[1],n=e[2],o=(0,a.v9)((function(e){return e.phrases}),(function(e,t){return e.version===t.version})).value,c=(0,a.v9)((function(e){return e.phrases.setting}),(function(e,t){return e.repTID===t.repTID})).repetition,u=(0,a.v9)((function(e){return e.vocabulary.setting.practiceSide})),l=m((0,a.v9)((function(e){var t=e.phrases.setting;return[t.reinforce,t.filter,t.ordered,t.romaji]}),a.wU),4),s=l[0],f=l[1],d=l[2],v=l[3],p=(0,a.v9)((function(e){return e.vocabulary.setting.activeGroup}),a.wU),h=(0,i.useRef)(s);h.current=s;var y=(0,i.useRef)(f);y.current=f;var b=(0,i.useRef)(d);b.current=d;var g=(0,i.useRef)(v);return g.current=v,{englishSideUp:u,repetition:c,debugLevel:t,motionThreshold:r,swipeThreshold:n,phraseList:o,activeGroup:p,reinforce:h,romajiActive:g,filterType:y,sortMethod:b}}(),me=ye.englishSideUp,be=ye.repetition,ge=ye.motionThreshold,je=ye.swipeThreshold,we=ye.phraseList,xe=ye.activeGroup,Se=ye.reinforce,Oe=ye.romajiActive,ke=ye.filterType,Pe=ye.sortMethod,Ae=(0,i.useRef)(be);Ae.current=be,(0,i.useEffect)((function(){0===we.length&&r((0,x.cC)())}),[]);var Ee=(0,i.useMemo)((function(){var e=Ae.current;if(0===we.length)return[];if(0===Object.keys(e).length&&0===xe.length)return we;var t=Object.keys(e).reduce((function(t,r){return!0===e[r].rein&&(t=[].concat(D(t),[r])),t}),[]),n=(0,f.Dm)(ke.current,we,t,xe,(0,v.cM)(r,x.f6)),o=n.reduce((function(t,r){var n;return!0===(null===(n=e[r.uid])||void 0===n?void 0:n.rein)&&(t=[].concat(D(t),[r.uid])),t}),[]);return de(o),n}),[r,we,ke,xe]),Ne=(0,i.useMemo)((function(){var e,t=Ae.current;if(0===Ee.length)return[];switch(Pe.current){case S.vl.RANDOM:e=(0,f.tq)(Ee);break;case S.vl.VIEW_DATE:e=(0,f.EL)(Ee,t);break;default:e=(0,f.fx)(Ee).order}return e}),[Ee]),Te=(0,i.useCallback)((function(){var e=Ee.length,t=(X+1)%e;t===H&&(t=(e+t+1)%e),B.current=Y,$(Date.now()),C.current=X,ee(t),G(void 0)}),[Ee,X,Y,H]),Le=(0,i.useCallback)((function(){(0,f.hY)(Se.current,ke.current,fe,Ee,Ae.current,F,(function(e){b.current=F,G(e)}),Te)}),[r,Se,ke,fe,Ee,F,Te]),Ce=(0,i.useCallback)((function(){var e,t=Ee.length;(e=F?X:(t+(X-1))%t)===H&&(e=(t+e-1)%t),B.current=Y,$(Date.now()),C.current=X,ee(e),G(void 0)}),[Ee,X,F,Y,H]),Me=function(e,t,r,n,o,i,a,s){return function(v,p){var h;if("left"===v)e(),h=Promise.all([Promise.resolve()]);else if("right"===v)t(),h=Promise.all([Promise.resolve()]);else{var y=r||(0,f.vr)(n,i,a),m=(0,f.cc)(y,o),b=s?"/override_cache":"";if("up"===v){var g=(0,u._I)(m),j=(0,d.b1)(c.vT+b,{tl:"ja",q:g,uid:y});h=(0,l.R$)(j,p)}else if("down"===v){var w=m.english,x=(0,d.b1)(c.vT+b,{tl:"en",q:w,uid:m.uid+".en"});h=(0,l.R$)(x,p)}}return h||Promise.reject()}}(Le,Ce,F,X,we,Ne,Ee,pe),Ie=(0,p.E)(ge),Re=(0,j.T)(Me,me,Ie),De=Re.beginLoop,_e=Re.abortLoop,Fe=Re.looperSwipe,Ge=Re.loopSettingBtn,qe=Re.loopActionBtn,Ue=Re.timedPlayAnswerHandlerWrapper,Ze=(Re.gradeTimedPlayEvent,Re.resetTimedPlay),We=Re.loop,Ve=Re.tpAnswered,ze=Re.tpAnimation;(0,i.useEffect)((function(){var e={selectedIndex:C.current,reinforcedUID:b.current,lastNext:B.current};if(F!==e.reinforcedUID||X!==e.selectedIndex){var t=e.reinforcedUID||(0,f.vr)(e.selectedIndex,Ne,Ee);if((0,f.Zc)(e.lastNext)){var n=(0,f.cc)(t,we),o=t!==e.reinforcedUID;r((0,x.s5)({uid:t,shouldIncrement:o})).unwrap().then((function(o){var i=o.map,a=o.prevMap,c=a[t]&&a[t].d,u=R({},t,I(I({},i[t]),{},{d:c})),l=function(e,t){return r((0,w.kg)(e,t))},f=void 0!==e.reinforcedUID;void 0!==Ve.current?(0,s.lP)(l,n,u,{frequency:f}):(0,s.Ps)(l,n,u,{frequency:f})}))}Ze()&&(0,f.u3)(e.lastNext)&&De(),ne(null),ae(null),le(null),z([]),C.current=X,b.current=F}}),[r,De,Ze,F,X,we,Ee,Ne,We]),(0,i.useEffect)((function(){r((0,w.kg)((0,f.w_)(Pe.current,["Random","Alphhabetic","View Date"]),S.x6.DEBUG))}),[r]),(0,h.q)(Me,(0,v.cM)(r,x.d1),Ue),(0,y.Z)("Phrases Loop",We,De,_e,Fe);var Ke=(0,g.M)(Me,Ue).HTMLDivElementSwipeRef;if(U.length>0){var He=(0,s.zV)(this.state),Je=(0,s.zV)(this.props),Ye=[].concat(D(U),[{msg:"props:",lvl:S.x6.WARN,css:"px-2"},{msg:Je,lvl:S.x6.WARN,css:"px-4"},{msg:"state:",lvl:S.x6.WARN,css:"px-2"},{msg:He,lvl:S.x6.WARN,css:"px-4"}]);return(0,L.jsx)(P.R,{next:Te,prev:Ce,children:(0,L.jsx)("div",{className:"d-flex flex-column justify-content-around",children:(0,L.jsx)(k.Z,{messages:Ye})})})}if(Ee.length<1||Ne.length<1)return(0,L.jsx)(A.n,{addlStyle:"main-panel"});var $e=F||(0,f.vr)(X,Ne,Ee),Be=(0,f.cc)($e,we),Qe=function(e,t,r,n,o){var i=t?{tl:"en",q:r.english,uid:r.uid+".en"}:{tl:"ja",q:(0,u._I)(r),uid:(0,f.gW)(r)};return(0,L.jsx)(O.Z,{visible:0===e&&0===o,word:i,reCache:n})}(je,me,Be,pe,We),Xe=function(e){var t=u.TZ.parse(e);return[t,t.toHTML()]}(Be),et=_(Xe,2),tt=et[0],rt=et[1],nt=function(e,t,r){return(0,L.jsx)("span",{onClick:e.lit?function(){r((function(t){return t?null:e.uid}))}:void 0,children:t?e.lit:e.english})}(Be,ue,le),ot=(0,f.JS)(me,nt,rt,Z,W),it=ot.topValue,at=ot.bottomValue,ct=ot.bottomLabel,ut=Be&&((null===(e=Be.lit)||void 0===e?void 0:e.length)||Be.english.length)<55,lt=function(e,t,r){var n={"fs-display-5":!0},o=n;return{aboveSmallCss:I({},R({},e?r?"h1":"h3":t?"h1":"h3",!0)),aboveLargeCss:n,belowNoInterruptCss:{"loop-no-interrupt":!0},belowSmallCss:I({},R({},e?t?"h1":"h3":r?"h1":"h3",!0)),belowLargeCss:o}}(me,tt&&tt.getSpelling().length<55,ut),st=lt.aboveSmallCss,ft=lt.aboveLargeCss,dt=lt.belowNoInterruptCss,vt=lt.belowSmallCss,pt=lt.belowLargeCss,ht=!0===(null===(t=be[Be.uid])||void 0===t?void 0:t.rein),yt=Be.romaji,mt=(X+1)/Ee.length*100;return(0,L.jsxs)(i.Fragment,{children:[(0,L.jsx)("div",{className:"phrases main-panel h-100",children:(0,L.jsxs)("div",{ref:Ke,className:"d-flex justify-content-between h-100",children:[(0,L.jsx)(T.Z,{ariaLabel:"Previous",action:Ce,children:(0,L.jsx)(o.wyc,{size:16})}),(0,L.jsxs)("div",{className:"pt-3 d-flex flex-column justify-content-around text-center",children:[(0,L.jsx)(N.Z,{breakPoint:"md",largeClassName:ft,smallClassName:st,children:it}),Oe.current&&yt&&(0,L.jsx)("h5",{children:(0,L.jsx)("span",{onClick:(0,v.kP)(ae,(function(e){return e?null:$e})),className:"clickable loop-no-interrupt",children:ie===$e?yt:"[Romaji]"})}),(0,L.jsx)(N.Z,{className:dt,breakPoint:"md",onClick:(0,v.kP)(ne,(function(e){return e?null:$e})),largeClassName:pt,smallClassName:vt,children:re===$e?at:ct}),(0,L.jsx)("div",{className:"d-flex justify-content-center",children:Qe})]}),(0,L.jsx)(T.Z,{ariaLabel:"Next",action:Le,children:(0,L.jsx)(o.XCv,{size:16})})]})}),(0,L.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,L.jsxs)("div",{className:"row opts-max-h",children:[(0,L.jsx)("div",{className:"col",children:(0,L.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,L.jsx)(E.uY,{toggle:me,action:(0,v.cM)(r,x.d1)}),(0,L.jsx)(E.Ro,{active:pe,action:V(pe,he)}),(0,L.jsx)("div",{className:"sm-icon-grp",children:Ge}),(0,L.jsx)("div",{className:"sm-icon-grp",children:qe})]})}),(0,L.jsx)("div",{className:"col text-center",children:(0,L.jsx)(E.Qp,{visible:void 0!==F&&""!==F})}),(0,L.jsx)("div",{className:"col",children:(0,L.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,L.jsx)(E.D4,{visible:me&&void 0!==Be.lit&&""!==Be.lit,toggle:ue===$e,action:(0,v.kP)(le,(function(e){return e?null:$e}))}),(0,L.jsx)(E.R_,{addFrequencyTerm:function(e){de((function(t){return[].concat(D(t),[e])})),(0,v.cM)(r,x.Lp)(e)},removeFrequencyTerm:function(e){de((function(t){return t.filter((function(t){return t!==e}))})),(0,v.cM)(r,x.gP)(e)},toggle:ht,term:Be,count:fe.length})]})})]})}),(0,L.jsx)("div",{className:"progress-line flex-shrink-1",children:(0,L.jsx)(n.Z,{variant:null===ze?"determinate":"buffer",value:null===ze?mt:0,valueBuffer:null!=ze?ze:void 0,color:ht?"secondary":"primary"})})]})}var Z=(0,L.jsx)("span",{children:"[English]"}),W=(0,L.jsx)("span",{children:"[Japanese]"});function V(e,t){return function(){!1===e&&(t(!0),setTimeout((function(){t(!1)}),2e3))}}},1946:(e,t,r)=>{r.d(t,{E:()=>m,F:()=>y});var n=r(5472),o=r.n(n),i=r(3174),a=r.n(i),c=r(5697),u=r.n(c),l=r(7294),s=r(6892),f=r(5893);function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){return e.includes("_")&&Number.isInteger(parseInt(e.split("_")[1],10))}function m(e){var t=e.termsActive,r=e.termsTags,n=e.toggleTermActive,i=e.selectedCount;(0,l.useEffect)((function(){t.forEach((function(e){r.includes(e)||n(e)}))}),[t,r,n]);var c=v(a()(r,(function(e){return y(e)})),2),u=c[0],p=c[1],h=Object.values(u.reduce((function(e,t){var r=t.split("_")[0];return e[r]?e[r]=[].concat(d(e[r]),[t]):e[r]=[t],e}),{})),m=[].concat(d(o()(p)),d(h.reduce((function(e,t){var r=o()(t,(function(e){var t=v(e.split("_"),2)[1];return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}));return[].concat(d(e),d(r))}),[]))),b=i&&i>0&&"("+i+")"||"";return(0,f.jsxs)("div",{children:[(0,f.jsxs)("h5",{children:["Tag List ",b]},0),m.map((function(e,r){return(0,f.jsx)("div",{children:(0,f.jsx)(s.M,{active:t.includes(e),onClick:function(){n(e)},children:e},r)},r+1)}))]})}m.propTypes={termsTags:u().array,termsActive:u().array,toggleTermActive:u().func,selectedCount:u().number}},6627:(e,t,r)=>{r.r(t),r.d(t,{SettingsMeta:()=>ge,default:()=>Oe});var n=r(5529),o=r(4184),i=r.n(o),a=r(7294),c=r(743),u=r(3246),l=r(8055),s=r(3072),f=r(5591);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=r(3999),h=r(4320),y=r(2761),m=r(4724),b=r(8681),g=r(4728),j=r(4026),w=r(7713),x=r(5231),S=r(5697),O=r.n(S),k=r(245),P=r(195),A=r(5893);function E(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e){for(var t=(u=(0,a.useState)(e.initial),l=1,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(u,l)||N(u,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],r=32,n=[],o={},i=4;i<17;i++){var c=(i-4)/13*75;n=[].concat(E(n),[{value:c,raw:i}]),o["r"+c]=i,o["s"+i]=c}var u,l;n=[].concat(E(n),[{value:100,raw:r}]),o.r100=r,o.s32=100;var s,f=function(e){return o["r"+e]};return(0,A.jsxs)("div",{className:"kana-slider",children:[(0,A.jsx)(k.Z,{id:"discrete-slider-restrict",gutterBottom:!0,children:"Difficulty"}),(0,A.jsx)(P.ZP,{defaultValue:(s=t,o["s"+s]),valueLabelFormat:f,getAriaValueText:function(e){return""+f(e)},"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:n,onChangeCommitted:function(t,n){"number"==typeof n&&function(t){var n=e.initial,o=f(t);o!==r&&n!==r&&o!==n||o!==r&&n===r&&o!==n?(e.setChoiceN(o),!0===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide()):o===r&&o!==n&&(e.setChoiceN(o),!1===e.wideMode&&"function"==typeof e.toggleWide&&e.toggleWide())}(n)}})]})}L.propTypes={initial:O().number,wideMode:O().bool,setChoiceN:O().func,toggleWide:O().func};var C=r(1741);function M(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t,r,o,a){return(0,A.jsxs)("div",{className:i()({"p-0 px-2":!0,clickable:e}),onClick:function(){e&&a(r)},children:[(0,A.jsxs)("span",{className:"p-1",children:[e&&(0,A.jsx)(n.oOx,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,A.jsx)(n.aNF,{size:"small","aria-label":"inactive"})]}),(0,A.jsx)("span",{className:"p-1",children:o})]},t)}function D(e){var t=[],r=e.termsFreq.reduce((function(r,n){var o=e.terms.find((function(e){return e.uid===n}));return o?r=[].concat(M(r),[o]):t=[].concat(M(t),[n]),r}),[]).reduce((function(e,t){var r=t.grp?t.grp:"undefined";return e[r]?e[r]=[].concat(M(e[r]),[t]):e[r]=[t],e}),{});return(0,A.jsxs)("div",{children:[(0,A.jsx)("h5",{children:"Frequency"},0),(0,A.jsx)("div",{children:Object.keys(r).map((function(t,n){var o=e.termsActive.includes(t);return(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("span",{className:i()({"font-weight-bold":o}),onClick:function(){return e.toggleTermActiveGrp(t)},children:t}),(0,A.jsx)("div",{children:r[t].map((function(t,r){return R(o,r,t.uid,t.english,e.removeFrequencyTerm)}))})]},n)}))},1),t.length>0&&(0,A.jsxs)("div",{className:"mt-5 text-break",children:[(0,A.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),t.map((function(t,r){return R(!0,r,t,t,e.removeFrequencyTerm)}))]})]})}D.propTypes={termsActive:O().array,termsFreq:O().array,terms:O().array,removeFrequencyTerm:O().func,toggleTermActiveGrp:O().func};var _=r(6892),F=r(5472),G=r.n(F);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e){return(0,A.jsxs)("div",{children:[(0,A.jsx)("h5",{children:"Groups"},0),Object.keys(e.termsGroups).map((function(t,r){var n=e.termsActive.includes(t);return(0,A.jsxs)("div",{children:[(0,A.jsx)(_.M,{active:e.termsActive.includes(t),onClick:function(){return e.toggleTermActiveGrp(t)},children:t},r),!n&&G()(e.termsGroups[t],(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("_"),2)[1];return Number.isInteger(parseInt(t,10))?parseInt(t,10):e})).map((function(r,n){return(0,A.jsx)(_.M,{addlStyle:"ms-3",active:e.termsActive.includes(t+"."+r),onClick:function(){e.toggleTermActiveGrp(t+"."+r)},children:r},n)}))]},r+1)}))]})}U.propTypes={termsGroups:O().object,termsActive:O().array,toggleTermActiveGrp:O().func};var Z=r(6259);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===W(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t={disabled:!!e.disabled||void 0};return(0,A.jsxs)("div",{className:"settings-switch-root",children:[(0,A.jsx)("p",{className:i()({"disabled-color":t.disabled}),children:e.statusText}),(0,A.jsx)(Z.Z,z(z({},t),{},{checked:e.active,onChange:function(){return e.action()},color:e.color||"primary",inputProps:{"aria-label":e.statusText+" checkbox"}}))]})}H.propTypes={active:O().bool,action:O().func.isRequired,statusText:O().string.isRequired,color:O().string,disabled:O().bool};const J=H;function Y(){var e=(0,c.I0)(),t=function(){var e=(0,c.v9)((function(e){return{phrases:e.phrases}})).phrases,t=e.setting,r=t.ordered,n=t.romaji,o=t.reinforce,i=t.activeGroup,a=t.filter,u=t.repetition;return{phrases:e.value,phraseGroups:e.grpObj,phraseOrder:r,phraseRomaji:n,phraseReinforce:o,phraseActive:i,phraseFilter:a,phraseRep:u}}(),r=t.phrases,n=t.phraseGroups,o=t.phraseOrder,i=t.phraseRomaji,a=t.phraseReinforce,u=t.phraseActive,l=t.phraseFilter,d=t.phraseRep;0===r.length&&e((0,g.cC)());var v=Object.keys(d).filter((function(e){var t;return!0===(null===(t=d[e])||void 0===t?void 0:t.rein)}));if(r.length<1||Object.keys(n).length<1)return(0,A.jsx)(C.n,{addlStyle:"phrases-settings"});var p=(0,s.wG)(n,u);if(p.length>0)throw new Error("Stale phrases active group",{cause:{code:"StalePhraseActiveGrp",value:p}});return(0,A.jsx)("div",{className:"outer",children:(0,A.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,A.jsxs)("div",{className:"column-1",children:[(0,A.jsx)("h4",{children:(0,s.w_)(l,["Phrases Group","Frequency List","NOT_USED_Tags"])}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:l%2==0,action:(0,f.cM)(e,g.f6),color:"default",statusText:"Filter by"})}),l===j.Lx.GROUP&&(0,A.jsx)(U,{termsGroups:n,termsActive:u,toggleTermActiveGrp:function(t){return e((0,g.cz)(t))}}),l===j.Lx.FREQUENCY&&0===v.length&&(0,A.jsx)("div",{className:"fst-italic",children:"No phrases have been chosen"}),l===j.Lx.FREQUENCY&&v.length>0&&(0,A.jsx)(D,{termsActive:u,termsFreq:v,terms:r,removeFrequencyTerm:function(t){return e((0,g.gP)(t))},toggleTermActiveGrp:function(t){return e((0,g.cz)(t))}})]}),(0,A.jsx)("div",{className:"column-2",children:(0,A.jsxs)("div",{className:"setting-block",children:[(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:o===j.vl.RANDOM,action:(0,f.cM)(e,g.mW),color:"default",statusText:(0,s.w_)(o,j.iU)})}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:a,action:(0,f.cM)(e,g.vy),disabled:l===j.Lx.FREQUENCY,statusText:"Reinforcement"})}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:i,action:(0,f.cM)(e,g.OJ),statusText:"Romaji"})})]})})]})})}var $=r(5834),B=r(6867),Q=r(9737),X=r(9334),ee=r(1664),te=r(7182);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e){var t=re((0,a.useState)(null),2),r=t[0],o=t[1],c=re((0,a.useState)(e.initial),2),u=c[0],l=c[1],s=(0,a.useMemo)((function(){return e.options}),[]);(0,a.useMemo)((function(){l(e.initial)}),[e.initial]);var f=Boolean(r),d=function(e){o(e.currentTarget)};return(0,A.jsxs)("div",{className:i()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,A.jsx)(Q.Z,{component:"nav",disablePadding:!0,children:(0,A.jsx)($.Z,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":f?"true":void 0,onClick:d,children:(0,A.jsx)(X.Z,{primary:e.title,secondary:s[u],secondaryTypographyProps:{color:"unset"}})})}),(0,A.jsx)(ee.Z,{id:"filter-menu",anchorEl:r,open:f,onClose:function(){o(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:s.map((function(t,r){return(0,A.jsx)(te.Z,{selected:r===u,onClick:function(t){return function(t,r){l(r),o(null),e.onChange(r)}(0,r)},children:t},t)}))}),(0,A.jsx)(B.Z,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:d,children:(0,A.jsx)(n.Ui8,{size:"medium",className:i()({"rotate-transition":!0,"rotate-90":f})})})]})}function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(e){for(var t=(l=(0,a.useState)(e.initial),s=1,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(l,s)||ae(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],r=Math.min(e.max,t),n=e.max,o=[],i={},c=0;c<n+1;c++){var u=(c-0)/(n-0)*100;o=[].concat(ie(o),[{value:u,raw:c}]),i["r"+u]=c,i["s"+c]=u}var l,s,f,d=function(e){return i["r"+e]},v=function(e){var t=d(e),r=Math.trunc(n/2),o="",i=r+Math.abs(r-t);return n%2!=0&&t<=r&&(o=++i+""),n%2==0&&t===r||(o=t<r+1?i+" "+(n-i):n-i+" "+i),o};return(0,A.jsxs)("div",{className:"verb-form-slider-root",children:[(0,A.jsx)(k.Z,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,A.jsx)(P.ZP,{defaultValue:(f=r,i["s"+f]),valueLabelFormat:v,getAriaValueText:v,"aria-labelledby":"discrete-slider-restrict",step:null,valueLabelDisplay:"auto",marks:o,onChangeCommitted:function(t,n){"number"==typeof n&&function(t){var n=r,o=d(t);o!==n&&e.setChoiceN(o)}(n)}})]})}function le(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(){var e=(0,c.I0)(),t=function(){var e=(0,c.v9)((function(e){return{vocabulary:e.vocabulary}})).vocabulary,t=e.setting,r=t.ordered,n=t.romaji,o=t.bareKanji,i=t.hintEnabled,a=t.activeGroup,u=t.autoVerbView,l=t.verbColSplit,s=t.filter,f=t.memoThreshold,d=t.repetition,v=t.reinforce,p=t.verbFormsOrder;return{vocabulary:e.value,vocabGroups:e.grpObj,vocabOrder:r,vocabRomaji:n,showBareKanji:o,vocabHint:i,vocabActive:a,autoVerbView:u,verbColSplit:l,vocabFilter:s,memoThreshold:f,vocabRep:d,vocabReinforce:v,verbFormsOrder:p}}(),r=t.vocabulary,o=t.vocabGroups,u=t.vocabOrder,l=t.vocabRomaji,d=t.showBareKanji,v=t.vocabHint,p=t.vocabActive,h=t.autoVerbView,y=t.verbColSplit,m=t.vocabFilter,b=t.memoThreshold,g=t.vocabRep,x=t.vocabReinforce,S=t.verbFormsOrder,O=se((0,a.useState)(Math.abs(b)),1)[0];0===Object.keys(o).length&&e((0,w.Rz)());var k=(0,a.useMemo)((function(){return Object.keys(g).filter((function(e){var t;return!0===(null===(t=g[e])||void 0===t?void 0:t.rein)}))}),[g]),E=se((0,a.useMemo)((function(){var e=w.E3.setting.verbFormsOrder,t=S.reduce((function(t,r){return e.includes(r)&&(t=[].concat(le(t),[r])),t}),[]),r=e.reduce((function(e,r){return t.includes(r)||(e=[].concat(le(e),[r])),e}),[]);return[t,r]}),[S]),2),N=E[0],T=E[1];if(r.length<1||Object.keys(o).length<1)return(0,A.jsx)(C.n,{addlStyle:"vocabulary-settings"});var L=(0,s.wG)(o,p);if(L.length>0)throw new Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:L}});return(0,A.jsx)("div",{className:"outer",children:(0,A.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,A.jsxs)("div",{className:"column-1",children:[(0,A.jsx)(oe,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:m,onChange:(0,f.cM)(e,w.ZZ)}),m===j.Lx.GROUP&&(0,A.jsx)(U,{termsGroups:o,termsActive:p,toggleTermActiveGrp:(0,f.cM)(e,w.sG)}),m===j.Lx.FREQUENCY&&0===k.length&&(0,A.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),m===j.Lx.FREQUENCY&&k.length>0&&(0,A.jsx)(D,{termsActive:p,termsFreq:k,terms:r,removeFrequencyTerm:(0,f.cM)(e,w.xz),toggleTermActiveGrp:(0,f.cM)(e,w.sG)})]}),(0,A.jsxs)("div",{className:"column-2 setting-block",children:[(0,A.jsx)(oe,{title:"Sort by:",options:j.iU,initial:u,onChange:(0,f.cM)(e,w.wf)}),u===j.vl.DIFFICULTY&&(0,A.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,A.jsx)(P.ZP,{defaultValue:O,track:b<0?"inverted":void 0,onChangeCommitted:function(t,r){var n=b<0?-1:1;"number"==typeof r&&e((0,w._4)(n*r))},valueLabelDisplay:"auto"}),(0,A.jsx)("div",{className:"mt-2 ms-3 ",onClick:(0,f.cM)(e,w._4,-1*b),children:b<0?(0,A.jsx)(n.k6S,{}):(0,A.jsx)(n.aoE,{})})]}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:x,action:(0,f.cM)(e,w.gl),disabled:m===j.Lx.FREQUENCY,statusText:"Reinforcement"})}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:l,action:(0,f.cM)(e,w.VX),statusText:"Romaji"})}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:d,action:(0,f.cM)(e,w.Vb),statusText:"English+Kanji"})}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:v,action:(0,f.cM)(e,w.Tn),statusText:"Hint"})}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:h,action:(0,f.cM)(e,w.eK),statusText:"Auto Verb View"})}),h&&(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,A.jsx)("div",{children:[N.map((function(t,r){return(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("div",{className:i()({"me-3":!0,"disabled-color":0===r}),onClick:function(){if(r>0){var t=N.slice(0,r-1),n=N[r-1],o=N[r],i=N.slice(r+1);e((0,w.Hi)([].concat(le(t),[o,n],le(i))))}},children:(0,A.jsx)(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,A.jsx)("span",{className:"w-100 text-start",children:t}),(0,A.jsx)("div",{onClick:function(){if(N.length>1){var t=[].concat(le(N.slice(0,r)),le(N.slice(r+1)));e((0,w.Hi)(t))}},children:(0,A.jsx)(n.oOx,{className:i()({"mt-1 ms-3":!0,"incorrect-color":N.length>1,"disabled-color":1===N.length}),size:"small","aria-label":"remove"})})]},r)})),T.map((function(t,r){return(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("div",{className:"me-3 invisible",children:(0,A.jsx)(n.g8U,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,A.jsx)("span",{className:"w-100 text-start disabled-color",children:t}),(0,A.jsx)("div",{onClick:(0,f.cM)(e,w.Hi,[].concat(le(N),[T[r]])),children:(0,A.jsx)(n.wl8,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},N.length+r)}))]})})}),h&&(0,A.jsx)("div",{children:(0,A.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,A.jsx)(ue,{initial:y,setChoiceN:(0,f.cM)(e,w.oG),max:S.length,statusText:"Column layout"})})})]})]})})}oe.propTypes={disabled:O().bool,flip:O().bool,title:O().string,options:O().arrayOf(O().string),initial:O().number,onChange:O().func},ue.propTypes={statusText:O().string,initial:O().number.isRequired,max:O().number.isRequired,setChoiceN:O().func.isRequired};var pe=r(1946);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ge={location:"/settings/",label:"Settings"};function je(e,t){var r=t.cause;switch(e((0,p.zA)(j.x6.DEBUG)),null==r?void 0:r.code){case"StaleVocabActiveGrp":var n=r.value;e((0,p.kg)("Error: "+t.message,j.x6.ERROR)),e((0,p.kg)("Group "+JSON.stringify(n)+" Removed",j.x6.ERROR)),e((0,w.sG)(n));break;case"StalePhraseActiveGrp":var o=r.value;e((0,p.kg)("Error: "+t.message,j.x6.ERROR)),e((0,p.kg)("Group "+JSON.stringify(o)+" Removed",j.x6.ERROR)),e((0,g.cz)(o));break;case"DeviceMotionEvent":e((0,p.kg)("Error: "+t.message,j.x6.ERROR)),e((0,p.cv)(0))}}function we(e,t,r){return function(n){try{(0,s.Mm)(n,t,(function(e){r(Number(e.toFixed(2))),setTimeout((function(){r(void 0)}),300)}))}catch(t){t instanceof Error&&je(e,t)}}}function xe(e,t){var r=e?(0,A.jsx)(n.oOx,{className:"clickable",size:"medium","aria-label":"collapse"}):(0,A.jsx)(n.wl8,{className:"clickable",size:"medium","aria-label":"expand"});return(0,A.jsx)("h2",{onClick:function(){return t((function(e){return!e}))},children:r})}var Se=i()({"mb-5":!0});function Oe(){var e=(0,c.I0)(),t=(0,a.useRef)(void 0),r=function(){var e=d((0,c.v9)((function(e){var t=e.global;return[t.darkMode,t.swipeThreshold,t.motionThreshold,t.debug]}),c.wU),4),t=e[0],r=e[1],n=e[2],o=e[3],i=(0,c.v9)((function(e){return e.global.memory}),(function(e,t){return e.usage===t.usage})),a=d((0,c.v9)((function(e){var t=e.kanji.setting;return[t.choiceN,t.filter,t.reinforce,t.activeTags]}),c.wU),4),u=a[0],l=a[1],s=a[2],f=a[3],v=d((0,c.v9)((function(e){var t=e.opposite;return[t.qRomaji,t.aRomaji]}),c.wU),2),p=v[0],h=v[1],y=d((0,c.v9)((function(e){var t=e.kana.setting;return[t.choiceN,t.wideMode,t.easyMode,t.charSet]}),c.wU),4),m=y[0],b=y[1],g=y[2],j=y[3],w=(0,c.v9)((function(e){return e.particle.setting.aRomaji})),x=(0,c.v9)((function(e){return e.vocabulary}),(function(e,t){return e.version===t.version})).value,S=(0,c.v9)((function(e){return e.vocabulary.setting}),(function(e,t){return e.repTID===t.repTID})).repetition,O=(0,c.v9)((function(e){return e.phrases}),(function(e,t){return e.version===t.version})).value,k=(0,c.v9)((function(e){return e.phrases.setting}),(function(e,t){return e.repTID===t.repTID})).repetition,P=(0,c.v9)((function(e){return e.kanji}),(function(e,t){return e.version===t.version})).value;return{darkMode:t,swipeThreshold:r,motionThreshold:n,memory:i,debug:o,kanjiChoiceN:u,kanjiFilter:l,kanjiReinforce:s,kanjiActiveTags:f,oppositesQRomaji:p,oppositesARomaji:h,choiceN:m,wideMode:b,easyMode:g,charSet:j,particlesARomaji:w,vocabList:x,kanjiTagObj:(0,c.v9)((function(e){return e.kanji.tagObj}),c.wU),phraseList:O,KanjiList:P,vocabMeta:S,phraseMeta:k,kanjiMeta:(0,c.v9)((function(e){return e.kanji.setting}),(function(e,t){return e.repTID===t.repTID})).repetition}}(),o=r.darkMode,v=r.swipeThreshold,S=r.motionThreshold,O=r.memory,k=r.debug,P=r.kanjiChoiceN,E=r.kanjiFilter,N=r.kanjiReinforce,T=r.kanjiActiveTags,M=r.oppositesQRomaji,I=r.oppositesARomaji,R=r.choiceN,_=r.wideMode,F=r.easyMode,G=r.charSet,q=r.particlesARomaji,U=r.vocabList,Z=r.kanjiTagObj,W=r.phraseList,V=r.KanjiList,z=r.vocabMeta,K=r.phraseMeta,H=r.kanjiMeta,$=he((0,a.useState)(!1),2),B=$[0],Q=$[1],X=he((0,a.useState)(!1),2),ee=X[0],te=X[1],re=he((0,a.useState)(!1),2),ne=re[0],oe=re[1],ie=he((0,a.useState)(!1),2),ae=ie[0],ce=ie[1],ue=he((0,a.useState)(!1),2),le=ue[0],se=ue[1],fe=he((0,a.useState)(""),2),de=fe[0],me=fe[1],be=he((0,a.useState)(""),2),ge=be[0],Oe=be[1],ke=he((0,a.useState)(""),2),Pe=ke[0],Ae=ke[1],Ee=he((0,a.useState)(!1),2),Ne=Ee[0],Te=Ee[1],Le=he((0,a.useState)([]),2),Ce=Le[0],Me=(Le[1],he((0,a.useState)(0),2)),Ie=Me[0],Re=Me[1];(0,a.useEffect)((function(){var r;return e((0,p.M4)()),0===U.length&&e((0,w.Rz)()),0===Z.length&&e((0,y.tk)()),0===W.length&&e((0,g.cC)()),navigator.serviceWorker.addEventListener("message",De),null===(r=navigator.serviceWorker.controller)||void 0===r||r.postMessage({type:"SW_VERSION"}),function(){navigator.serviceWorker.removeEventListener("message",De),t.current&&window.removeEventListener("devicemotion",t.current)}}),[]),(0,a.useEffect)((function(){S>0&&void 0===t.current?(t.current=we(e,S,Re),(0,s.HG)((function(){t.current&&window.addEventListener("devicemotion",t.current)}),(function(t){return je(e,t)}))):0===S&&void 0!==t.current?(window.removeEventListener("devicemotion",t.current),t.current=void 0):(t.current&&window.removeEventListener("devicemotion",t.current),t.current=we(e,S,Re),(0,s.HG)((function(){t.current&&window.addEventListener("devicemotion",t.current)}),(function(t){return je(e,t)})))}),[e,S]);var De=(0,a.useCallback)((function(t){if("DO_HARD_REFRESH"===t.data.type){var r=t.data.error;r&&e((0,p.kg)(r,j.x6.ERROR)),setTimeout((function(){Q(!1),Te(r)}),2e3)}else if("SW_VERSION"===t.data.type){var n=t.data,o=n.swVersion,i=n.jsVersion,a=n.bundleVersion;me(o),Oe(i),Ae(a)}}),[e]),_e=(0,a.useMemo)((function(){return(0,s.XQ)(z,U,"[Stale Vocabulary]")}),[U,z]),Fe=_e.keys,Ge=_e.list,qe=(0,a.useMemo)((function(){return(0,s.XQ)(K,W,"[Stale Phrase]")}),[W,K]),Ue=qe.keys,Ze=qe.list,We=(0,a.useMemo)((function(){return(0,s.XQ)(H,V,"[Stale Kanji]")}),[V,H]),Ve=We.keys,ze=We.list,Ke=(0,a.useMemo)((function(){return(e=[].concat(ye(W),ye(U))).reduce((function(t,r,n){var o=u.TZ.parse(r);if(o.hasFurigana())try{(0,u.Wp)(o.getPronunciation(),o.getSpelling())}catch(u){var i,a;if(u instanceof Error&&("ParseError"===(null===(i=u.cause)||void 0===i?void 0:i.code)||"InputError"===(null===(a=u.cause)||void 0===a?void 0:a.code))){var c,l,s=(0,A.jsx)("hr",{},e.length+n),f=(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("span",{className:"col p-0",children:o.toHTML()}),(0,A.jsx)("span",{className:"col p-0",children:r.english}),(0,A.jsxs)("span",{className:"col p-0 app-sm-fs-xx-small",children:[(0,A.jsx)("div",{children:u.message}),(0,A.jsx)("div",{children:null!==(c=u.cause)&&void 0!==c&&c.info?JSON.stringify(null===(l=u.cause)||void 0===l?void 0:l.info):""})]})]},n);return t.length>0&&n<e.length-1?[].concat(ye(t),[s,f]):[].concat(ye(t),[f])}}return t}),[]);var e}),[U,W]),He=(0,a.useMemo)((function(){return new Set([].concat(ye(Fe),ye(Ue),ye(Ve)))}),[Fe,Ue,Ve]),Je=(0,a.useMemo)((function(){return(e=[].concat(ye(Ge),ye(Ze),ye(ze))).reduce((function(t,r,n){var o=(0,A.jsx)("hr",{},e.length+n),i=(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("span",{className:"col p-0",children:r.key}),(0,A.jsx)("span",{className:"col p-0",children:r.english}),(0,A.jsx)("span",{className:"col p-0 app-sm-fs-xx-small",children:(0,A.jsx)("div",{children:r.uid})})]},n);return t.length>0&&n<e.length?[].concat(ye(t),[o,i]):[].concat(ye(t),[i])}),[]);var e}),[Ge,Ze,ze]);if(Ce.length>0){var Ye=(0,l.zV)(this.state),$e=(0,l.zV)(this.props),Be=[].concat(ye(Ce),[{msg:"props:",lvl:j.x6.WARN,css:"px-2"},{msg:$e,lvl:j.x6.WARN,css:"px-4"},{msg:"state:",lvl:j.x6.WARN,css:"px-2"},{msg:Ye,lvl:j.x6.WARN,css:"px-4"}]);return(0,A.jsx)("div",{children:(0,A.jsx)("div",{className:"d-flex flex-column justify-content-around",children:(0,A.jsx)(x.Z,{messages:Be})})})}if(U.length<1||W.length<1||Z.length<1)return(0,A.jsx)(C.n,{addlStyle:"main-panel"});var Qe=Object.values(V).filter((function(e){return e.tag.some((function(e){return T.includes(e)}))})),Xe=Qe.map((function(e){return e.uid})),et=Object.keys(H).filter((function(e){var t;return!0===(null===(t=H[e])||void 0===t?void 0:t.rein)})),tt=et.filter((function(e){return!Xe.includes(e)}));return(0,A.jsx)("div",{className:"settings",children:(0,A.jsxs)("div",{className:"d-flex flex-column justify-content-between px-3",children:[(0,A.jsxs)("div",{className:Se,children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h2",{children:"Global"}),(0,A.jsx)("h2",{})]}),(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,A.jsxs)("div",{className:"column-1 d-flex flex-column justify-content-end",children:[(0,A.jsxs)("div",{className:i()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===v}),children:[(0,A.jsx)("div",{className:"clickable px-2 pb-2",onClick:function(){e(v-1<=0?(0,p.nh)(0):(0,p.nh)(v-1))},children:"-"}),(0,A.jsx)("div",{className:"px-2",children:v}),(0,A.jsx)("div",{className:"clickable px-2",onClick:function(){return e((0,p.nh)(v+1))},children:"+"})]}),(0,A.jsxs)("div",{className:i()({"w-25 d-flex flex-row justify-content-between":!0,invisible:0===S}),children:[(0,A.jsx)("div",{className:"clickable px-2 pb-2",onClick:function(){e(S-.5<=0?(0,p.cv)(0):(0,p.cv)(S-.5))},children:"-"}),(0,A.jsx)("div",{className:i()({"px-2":!0,"correct-color":Ie>S&&Ie<=S+1,"question-color":Ie>S+1&&Ie<=S+2,"incorrect-color":Ie>S+2}),children:null!=Ie?Ie:S}),(0,A.jsx)("div",{className:"clickable px-2",onClick:function(){e((0,p.cv)(S+.5))},children:"+"})]})]}),(0,A.jsxs)("div",{className:"column-2",children:[(0,A.jsx)("div",{className:"setting-block",children:(0,A.jsx)(J,{active:o,action:(0,f.cM)(e,p.In),statusText:(o?"Dark":"Light")+" Mode"})}),(0,A.jsx)("div",{className:"setting-block",children:(0,A.jsx)(J,{active:v>0,action:function(){e(v>0?(0,p.nh)(0):(0,p.nh)(1))},statusText:"Touch Swipes"})}),(0,A.jsx)("div",{className:"setting-block",children:(0,A.jsx)(J,{active:S>0,action:function(){e(0===S?(0,p.cv)(6):(0,p.cv)(0))},statusText:"Accelerometer"})})]})]})})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h2",{children:"Phrases"}),xe(ae,ce)]}),ae&&(0,A.jsx)(Y,{})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h2",{children:"Vocabulary"}),xe(ne,oe)]}),ne&&(0,A.jsx)(ve,{})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h2",{children:"Kanji"}),xe(ee,te)]}),ee&&(0,A.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,A.jsxs)("div",{className:"column-1",children:[(0,A.jsx)("h4",{children:(0,s.w_)(E,["Kanji Group","Frequency List","Tags"])}),(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:E%2==0,action:(0,f.cM)(e,y.cy),color:"default",statusText:"Filter by"})}),E===j.Lx.FREQUENCY&&0===et.length&&(0,A.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),E===j.Lx.TAGS&&(0,A.jsx)(pe.E,{selectedCount:0===Qe.length?Object.values(V).length:Qe.length,termsTags:Z,termsActive:T,toggleTermActive:(0,f.cM)(e,y.X8)}),E===j.Lx.FREQUENCY&&et.length>0&&(0,A.jsx)(D,{termsActive:T,termsFreq:et,terms:V,removeFrequencyTerm:(0,f.cM)(e,y.SI),toggleTermActiveGrp:(0,f.cM)(e,y.LD)})]}),(0,A.jsx)("div",{className:"column-2 setting-block",children:(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:N,action:(0,f.cM)(e,y.vT),disabled:E===j.Lx.FREQUENCY,statusText:(N?"(+"+tt.length+") ":"")+"Reinforcement"})})})]})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsx)("div",{className:"d-flex justify-content-between",children:(0,A.jsx)("h2",{children:"Opposites Game"})}),(0,A.jsxs)("div",{className:"setting-block",children:[(0,A.jsx)("div",{className:"mb-2",children:(0,A.jsx)(J,{active:M,action:(0,f.cM)(e,m.Cz),statusText:"Question Romaji"})}),(0,A.jsx)("div",{children:(0,A.jsx)(J,{active:I,action:(0,f.cM)(e,m.CO),statusText:"Answer Romaji"})})]})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsx)("div",{className:"d-flex justify-content-between",children:(0,A.jsx)("h2",{children:"Kana Game"})}),(0,A.jsxs)("div",{className:"setting-block",children:[(0,A.jsx)("div",{children:(0,A.jsx)(J,{active:G===j.kS.HIRAGANA,action:(0,f.cM)(e,h.I_),statusText:(0,s.w_)(G,["Hiragana","Katakana","Mixed"])})}),(0,A.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,A.jsx)(L,{initial:R,wideMode:_,setChoiceN:(0,f.cM)(e,h.Bs),toggleWide:(0,f.cM)(e,h.PD)})}),(0,A.jsx)("div",{children:(0,A.jsx)(J,{active:F,action:(0,f.cM)(e,h._S),statusText:"Kana Hints"})})]})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsx)("div",{className:"d-flex justify-content-between",children:(0,A.jsx)("h2",{children:"Kanji Game"})}),(0,A.jsx)("div",{className:"setting-block",children:(0,A.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,A.jsx)(L,{initial:P,setChoiceN:(0,f.cM)(e,y.ow)})})})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsx)("div",{className:"d-flex justify-content-between",children:(0,A.jsx)("h2",{children:"Particles Game"})}),(0,A.jsx)("div",{className:"setting-block",children:(0,A.jsx)(J,{active:q,action:(0,f.cM)(e,b.ro),statusText:"Answer Romaji"})})]}),(0,A.jsxs)("div",{className:Se,children:[(0,A.jsx)("div",{className:"d-flex justify-content-between",children:(0,A.jsx)("h2",{children:"Application"})}),(0,A.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,A.jsx)("div",{className:"column-1",children:(0,A.jsx)("div",{className:"setting-block mb-2 mt-2",children:(0,A.jsxs)("div",{className:"d-flex flex-row justify-content-between clickable",onClick:function(){me(""),Oe(""),Ae(""),setTimeout((function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"SW_VERSION"})}),1e3)},children:[(0,A.jsxs)("div",{className:"pe-2",children:[(0,A.jsx)("div",{children:"swVersion:"}),(0,A.jsx)("div",{children:"jsVersion:"}),(0,A.jsx)("div",{children:"bundleVersion:"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{children:de}),(0,A.jsx)("div",{children:ge}),(0,A.jsx)("div",{children:Pe})]})]})})}),(0,A.jsxs)("div",{className:"column-2",children:[(0,A.jsx)("div",{className:"setting-block mb-2",children:(0,A.jsx)(J,{active:k>j.x6.OFF,action:(0,f.cM)(e,p.zA),color:"default",statusText:(0,s.w_)(k,["Debug","Debug Error","Debug Warn","Debug"])})}),(0,A.jsxs)("div",{className:i()({"d-flex justify-content-end mb-2":!0,"disabled-color":Ne}),children:[(0,A.jsx)("p",{id:"hard-refresh",className:"text-right",children:"Hard Refresh"}),(0,A.jsx)("div",{className:i()({"spin-a-bit":B}),style:{height:"24px"},"aria-labelledby":"hard-refresh",onClick:function(){var e;Q(!0),Te(!1),setTimeout((function(){B&&(Q(!1),Te(!0))}),3e3),null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage({type:"DO_HARD_REFRESH"})},children:(0,A.jsx)(n.bnu,{className:"clickable",size:24,"aria-label":"Hard Refresh"})})]}),(0,A.jsx)("div",{className:"setting-block mb-2",children:(0,A.jsx)(J,{active:O.persistent,action:(0,f.cM)(e,p.TJ),disabled:O.persistent,color:"default",statusText:O.persistent?"Persistent "+~~(O.usage/1024/1024)+"/"+~~(O.quota/1024/1024)+"MB":"Persistent off"})})]})]}),Je.length>0&&(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h5",{children:"Stale Space Repetition"}),xe(le,se)]}),(0,A.jsx)("div",{className:"px-4",children:(0,A.jsx)("span",{children:"keys: "+JSON.stringify(Array.from(He))})}),le&&(0,A.jsx)("div",{className:"failed-spacerep-view container mt-2 p-0",children:Je})]}),Ke.length>0&&(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("h5",{children:"Failed Furigana Parse"}),(0,A.jsx)("div",{className:"failed-furigana-view container mt-2 p-0",children:Ke})]})]})]})})}},726:(e,t,r)=>{r.r(t),r.d(t,{VocabularyMeta:()=>Ee,default:()=>Ne});var n=r(9041),o=r(6514),i=r(8223),a=r(5529),c=r(3174),u=r.n(c),l=r(7294),s=r(743),f=r(3827),d=r(3246),v=r(9575),p=r(8055),h=r(3072),y=r(4597),m=r(9701),b=r(5591),g=r(4414),j=r(8876),w=r(1411),x=r(6278),S=r(3545);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(){var e=O((0,s.v9)((function(e){var t=e.global;return[t.debug,t.swipeThreshold,t.motionThreshold]}),s.wU),3),t=e[0],r=e[1],n=e[2],o=(0,s.v9)((function(e){return e.vocabulary}),(function(e,t){return e.version===t.version})).value,i=(0,s.v9)((function(e){return e.vocabulary.setting}),(function(e,t){return e.repTID===t.repTID})).repetition,a=O((0,s.v9)((function(e){var t=e.vocabulary,r=t.setting;return[r.practiceSide,r.autoVerbView,t.verbForm]}),s.wU),3),c=a[0],u=a[1],f=a[2],d=O((0,s.v9)((function(e){var t=e.vocabulary.setting;return[t.memoThreshold,t.reinforce,t.filter,t.hintEnabled,t.romaji,t.bareKanji,t.verbColSplit,t.ordered]}),s.wU),8),v=d[0],p=d[1],h=d[2],y=d[3],m=d[4],b=d[5],g=d[6],j=d[7],w=(0,s.v9)((function(e){return e.vocabulary.setting.verbFormsOrder}),s.wU),x=(0,s.v9)((function(e){return e.vocabulary.setting.activeGroup}),s.wU),S=(0,l.useRef)(v);S.current=v;var k=(0,l.useRef)(p);k.current=p;var P=(0,l.useRef)(h);P.current=h;var A=(0,l.useRef)(y);A.current=y;var E=(0,l.useRef)(j);return E.current=j,{englishSideUp:c,autoVerbView:u,verbForm:f,repetition:i,debugLevel:t,swipeThreshold:r,motionThreshold:n,vocabList:o,romajiEnabled:m,bareKanji:b,verbFormsOrder:w,verbColSplit:g,activeGroup:x,reinforce:k,hintEnabled:A,filterType:P,sortMethod:E,memoThreshold:S}}var A=r(3999),E=r(4026),N=r(7713),T=r(5231),L=r(2409),C=r(8301),M=r(1436),I=r(7625),R=r(195),D=r(4184),_=r.n(D),F=r(5697),G=r.n(F),q=r(341),U=r(6771),Z=r(5893);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===W(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e){var t,r,n=void 0!==e.value?e.value:30,o=z((0,l.useState)(n),2),i=o[0],a=o[1];(0,l.useEffect)((function(){a(n)}),[n,a]);var c=i/100,u=[255,(0,q.t7)(0,255,c),0],s=[(0,q.t7)(255,0,c),255,0],f=[13,(0,q.t7)(255,110,c),(0,q.t7)(0,256,c)],d=[(0,q.t7)(u[0],s[0],c),(0,q.t7)(u[1],s[1],c),(0,q.t7)(u[2],s[2],c)],v=[(0,q.t7)(s[0],f[0],c),(0,q.t7)(s[1],f[1],c),(0,q.t7)(s[2],f[2],c)],p=z([(0,q.t7)(d[0],v[0],c),(0,q.t7)(d[1],v[1],c),(0,q.t7)(d[2],v[2],c)].map((function(e){return Math.floor(e)})),3),y="rgb("+p[0]+","+p[1]+","+p[2]+",0.25)",m=[{value:h.YZ},{value:h.$t}],g=(0,b.iP)(),j=z((0,l.useState)(-1),2),w=j[0],x=j[1],S=(0,l.useRef)(null),O=(0,L.YF)({placement:"top",middleware:[(0,C.cv)({mainAxis:8,crossAxis:10}),(0,C.uY)(),(0,L.x7)({element:S})]}),k=O.x,P=O.y,A=O.strategy,E=O.refs,N=O.middlewareData,T=O.update;return(0,l.useEffect)((function(){T()}),[T,g.height,g.width,e.manualUpdate]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{ref:E.setReference,className:"sm-icon-grp clickable","aria-label":"Set difficulty",onClick:function(){x((function(e){e>0&&clearTimeout(e);var t=setTimeout((function(){return x(-1)}),3500);return Number(t)}))},children:(0,Z.jsx)(I.G,{icon:M.scR})}),(0,Z.jsxs)("div",{id:"tooltip",ref:E.setFloating,style:{height:"200px",position:A,top:null!=P?P:0,left:null!=k?k:0,width:"max-content"},className:_()(V({invisible:w<0,"tooltip-fade":w<0},U.pK,!0)),children:[(0,Z.jsx)(R.ZP,{sx:{color:y},orientation:"vertical",value:i,onChange:function(e,t){clearTimeout(w),x(0),"number"==typeof t&&a(t)},onChangeCommitted:function(t,r){var n=setTimeout((function(){return x(-1)}),1e3);x(Number(n)),"function"==typeof e.onChange&&"number"==typeof r&&e.onChange(r)},marks:m,step:10,valueLabelFormat:function(e){return e>h.$t?"Pass":"Fail"}}),(0,Z.jsx)("div",{ref:S,id:"arrow",style:{position:A,height:8,width:8,bottom:-4,left:8+(null!==(t=null===(r=N.arrow)||void 0===r?void 0:r.x)&&void 0!==t?t:0)}})]})]})}H.propTypes={value:G().number,onChange:G().func,manualUpdate:G().string};var J=r(7588),Y=r(1741),$=r(3653),B=r(1816);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e){var t,r,n=e.list.length-1,o=(t=(0,l.useState)((function(){return Math.min(n,e.initial)})),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return(0,Z.jsx)("div",{className:"vocabulary-slider",children:(0,Z.jsx)(R.ZP,{defaultValue:i,valueLabelFormat:function(t){return e.list[t].label},getAriaValueText:function(t){return e.list[t].label},"aria-label":"Alphabetic quick scroll",step:1,min:0,max:n,valueLabelDisplay:"auto",onChangeCommitted:function(t,r){"number"==typeof r&&(e.setIndex(r),a(r))}},i)})}X.propTypes={initial:G().number.isRequired,list:G().array.isRequired,setIndex:G().func.isRequired};var ee=r(9292);function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ne=r(6456),oe=r(3307);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fe(e,t){var r=Math.trunc(e.length/2)+(e.length%2==0?0:1)-t;return Math.trunc(e.length/2)+r}function de(e){var t=(0,s.I0)(),r=e.verb,n=e.reCache,o=e.linkToOtherTerm,i=e.showHint,a=le((0,l.useState)(void 0),2),c=a[0],u=a[1],f=le((0,l.useState)(void 0),2),v=f[0],p=f[1],y=P(),m=y.verbForm,b=y.swipeThreshold,g=y.repetition,j=y.romajiEnabled,w=y.englishSideUp,x=y.hintEnabled,S=y.verbFormsOrder,O=y.verbColSplit;(0,l.useEffect)((function(){var e=r.uid;u((function(t){return t===e?t:void 0})),p((function(t){return t===e?t:void 0}))}),[r]);var k,A,E=function(e,r){var n=_()({"pt-3 pe-sm-3 flex-shrink-1 d-flex flex-column justify-content-around text-nowrap":!0,"text-end":0!==e}),o=r.map((function(e,r){var n=_()({clickable:!0}),o=_()({invisible:m===e.name});return(0,Z.jsxs)("div",{className:n,onClick:function(){m===e.name?t((0,N.rZ)("dictionary")):t((0,N.rZ)(e.name))},children:[(0,Z.jsx)("span",{className:o,children:"["}),(0,Z.jsx)("span",{children:e.name}),(0,Z.jsx)("span",{className:o,children:"]"})]},r)}));return(0,Z.jsx)("div",{className:n,children:o},e)},T=(k=r,A=S,(0,l.useMemo)((function(){var e,t,r,n,o,i,a,c,u,l,s,f,d={dictionary:void 0===k?void 0:ee.R.parse(k)},v=[{name:"-masu",value:null===(e=d.dictionary)||void 0===e?void 0:e.masuForm()},{name:"-mashou",value:null===(t=d.dictionary)||void 0===t?void 0:t.mashouForm()},{name:"dictionary",value:d.dictionary},{name:"-nai",value:null===(r=d.dictionary)||void 0===r?void 0:r.naiForm()},{name:"-saseru",value:null===(n=d.dictionary)||void 0===n?void 0:n.saseruForm()},{name:"-te",value:null===(o=d.dictionary)||void 0===o?void 0:o.teForm()},{name:"-ta",value:null===(i=d.dictionary)||void 0===i?void 0:i.taForm()}].concat(te(null!==(null===(a=d.dictionary)||void 0===a?void 0:a.chattaForm())?[{name:"-chatta",value:null===(c=d.dictionary)||void 0===c?void 0:c.chattaForm()}]:[]),te(null!==(null===(u=d.dictionary)||void 0===u?void 0:u.reruForm())?[{name:"-reru",value:null===(l=d.dictionary)||void 0===l?void 0:l.reruForm()}]:[]));return A&&A.length>0&&(f=A.reduce((function(e,t){var r=v.find((function(e){return e.name===t}));return void 0!==r&&(e=[].concat(te(e),[r])),e}),[])),null!==(s=f)&&void 0!==s?s:v}),[k,A])),L=function(e,t){var r=fe(e,t);return{t1:e.slice(0,r),t2:e.slice(r)}}(T,O),C=L.t1,M=L.t2,I=function(e,t,r){var n=(0,s.I0)(),o=!(t&&t[e]&&!1===t[e].f);return(0,l.useMemo)((function(){return{furigana:{show:o,toggle:!1===r&&function(){n((0,N._n)(e))}||void 0}}}),[n,e,o,r])}(r.uid,g,w),R=function(e,t,r,n,o){var i=e.romaji||".",a=fe(t,n),c=t.find((function(e){return e.name===r})),u=c?c.value:t[a].value;return{inJapanese:u.toHTML(o),inEnglish:e.english,romaji:i,japaneseObj:u}}(r,T,m,O,I),F=R.inJapanese,G=R.inEnglish,q=R.romaji,U=R.japaneseObj,W=(0,l.useMemo)((function(){return ee.R.parse(r)}),[r]),V=function(e,t,r,n){return(0,l.useMemo)((function(){var o,i=!e,a=[],c=!1,u=!1;t.constructor.name===ee.R.name&&"isExceptionVerb"in t&&(c=t.isExceptionVerb()||3===t.getVerbClass(),u=t.isIntransitive(),o=t.getTransitivePair()||t.getIntransitivePair());var l=t.isNaAdj(),s=t.isSlang(),f=t.isKeigo();return i&&(u||o)&&(a=[].concat(te(a),[(0,Z.jsx)("span",{className:D({clickable:o,"question-color":o}),onClick:o&&n?function(){n(o)}:void 0,children:u?"intr":"trans"},a.length+1)])),i&&s&&(a=[].concat(te(a),[(0,Z.jsx)("span",{children:"slang"},a.length+1)])),i&&f&&(a=[].concat(te(a),[(0,Z.jsx)("span",{children:"keigo"},a.length+1)])),c&&a.length>0&&(a=[(0,Z.jsx)("span",{children:"*"},a.length+1)].concat(te(a))),a.length>0?(0,Z.jsxs)("span",{children:[r,l&&(0,Z.jsxs)("span",{className:"opacity-25",children:[" ","な"]}),(0,Z.jsxs)("span",{className:"fs-5",children:[(0,Z.jsx)("span",{children:" ("}),a.reduce((function(e,t,r){return r>0&&r<a.length?[].concat(te(e),[(0,Z.jsx)("span",{children:" , "},a.length+r),t]):[].concat(te(e),[t])}),[]),(0,Z.jsx)("span",{children:")"})]})]}):c?(0,Z.jsxs)("span",{children:[r,(0,Z.jsxs)("span",{children:[" ","*"]})]}):l?(0,Z.jsxs)("span",{children:[r,(0,Z.jsxs)("span",{className:"opacity-25",children:[" ","な"]})]}):r}),[e,t,r,n])}(w,W,F,o),z=function(e,t,r,n){return(0,l.useMemo)((function(){var o,i=[],a=!1;t.constructor.name===ee.R.name&&"isExceptionVerb"in t&&(a=t.isIntransitive(),o=t.getTransitivePair()||t.getIntransitivePair());var c=t.isSlang(),u=t.isKeigo();return e&&(a||o)&&(i=[].concat(te(i),[(0,Z.jsx)("span",{className:D({clickable:o,"question-color":o}),onClick:o&&n?function(){n(o)}:void 0,children:a?"intr":"trans"},i.length+1)])),e&&c&&(i=[].concat(te(i),[(0,Z.jsx)("span",{children:"slang"},i.length+1)])),e&&u&&(i=[].concat(te(i),[(0,Z.jsx)("span",{children:"keigo"},i.length+1)])),i.length>0?(0,Z.jsxs)("span",{children:[r,(0,Z.jsxs)("span",{children:[(0,Z.jsx)("span",{children:" ("}),i.reduce((function(e,t,r){return r>0&&r<i.length?[].concat(te(e),[(0,Z.jsx)("span",{children:" , "},i.length+r),t]):[].concat(te(e),[t])}),[]),(0,Z.jsx)("span",{children:")"})]})]}):r}),[e,t,r,n])}(w,W,G,o),K=(0,l.useMemo)((function(){var e=(0,Z.jsx)("span",{children:"[English]"}),t=(0,Z.jsx)(oe.Z,{fragment:!0,breakPoint:"sm",smallValue:"[J]",largeValue:"[Japanese]"});if(x&&i)if(w){var n=(0,h.tu)(U);n&&(t=n)}else{var o=(0,h.iz)(r);o&&(e=o)}return{jLabel:t,eLabel:e}}),[x,i,w,U,r]),H=K.jLabel,J=K.eLabel,Y=function(e,t,r,n,o){return(0,l.useMemo)((function(){var i,a,c,u;return e?(i=t,a=r,c=n,u=o):(i=r,a=t,c=o,u=n),{topValue:i,topLabel:c,bottomValue:a,bottomLabel:u}}),[e,t,r,n,o])}(w,z,V,J,H),$=Y.topValue,B=Y.bottomValue,Q=Y.bottomLabel,X=(0,l.useMemo)((function(){return ce(ce({},r),{},{japanese:U.toString(),pronounce:r.pronounce&&U.getPronunciation(),form:m})}),[r,U,m]),re=(0,l.useMemo)((function(){return w?{tl:"en",q:X.english,uid:X.uid+".en"}:{tl:"ja",q:(0,d._I)(X),uid:(0,h.gW)(X)}}),[w,X]),ie=(0,Z.jsx)(ne.Z,{visible:0===b,word:re,reCache:n});return(0,Z.jsxs)(Z.Fragment,{children:[E(0,C),(0,Z.jsxs)("div",{className:"pt-3 w-100 d-flex flex-column justify-content-around text-center",children:[(0,Z.jsx)(oe.Z,{breakPoint:"md",smallClassName:ce({},w?{h5:!0}:{"fs-display-6":!0}),largeClassName:{"fs-display-6":!0},children:$}),j&&q&&(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{className:"clickable loop-no-interrupt",onClick:function(){return p((function(e){return e===r.uid?void 0:r.uid}))},children:v===r.uid?q:"[romaji]"})}),(0,Z.jsx)(oe.Z,{breakPoint:"md",className:{"loop-no-interrupt":!0},smallClassName:ce({},w?{"fs-display-6":!0}:{h5:!0}),largeClassName:{"fs-display-6":!0},onClick:function(){return u((function(e){return e===r.uid?void 0:r.uid}))},children:c===r.uid?B:Q}),(0,Z.jsx)("div",{className:"d-flex justify-content-center",children:ie})]},1),E(2,M)]})}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ve(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(e){var t,r=(0,s.I0)(),n=e.vocabulary,o=e.reCache,i=e.showHint,a=me((0,l.useState)(void 0),2),c=a[0],u=a[1],f=me((0,l.useState)(void 0),2),v=f[0],p=f[1],y=me((0,l.useState)(void 0),2),m=y[0],g=y[1],j=P(),w=j.swipeThreshold,x=j.repetition,S=j.romajiEnabled,O=j.englishSideUp,k=j.hintEnabled,A=j.bareKanji;(0,l.useEffect)((function(){var e=n.uid;u((function(t){return t===e?t:void 0})),p((function(t){return t===e?t:void 0}))}),[n]);var E=(0,l.useCallback)((function(e){return r((0,N._n)(e))}),[r]),T=(0,l.useMemo)((function(){return(0,h.$q)(n.uid,x,O,E)}),[E,n.uid,x,O]),L=(0,Z.jsx)("span",{children:"[Japanese]"}),C=(0,Z.jsx)("span",{children:"[English]"}),M=d.TZ.parse(n),I=M.toHTML(T),R=n.english,D=n.romaji,_=(0,h.hF)(O,M,I),F=(0,h.yT)(O,M,R);k&&i&&(O?L=(0,h.tu)(M)||L:C=(0,h.iz)(n)||C);var G=(0,h.JS)(O,F,_,C,L),q=G.topValue,U=G.bottomValue,W=G.bottomLabel,V=!0===O&&!0===A&&!1===(null===(t=x[n.uid])||void 0===t?void 0:t.f),z=(0,l.useMemo)((function(){var e=n;if(d.TZ.parse(n).isNaAdj()){var t=d.TZ.parse(n).append(m&&"な");e=he(he({},n),{},{japanese:t.toString(),pronounce:n.pronounce&&t.getPronunciation(),form:m})}return O?{tl:"en",q:n.english,uid:n.uid+".en"}:{tl:O?"en":"ja",q:(0,d._I)(e),uid:(0,h.gW)(e)}}),[n,O,m]),K=(0,l.useCallback)((function(){return g((function(e){return e?void 0:"-na"}))}),[]),H=(0,Z.jsx)(ne.Z,{visible:0===w,word:z,reCache:o,onPushedPlay:K}),J=R.length<55;return(0,Z.jsxs)("div",{className:"pt-3 d-flex flex-column justify-content-around text-center",children:[(0,Z.jsx)(oe.Z,{breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:he({},O?he(ye({},J?"fs-display-6":"h3",!0),J?{"lh-xs":!0}:{}):{"fs-display-6":!0}),children:q}),S&&D&&(0,Z.jsx)("h5",{children:(0,Z.jsx)("span",{onClick:(0,b.kP)(p,(function(e){return e===n.uid?void 0:n.uid})),className:"clickable loop-no-interrupt",children:v===n.uid?D:"[Romaji]"})}),(0,Z.jsx)(oe.Z,{className:{"loop-no-interrupt":!0},breakPoint:"md",largeClassName:{"fs-display-5":!0},smallClassName:he({},O?{"fs-display-6":!0}:ye({},J?"fs-display-6":"h3",!0)),onClick:V?void 0:(0,b.kP)(u,(function(e){return e===n.uid?void 0:n.uid})),children:c===n.uid||V?U:W}),(0,Z.jsx)("div",{className:"d-flex justify-content-center",children:H})]})}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===je(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}de.propTypes={verb:G().object.isRequired,reCache:G().bool,linkToOtherTerm:G().func,showHint:G().bool},ge.propTypes={vocabulary:G().object.isRequired,reCache:G().bool,showHint:G().bool};var Ee={location:"/vocabulary/",label:"Vocabulary"};function Ne(){var e,t=(0,s.I0)(),r=ke((0,l.useState)(!1),2),c=r[0],O=r[1],k=(0,l.useRef)(!1),L=(0,l.useRef)(void 0),C=(0,l.useRef)(0),M=ke((0,l.useState)(void 0),2),I=M[0],R=M[1],D=ke((0,l.useState)([]),2),_=D[0],F=D[1],G=ke((0,l.useState)(-1),2),q=G[0],U=(G[1],ke((0,l.useState)(Date.now()),2)),W=U[0],V=U[1],z=(0,l.useRef)(Date.now()),K=ke((0,l.useState)(0),2),Q=K[0],ee=K[1],te=ke((0,l.useState)(void 0),2),re=te[0],ne=te[1],oe=ke((0,l.useState)([]),2),ie=oe[0],ae=oe[1],ce=ke((0,l.useState)(!1),2),ue=ce[0],le=ce[1],se=(0,l.useRef)(),fe=ke((0,l.useState)(!1),2),ve=fe[0],pe=fe[1],he=P(),ye=he.motionThreshold,me=he.vocabList,be=he.memoThreshold,je=he.reinforce,we=he.filterType,Pe=he.hintEnabled,Ae=he.sortMethod,Ee=he.activeGroup,Ne=he.autoVerbView,Le=he.englishSideUp,Ce=he.verbForm,Me=he.repetition,Ie=(0,l.useRef)(Me);Ie.current=Me,(0,l.useEffect)((function(){0===me.length&&t((0,N.Rz)())}),[]);var Re=(0,l.useMemo)((function(){if(0===me.length)return[];if(0===Object.keys(Ie.current).length&&0===Ee.length)return me;var e=Object.keys(Ie.current).reduce((function(e,t){return!0===Ie.current[t].rein&&(e=[].concat(Oe(e),[t])),e}),[]),r=(0,h.Dm)(we.current,me,e,Ee,(0,b.cM)(t,N.ZZ));switch(Ae.current){case E.vl.DIFFICULTY:var n=r.filter((function(e){var t,r=be.current,n=null===(t=Ie.current[e.uid])||void 0===t?void 0:t.difficulty;return void 0===n&&(r<0?-1*r<h.$t:r>h.$t)||(r<0?n>-1*r:n<r)}));n.length>0?r=n:console.warn("Excluded all terms. Discarding memorized subfiltering.");break;case E.vl.GAME:if(!0===je.current){var o=ke(u()(r,(function(e){var t;return!0===(null===(t=Ie.current[e.uid])||void 0===t?void 0:t.rein)})),2),i=o[0],a=o[1];r=[].concat(Oe(a),Oe(i))}}var c=r.reduce((function(e,t){var r;return!0===(null===(r=Ie.current[t.uid])||void 0===r?void 0:r.rein)&&(e=[].concat(Oe(e),[t.uid])),e}),[]);return ae(c),r}),[t,me,Ee]),De=(0,l.useMemo)((function(){if(0===Re.length)return{newOrder:[]};var e,t,r;switch(Ae.current){case E.vl.RANDOM:e=(0,h.tq)(Re);break;case E.vl.VIEW_DATE:e=(0,h.EL)(Re,Ie.current);break;case E.vl.GAME:if(!0===je.current){for(var n=-1,o=Re.length-1;o>-1;o--){var i=Ie.current[Re[o].uid],a=o-1>-1?o-1:0,c=Ie.current[Re[a].uid];if(!0===(null==i?void 0:i.rein)&&(null==c||!c.rein)){n=o;break}}if(-1!==n){var u=Re.slice(0,n),l=Re.slice(n),s=(0,h.rU)(u,Ie.current),f=l.map((function(e,t){return u.length+t}));e=[].concat(Oe(s),Oe(f))}}void 0===e&&(e=(0,h.rU)(Re,Ie.current));break;case E.vl.DIFFICULTY:e=(0,h.J0)(Re,Ie.current);break;default:var d=(0,h.fx)(Re);e=d.order,t=d.jOrder,r=d.eOrder}return pe(!0),{newOrder:e,jbare:t,ebare:r}}),[Re]),_e=De.newOrder,Fe=De.ebare,Ge=De.jbare,qe=(0,l.useCallback)((function(){var e=Re.length,t=(Q+1)%e;t===q&&(t=(e+t+1)%e),z.current=W,V(Date.now()),C.current=Q,ee(t),R(void 0)}),[Re,Q,W,q]),Ue=(0,l.useCallback)((function(){(0,h.hY)(je.current,we.current,ie,Re,Ie.current,I,(function(e){L.current=I,R(e)}),qe)}),[t,ie,Re,I,qe]),Ze=(0,l.useCallback)((function(){var e,t=Re.length;(e=I?Q:(t+(Q-1))%t)===q&&(e=(t+e-1)%t),z.current=W,V(Date.now()),C.current=Q,ee(e),R(void 0)}),[Re,Q,I,W,q]),We=function(e,t,r,n,o,i,a,c,u,l){return function(s,p){var b;if("left"===s)e(),b=Promise.all([Promise.resolve()]);else if("right"===s)t(),b=Promise.all([Promise.resolve()]);else{var g=r||(0,h.vr)(n,a,c),j=(0,h.cc)(g,o),w=u?"/override_cache":"";if("up"===s){var x;if((0,y.gI)("playing"),"Verb"===j.grp&&"dictionary"!==i){var S=(0,h.dP)(j,i);x=xe(xe({},j),{},{japanese:S.toString(),pronounce:j.pronounce&&S.getPronunciation(),form:i})}else if(d.TZ.parse(j).isNaAdj()){var O=d.TZ.parse(j).append(l.current&&"な");x=xe(xe({},j),{},{japanese:O.toString(),pronounce:j.pronounce&&O.getPronunciation(),form:l.current}),l.current=l.current?void 0:"-na"}else x=j;var k=(0,m.b1)(f.vT+w,{tl:"ja",q:(0,d._I)(x),uid:(0,h.gW)(x)});b=(0,v.R$)(k,p)}else if("down"===s){(0,y.gI)("playing");var P=j.english,A=(0,m.b1)(f.vT+w,{tl:"en",q:P,uid:j.uid+".en"});b=(0,v.R$)(A,p)}}return b||Promise.reject()}}(Ue,Ze,I,Q,me,Ce,_e,Re,ue,se),Ve=(0,g.E)(ye),ze=(0,S.T)(We,Le,Ve),Ke=ze.beginLoop,He=ze.abortLoop,Je=ze.looperSwipe,Ye=ze.loopSettingBtn,$e=ze.loopActionBtn,Be=ze.timedPlayVerifyBtn,Qe=ze.timedPlayAnswerHandlerWrapper,Xe=ze.gradeTimedPlayEvent,et=ze.resetTimedPlay,tt=ze.loop,rt=ze.tpAnswered,nt=ze.tpAnimation;(0,j.q)(We,(0,b.cM)(t,N.$u),Qe);var ot=(0,x.M)(We,Qe).HTMLDivElementSwipeRef;if((0,w.Z)("Vocabulary Loop",tt,Ke,He,Je),(0,l.useEffect)((function(){var e={selectedIndex:C.current,reinforcedUID:L.current,lastNext:z.current};if(I!==e.reinforcedUID||Q!==e.selectedIndex){var r=e.reinforcedUID||(0,h.vr)(e.selectedIndex,_e,Re);if(Xe(t,r,Ie.current),(0,h.Zc)(e.lastNext)){var n=(0,h.cc)(r,me),o=r!==e.reinforcedUID,i=void 0!==e.reinforcedUID;t((0,N.Wo)({uid:r,shouldIncrement:o})).unwrap().then((function(e){var o=e.map,a=e.prevMap,c=a[r]&&a[r].d,u=Se({},r,xe(xe({},o[r]),{},{d:c})),l=function(e,r){return t((0,A.kg)(e,r))};void 0!==rt.current?(0,p.lP)(l,n,u,{frequency:i}):(0,p.Ps)(l,n,u,{frequency:i})}))}et()&&(0,h.u3)(e.lastNext)&&Ke(),ne(void 0),F([]),C.current=Q,L.current=I}}),[t,Ke,Xe,et,me,I,Q,Re,_e]),_.length>0){var it=(0,p.zV)(this.state),at=(0,p.zV)(this.props),ct=[].concat(Oe(_),[{msg:"props:",lvl:E.x6.WARN,css:"px-2"},{msg:at,lvl:E.x6.WARN,css:"px-4"},{msg:"state:",lvl:E.x6.WARN,css:"px-2"},{msg:it,lvl:E.x6.WARN,css:"px-4"}]);return(0,Z.jsx)(J.R,{next:qe,prev:Ze,children:(0,Z.jsx)("div",{className:"d-flex flex-column justify-content-around",children:(0,Z.jsx)(T.Z,{messages:ct})})})}if(Re.length<1||_e.length<1)return(0,Z.jsx)(Y.n,{addlStyle:"main-panel"});var ut=I||(0,h.vr)(Q,_e,Re),lt=(0,h.cc)(ut,me),st=!0===(null===(e=Ie.current[lt.uid])||void 0===e?void 0:e.rein),ft="Verb"===lt.grp,dt=d.TZ.parse(lt),vt=dt.hasFurigana(),pt=dt.isHintable(3),ht=void 0!==lt.grp&&""!==lt.grp,yt=re!==ut&&Le?pt:ht,mt=Q,bt=[];ve?Ge&&(bt=Ge):(Ge&&(mt=Ge[Q].idx),Fe&&(bt=Fe));var gt,jt,wt=(Q+1)/Re.length*100,xt=(0,Z.jsx)(l.Fragment,{children:(0,Z.jsx)("div",{className:"vocabulary main-panel h-100",children:(0,Z.jsxs)("div",{ref:ot,className:"d-flex justify-content-between h-100",children:[(0,Z.jsx)(B.Z,{ariaLabel:"Previous",action:Ze,children:(0,Z.jsx)(a.wyc,{size:16})}),ft&&Ne?(0,Z.jsx)(de,{verb:lt,reCache:ue,linkToOtherTerm:function(e){return R(e)},showHint:re===ut}):(0,Z.jsx)(ge,{vocabulary:lt,reCache:ue,showHint:re===ut}),(0,Z.jsx)(B.Z,{ariaLabel:"Next",action:Ue,children:(0,Z.jsx)(a.XCv,{size:16})})]})})});return xt=c?(0,Z.jsxs)(l.Fragment,{children:[xt,(0,Z.jsx)(o.Z,{in:c,timeout:500,children:(0,Z.jsx)(i.Z,{style:{position:"absolute",bottom:"25vh",left:"65vw"},children:(0,Z.jsx)("div",{onClick:(0,b.kP)(pe,(function(e){return!e})),children:ve?"JP":"EN"})})}),(0,Z.jsx)("div",{className:"page-bar flex-shrink-1",onTouchStart:function(){k.current=!0},onTouchEnd:function(){k.current=!1},onMouseDown:function(){k.current=!0},onMouseUp:function(){k.current=!1},children:(0,Z.jsx)(X,{initial:mt,list:bt,setIndex:function(e){if(ve)ee(e);else if(Fe){var t=Fe[e].idx;ee(t)}}})})]}):(0,Z.jsxs)(l.Fragment,{children:[xt,(0,Z.jsx)("div",{className:"options-bar mb-3 flex-shrink-1",children:(0,Z.jsxs)("div",{className:"row opts-max-h",children:[(0,Z.jsx)("div",{className:"col",children:(0,Z.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,Z.jsx)($.uY,{toggle:Le,action:function(){He()&&et(),t((0,N.$u)())}}),(0,Z.jsx)($.Ro,{active:ue,action:Te(ue,le)}),(0,Z.jsx)($.ph,{visible:ft,toggleAutoVerbView:(0,b.cM)(t,N.eK),autoVerbView:Ne}),(0,Z.jsx)("div",{className:"sm-icon-grp",children:Ye}),(0,Z.jsx)("div",{className:"sm-icon-grp",children:$e})]})}),(0,Z.jsx)("div",{className:"col text-center",children:(0,Z.jsx)($.Qp,{visible:void 0!==I&&""!==I})}),(0,Z.jsx)("div",{className:"col",children:(0,Z.jsxs)("div",{className:"d-flex justify-content-end",children:[Be(!0===(null===(gt=Ie.current[ut])||void 0===gt?void 0:gt.pron)),(0,Z.jsx)(H,{value:null===(jt=Ie.current[ut])||void 0===jt?void 0:jt.difficulty,onChange:(0,b.cM)(t,(function(e){return(0,N.kn)(ut,e)})),manualUpdate:ut}),(0,Z.jsx)($.y8,{visible:Pe.current,active:yt,setShowHint:(0,b.kP)(ne,(function(e){return e?void 0:ut}))}),(0,Z.jsx)($.A,{active:vt,toggle:(0,h.$q)(lt.uid,Ie.current).furigana.show,toggleFurigana:(0,b.cM)(t,N._n),vocabulary:lt}),(0,Z.jsx)($.R_,{addFrequencyTerm:function(e){ae((function(t){return[].concat(Oe(t),[e])})),(0,b.cM)(t,N.S5)(e)},removeFrequencyTerm:function(e){ae((function(t){return t.filter((function(t){return t!==e}))})),(0,b.cM)(t,N.xz)(e)},toggle:st,term:lt,count:ie.length})]})})]})}),(0,Z.jsx)("div",{className:"progress-line flex-shrink-1",onClick:function(){Ae.current===E.vl.ALPHABETIC&&(O(!0),setTimeout((function e(){!1===k.current?O(!1):setTimeout(e,4e3)}),4e3))},children:(0,Z.jsx)(n.Z,{variant:null===nt?"determinate":"buffer",value:null===nt?wt:0,valueBuffer:null!=nt?nt:void 0,color:st?"secondary":"primary"})})]}),xt}function Te(e,t){return function(){!1===e&&(t(!0),setTimeout((function(){t(!1)}),2e3))}}},3827:(e,t,r)=>{r.d(t,{qe:()=>o,vT:()=>i});const n="nmemonica-9d977",o={apiKey:"AIzaSyD0R3dzI2GREIuA0irO3dMT0n4CP59-GjQ",authDomain:n+".firebaseapp.com",databaseURL:"https://"+n+".firebaseio.com",projectId:n,storageBucket:n+".appspot.com",messagingSenderId:"839840260761",appId:"1:839840260761:web:6d72438c4131e3ce368e08"},i="https://us-east1-"+n+".cloudfunctions.net/g_translate_pronounce"},9579:(e,t,r)=>{r.d(t,{L6:()=>i,jP:()=>n,kh:()=>o});var n="add_frequency_word",o="add_frequency_phrase",i="service_worker_logger_msg"},6777:(e,t,r)=>{r.d(t,{_:()=>n});var n="userSettings"},3246:(e,t,r)=>{r.d(t,{TZ:()=>p,Wp:()=>y,_I:()=>b});var n,o=r(4184),i=(r(7294),r(2440)),a=r(5951),c=r(5893);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function d(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}n=Symbol.toStringTag;var p=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._furigana=t,this._kanji=r,this._parseObj={furiganas:[],kanjis:[],okuriganas:[],startsWKana:!1},this.slang=!1,this.keigo=!1,this.adj=""}var t,r;return t=e,r=[{key:n,get:function(){return"JapaneseText"}},{key:"furigana",get:function(){return this._furigana}},{key:"furigana",set:function(e){this._furigana=e}},{key:"kanji",get:function(){return this._kanji}},{key:"kanji",set:function(e){this._kanji=e}},{key:"parseObj",get:function(){return 0===this._parseObj.furiganas.length&&0===this._parseObj.kanjis.length&&0===this._parseObj.okuriganas.length&&!1===this._parseObj.startsWKana&&(this.hasFurigana()?this._parseObj=y(this.getPronunciation(),this.getSpelling()):this._parseObj={okuriganas:[this.getSpelling()],startsWKana:!0,kanjis:[],furiganas:[]}),this._parseObj}},{key:"hasFurigana",value:function(){return!!this._kanji}},{key:"getSpelling",value:function(){return this._kanji?this._kanji:this._furigana}},{key:"getPronunciation",value:function(){return this._furigana}},{key:"getObject",value:function(){return{furigana:this._furigana,kanji:this._kanji}}},{key:"isSlang",value:function(){return!0===this.slang}},{key:"isKeigo",value:function(){return!0===this.keigo}},{key:"isNaAdj",value:function(){return"na"===this.adj}},{key:"isIAdj",value:function(){return"i"===this.adj}},{key:"debug",value:function(){return JSON.stringify(this)}},{key:"append",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.hasFurigana()?new e(this.getPronunciation()+t,this.getSpelling()+t):new e(this.getSpelling()+t)}},{key:"toString",value:function(){return this._furigana+(this._kanji?"\n"+this._kanji:"")}},{key:"isHintable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=!0,r=this;if(!r.toString().split("").every((function(e){return(0,i.AF)(e)||(0,i.f_)(e)||(0,i.xn)(e)||"\n"===e})))return!1;if(r.hasFurigana()){var n=r.getPronunciation(),o=r.getSpelling();if(n.length<e)t=!1;else try{y(n,o)}catch(e){console.log(e),t=!1}}else r.getSpelling().length<e&&(t=!1);return t}},{key:"getHint",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={shown:"hint-mora",hidden:"invisible"};if(this.isHintable(n))if(this.hasFurigana()){var a=y(this.getPronunciation(),this.getSpelling());r=t(i,a.kanjis,a.furiganas,a.okuriganas,a.startsWKana,o)}else r=e(i,this.getSpelling(),o);else r=void 0;return r}},{key:"toHTML",value:function(e){var t,r,n,i=!1===(null==e||null===(t=e.furigana)||void 0===t?void 0:t.show),u=null==e||null===(r=e.furigana)||void 0===r?void 0:r.toggle,l=o({"incorrect-color":!0,"d-block":!0}),s=(0,c.jsxs)("span",{children:[(0,c.jsx)("span",{className:l,children:this.getPronunciation()}),(0,c.jsx)("span",{children:this.getSpelling()})]});if(this.hasFurigana())try{var f=this.parseObj,d=f.kanjis,v=f.furiganas,p=f.okuriganas,h=f.startsWKana,y=(0,a.je)(this.parseObj),m=o({clickable:!!u})||void 0,b=u||void 0,g=i?"transparent-font":void 0;n=(0,c.jsx)("span",{className:m,onClick:b,children:y.map((function(e,t){var r=(0,a.re)(d[t]),n=(0,a.re)(),o=(0,a.re)(v[t],g),i=(0,a.re)(),c=(0,a.re)(p[t]),u=(0,a.re)();return(0,a.v5)(t,{sk:r,hk:n},{sf:o,hf:i},{so:c,ho:u},h)}))})}catch(e){console.error(e),n=s}else n=(0,c.jsx)("span",{children:this.getSpelling()});return n}}],r&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){var r,n=e.japanese.split("\n");if("function"==typeof t)r=t(e);else{var o=l(n,2),i=o[0],a=o[1];r=new p(i,a)}return e.slang&&!0===e.slang&&(r.slang=!0),e.keigo&&!0===e.keigo&&(r.keigo=!0),!e.adj||"na"!==e.adj&&"i"!==e.adj||(r.adj=e.adj),r}function y(e,t){var r,n,o,a;try{var c=m(e,t);r=c.kanjis,n=c.furiganas,o=c.okuriganas,a=c.startsWKana}catch(c){var u;if(c instanceof Error&&"ParseError"===(null===(u=c.cause)||void 0===u?void 0:u.code))try{var l=m(e.split("").reverse().join(""),t.split("").reverse().join("")),s=l.kanjis,f=l.furiganas,d=l.okuriganas;return{kanjis:r=s.map((function(e){return e.split("").reverse().join("")})).reverse(),furiganas:n=f.map((function(e){return e.split("").reverse().join("")})).reverse(),okuriganas:o=d.map((function(e){return e.split("").reverse().join("")})).reverse(),startsWKana:a=!(0,i.AF)(t.charAt(0))}}catch(e){}throw c}return{kanjis:r,furiganas:n,okuriganas:o,startsWKana:a}}function m(e,t){if(t.split("").every((function(e){return(0,i.AF)(e)||(0,i.BE)(e)})))return{kanjis:[t],furiganas:[e],okuriganas:[],startsWKana:!1};var r=new RegExp(/\s/g),n=r.test(e)||r.test(t),o=!(0,i.AF)(t.charAt(0))&&!(0,i.IE)(t.charAt(0)),a=0,c=[],u=[],s=[],f="",d="",v="",p=!1;t.split("").forEach((function(r,o){if((0,i.AF)(r)||function(e,t,r){var n=r.charAt(e);return Number.isInteger((0,i.F8)(n))||Number.isInteger(Number.parseInt(n))&&!t.includes(n)&&!(0,i.AF)(n)&&!(0,i.f_)(n)&&!(0,i.xn)(n)&&e<r.length-1}(o,e,t))" "!==e.charAt(a)&&(f+=e.charAt(a))," "!==r&&(d+=r),p=!0,a++,""!==v&&(s.push(v),v=""),t.length-o==1&&(" "!==e.slice(a)&&(f+=e.slice(a)),c.push(f),u.push(d));else{if(p){for(;e.charAt(a)!=r;)if(" "!==e.charAt(a)&&(f+=e.charAt(a)),++a>e.length)throw new Error("The two phrases do not match"+(n?" (contains white space)":""),{cause:{code:"InputError",info:{input:{pronunciation:e,orthography:t},kanjis:u,furiganas:c,okuriganas:s}}});c.push(f),f=""}" "!==r&&(v+=r),""!==d&&(u.push(d),d=""),a++,p=!1}})),""!==v&&s.push(v);var h=function(e,t,r,n){var o,i;return n?(i=r.reduce((function(t,r,n){return t+r+(e[n]||"")}),""),o=r.reduce((function(e,r,n){return e+r+(t[n]||"")}),"")):(i=e.reduce((function(e,t,n){return e+t+(r[n]||"")}),""),o=t.reduce((function(e,t,n){return e+t+(r[n]||"")}),"")),[o,i]}(u,c,s,o),y=l(h,2),m=y[0],b=y[1],g=e.replaceAll(" ",""),j=t.replaceAll(" ","");if(m!==g||b!==j)throw new Error("Failed to parse text to build furigana"+(n?" (contains white space)":""),{cause:{code:"ParseError",info:{input:{pronunciation:e,orthography:t},output:{pronunciation:m,orthography:b}}}});return{kanjis:u,furiganas:c,okuriganas:s,startsWKana:o}}function b(e){var t;if(e.pronounce){if(!e.pronounce.split("").every((function(e){return(0,i.f_)(e)||(0,i.xn)(e)})))throw new Error("No valid pronunciation",{cause:{code:"InvalidPronunciation",value:e}});t=e.pronounce}else t=p.parse(e).getSpelling().replaceAll(" ","");return t}d(p,"parse",(function(e){return h(e)})),d(p,"parser",h)},9292:(e,t,r)=>{r.d(t,{R:()=>b});var n,o=r(6954),i=r(2440),a=r(3246);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},f.apply(this,arguments)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function p(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}n=Symbol.toStringTag;var h,y,m,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(y,e);var t,r,l,p,h=(l=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(l);if(p){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function y(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(r=h.call(this,e,t)).trans=void 0,r.intr=void 0,r.exv=void 0,r}return t=y,(r=[{key:n,get:function(){return"JapaneseVerb"}},{key:"isExceptionVerb",value:function(){return void 0!==this.exv}},{key:"isIntransitive",value:function(){return void 0!==this.trans||!0===this.intr}},{key:"getTransitivePair",value:function(){return this.isIntransitive()&&this.trans?this.trans:void 0}},{key:"getIntransitivePair",value:function(){return this.isIntransitive()||"string"!=typeof this.intr?void 0:this.intr}},{key:"getVerbClass",value:function(){var e=f(v(y.prototype),"getPronunciation",this).call(this),t=f(v(y.prototype),"getSpelling",this).call(this);if(this.exv&&this.isExceptionVerb())return this.exv;var r=e.slice(-1),n=e.slice(-2,-1),o=(0,i.dv)(n).iVowel;return"する"===t.slice(-2)||"くる"===e||"だ"===e||"ある"===e?3:1===o&&"る"===r||3===o&&"る"===r?2:1}},{key:"getStem",value:function(){var e,t,r=o.Bw;f(v(y.prototype),"hasFurigana",this).call(this)&&(t=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-1));var n=f(v(y.prototype),"getPronunciation",this).call(this).slice(-1),a=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-1);if(1===this.getVerbClass()||"る"!==n){var c=(0,i.dv)(n).iConsonant;e=t?[a+r[c][1],t+r[c][1]]:[a+r[c][1]]}else{if("る"!==n)throw new Error("Unknown verb type");e=t?[a,t]:[a]}return e}},{key:"naiForm",value:function(){var e,t="ない",r=this.getVerbClass(),n=f(v(y.prototype),"getSpelling",this).call(this),c=f(v(y.prototype),"hasFurigana",this).call(this);if(1===r){var l=n[n.length-1],s=o.Bw,d=o.Be.indexOf("a"),p=(0,i.dv)(l).iConsonant,h=s[0===p?14:p][d]+t,m=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-1);if(c){var b=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(b+h,m+h)}else e=new a.TZ(m+h)}else if(2===r){var g=u(this.getStem(),2),j=g[0],w=g[1];e=w?new a.TZ(j+t,w+t):new a.TZ(j+t)}else if("来る"===n||"くる"===n)e=new a.TZ("こない","来ない");else if("する"===n)e=new a.TZ("しない");else if("ある"===n)e=new a.TZ("ない");else{if("する"!==n.slice(-2))throw new Error("Unknown exception verb type");var x=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-2);if(c){var S=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(S+"しない",x+"しない")}else e=new a.TZ(x+"しない")}return e}},{key:"saseruForm",value:function(){var e,t="せる",r=this.getVerbClass(),n=f(v(y.prototype),"getSpelling",this).call(this),c=f(v(y.prototype),"hasFurigana",this).call(this);if(1===r){var l=n[n.length-1],s=o.Bw,d=o.Be.indexOf("a"),p=(0,i.dv)(l).iConsonant,h=s[0===p?14:p][d]+t,m=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-1);if(c){var b=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(b+h,m+h)}else e=new a.TZ(m+h)}else if(2===r){"居る"!==n&&"いる"!==n||(e=new a.TZ("いる","居る"));var g=u(this.getStem(),2),j=g[0],w=g[1];e=c?new a.TZ(j+"さ"+t,w+"さ"+t):new a.TZ(j+"さ"+t)}else if("来る"===n||"くる"===n)e=new a.TZ("こさせる","来させる");else if("する"===n)e=new a.TZ("させる");else if("ある"===n)e=new a.TZ("ある");else{if("する"!==n.slice(-2))throw new Error("Unknown exception verb type");var x=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-2);if(c){var S=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(S+"させる",x+"させる")}else e=new a.TZ(x+"させる")}return e}},{key:"reruForm",value:function(){var e,t=this.getVerbClass(),r=f(v(y.prototype),"getSpelling",this).call(this),n=f(v(y.prototype),"hasFurigana",this).call(this);if(this.isIntransitive()||void 0!==this.getIntransitivePair())return null;if(1===t){var c=r[r.length-1],l=o.Bw,s=o.Be.indexOf("e"),d=l[(0,i.dv)(c).iConsonant][s]+"る",p=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-1);if(n){var h=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-1);e=new a.TZ(h+d,p+d)}else e=new a.TZ(p+d)}else if(2===t){var m=u(this.getStem(),2),b=m[0],g=m[1];e=n?new a.TZ(b+"られる",g+"られる"):new a.TZ(b+"られる")}else if("来る"===r||"くる"===r)e=new a.TZ("こられる","来られる");else if("する"===r)e=new a.TZ("できる");else if("する"===r.slice(-2)){var j=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-2);if(n){var w=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-2);e=new a.TZ(w+"できる",j+"できる")}else e=new a.TZ(j+"できる")}else{if("ある"!==r&&"いる"!==r)throw new Error("Unknown exception verb type");e=null}return e}},{key:"masuForm",value:function(){var e,t="ます";switch(this.toString()){case"くる\n来る":e=new a.TZ("きます","来ます");break;case"ある":e=new a.TZ("あります");break;case"だ":e=new a.TZ("です")}if("する"===f(v(y.prototype),"getSpelling",this).call(this).slice(-2)){var r="します",n=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-2),o=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-2);e=f(v(y.prototype),"hasFurigana",this).call(this)?new a.TZ(n+r,o+r):new a.TZ(n+r)}if(!e){var i=u(this.getStem(),2),c=i[0],l=i[1];e=l?new a.TZ(c+t,l+t):new a.TZ(c+t)}return e}},{key:"mashouForm",value:function(){var e,t="ましょう";switch(this.toString()){case"くる\n来る":e=new a.TZ("きましょう","来ましょう");break;case"ある":e=new a.TZ("ありましょう");break;case"だ":e=new a.TZ("でしょう")}if("する"===f(v(y.prototype),"getSpelling",this).call(this).slice(-2)){var r="しましょう",n=f(v(y.prototype),"getPronunciation",this).call(this).slice(0,-2),o=f(v(y.prototype),"getSpelling",this).call(this).slice(0,-2);e=f(v(y.prototype),"hasFurigana",this).call(this)?new a.TZ(n+r,o+r):new a.TZ(n+r)}if(!e){var i=u(this.getStem(),2),c=i[0],l=i[1];e=l?new a.TZ(c+t,l+t):new a.TZ(c+t)}return e}},{key:"taForm",value:function(){return this.t_Form(g)}},{key:"chattaForm",value:function(){if(3===this.getVerbClass())return null;var e,t=f(v(y.prototype),"hasFurigana",this).call(this)?f(v(y.prototype),"getSpelling",this).call(this):f(v(y.prototype),"getPronunciation",this).call(this);switch(t[t.length-1]){case"ぶ":case"む":case"ぬ":case"ぐ":e="じゃった";break;default:e="ちゃった"}var r=this.t_Form(g);return new a.TZ(r.getPronunciation().slice(0,-1)+e,r.getSpelling().slice(0,-1)+e)}},{key:"teForm",value:function(){return this.t_Form(j)}},{key:"t_Form",value:function(e){var t,r,n,o=this.getVerbClass(),i=f(v(y.prototype),"furigana",this);f(v(y.prototype),"hasFurigana",this).call(this)&&f(v(y.prototype),"kanji",this)&&(r=f(v(y.prototype),"furigana",this),i=f(v(y.prototype),"kanji",this));var c=i[i.length-1];if(1===o)if("行く"===i||"いく"===i)t=a.TZ.parse({japanese:e.g1.iku});else{switch(c){case"う":case"つ":case"る":n=e.g1.u_tsu_ru;break;case"く":n=e.g1.ku;break;case"ぐ":n=e.g1.gu;break;case"ぬ":case"ぶ":case"む":n=e.g1.mu_nu_bu;break;case"す":n=e.g1.su}t=r?new a.TZ(r.slice(0,-1)+n,i.slice(0,-1)+n):new a.TZ(i.slice(0,-1)+n)}else if(2===o)n=e.g2.ru,t=r?new a.TZ(r.slice(0,-1)+n,i.slice(0,-1)+n):new a.TZ(i.slice(0,-1)+n);else if("来る"===i||"くる"===i)t=a.TZ.parse({japanese:e.g3.kuru});else if("する"===i)t=a.TZ.parse({japanese:e.g3.suru});else if("だ"===i)t=a.TZ.parse({japanese:e.g3.da});else if("ある"===i)t=a.TZ.parse({japanese:e.g3.aru});else{if("する"!==i.slice(-2))throw new Error("Unknown exception verb type");var u=e.g3.suru,l=i.slice(0,-2);if(r){var s=r.slice(0,-2);t=new a.TZ(s+u,l+u)}else t=new a.TZ(l+u)}return t}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),y}(a.TZ);h=b,m=function(e){var t=a.TZ.parser(e,(function(e){var t=u(e.japanese.split("\n"),2),r=t[0],n=t[1];return new b(r,n)}));return e.intr&&(t.intr=e.intr),e.trans&&(t.trans=e.trans),e.exv&&e.exv>0&&e.exv<4&&(t.exv=e.exv),t},(y=p(y="parse"))in h?Object.defineProperty(h,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[y]=m;var g={g1:{u_tsu_ru:"った",mu_nu_bu:"んだ",ku:"いた",gu:"いだ",su:"した",iku:"いった\n行った"},g2:{ru:"た"},g3:{suru:"した",kuru:"きた\n来た",da:"だった",aru:"あった",iru:"いた"}},j={g1:{u_tsu_ru:"って",mu_nu_bu:"んで",ku:"いて",gu:"いで",su:"して",iku:"いって\n行って"},g2:{ru:"て"},g3:{suru:"して",kuru:"きて\n来て",da:"で",aru:"あって",iru:"いて"}}},6771:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{IY:()=>s,Kd:()=>d,Si:()=>f,Yg:()=>l,pK:()=>c});var c="slick-swipe-ignore";function u(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()}function l(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,r=e.startY-e.curY,n=Math.atan2(r,t),(o=Math.round(180*n/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===i?o>=35&&o<=135?"up":"down":"vertical"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{verticalSwiping:!1,touchThreshold:5},r=t.verticalSwiping,n=t.touchThreshold;return"IMG"===e.target.tagName&&u(e),{verticalSwiping:r,touchThreshold:n,touchObject:{startX:"touches"in e?e.touches[0].pageX:e.clientX,startY:"touches"in e?e.touches[0].pageY:e.clientY,curX:"touches"in e?e.touches[0].pageX:e.clientX,curY:"touches"in e?e.touches[0].pageY:e.clientY}}}function f(e,t){var r=t.verticalSwiping,n=t.touchThreshold,o=t.swiped,a=t.swiping,c=t.touchObject,s=t.swipeEvent;c.curX="touches"in e?e.touches[0].pageX:e.clientX,c.curY="touches"in e?e.touches[0].pageY:e.clientY,c.swipeLength=Math.abs(c.curX-c.startX);var f=Math.abs(c.curY-c.startY);if(!r&&!a&&f>10)return{scrolling:!0};r&&(c.swipeLength=Math.sqrt(Math.pow(f,2)+Math.pow(c.swipeLength,2)));var d=l(t.touchObject,r),v={touchObject:c,verticalSwiping:r,touchThreshold:n,swiped:!1,swiping:!1};return!o&&s&&(s(d),v=i(i({},v),{},{swiped:!0})),c.swipeLength>10&&(v=i(i({},v),{},{swiping:!0}),u(e)),v}function d(e,t){var r,n=t.touchObject,o=t.touchThreshold,a=t.verticalSwiping,c=t.onSwipe,s=o;return n.swipeLength&&(r=l(n,a)),n.swipeLength>s&&(u(e),c&&c(r)),i({swipeDirection:r},t)}},341:(e,t,r)=>{function n(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e}function o(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).clamped,o=void 0===n||n,i=Math.min.apply(Math,[1,r]),a=o?Math.max.apply(Math,[i,0]):r;return(1-a)*e+a*t}r.d(t,{Sy:()=>n,t7:()=>o})},9575:(e,t,r)=>{r.d(t,{R$:()=>i});var n=new Error("User interrupted audio playback.",{cause:{code:"UserAborted"}}),o=new AudioContext;function i(e,t){var r=o.createBufferSource(),i=fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return o.decodeAudioData(e).then((function(e){r.buffer=e,r.connect(o.destination),r.start()}))})),a=new Promise((function(e,o){var i=function(){r.stop(),o(n)};r.addEventListener("ended",(function(){null==t||t.signal.removeEventListener("abort",i),e()})),null!=t&&t.signal.aborted&&i(),null==t||t.signal.addEventListener("abort",i)}));return Promise.all([a,i])}},8055:(e,t,r)=>{r.d(t,{Gd:()=>f,O5:()=>s,Ps:()=>d,lP:()=>v,zV:()=>p});var n=r(4026);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Math.ceil(t/2);return e.length<t?e:e.slice(0,r)+"..."+e.slice(-(t-r))}function s(e){var t,r,n=(t=e.split("T"),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=Date.parse(n),i=Math.abs(Date.now()-o);return Math.ceil(i/864e5)}function f(e){var t=Date.parse(e),r=Math.abs(Date.now()-t);return Math.ceil(r/6e4)}function d(e,t,r,o){if(r[t.uid]&&r[t.uid].d){var i=l(t.english,30),a=!0===(null==o?void 0:o.frequency)?" F[w]":"",c=" "+(s(r[t.uid].d)-1)+"d",u=" "+r[t.uid].vC+"v",f=r[t.uid].tpAcc;e("Space Rep ["+i+"]"+a+c+u+(void 0!==f?" "+(100*f).toFixed(0)+"%":""),n.x6.DEBUG)}}function v(e,t,r,o){if(r[t.uid]&&r[t.uid].d){var i=l(t.english,30),a=!0===(null==o?void 0:o.frequency)?" F[w]":"",c=" "+(s(r[t.uid].d)-1)+"d",u=r[t.uid].tpPc,f=void 0!==u?" "+u+"v":"",d=r[t.uid].tpAcc,v=void 0!==d?" "+(100*d).toFixed(0)+"%":"",p=r[t.uid].tpCAvg;e("Timed Play ["+i+"]"+a+c+f+v+(void 0!==p?" "+(h=p,(Math.round(h)/1e3).toFixed(2)+"".replace("0.",".").replace(".00","").replace(/0$/,"")+"s"):""),n.x6.DEBUG)}var h}function p(e){var t=Object.keys(e).reduce((function(t,r){return["boolean","number","string"].includes(c(e[r]))&&(t=i(i({},t),{},a({},r,e[r]))),Array.isArray(e[r])&&(t=i(i({},t),{},a({},r+"Len",e[r].length))),t}),{});return JSON.stringify(t).replaceAll(",",", ")}},3072:(e,t,r)=>{r.d(t,{$q:()=>H,$t:()=>M,Dm:()=>x,EL:()=>L,HG:()=>B,II:()=>F,J0:()=>I,JS:()=>W,Mm:()=>$,XQ:()=>k,YZ:()=>C,Zc:()=>P,cc:()=>w,dP:()=>q,fx:()=>R,gW:()=>K,hF:()=>U,hY:()=>g,iz:()=>V,kf:()=>G,nD:()=>Y,rU:()=>E,tq:()=>D,tu:()=>z,u3:()=>A,vr:()=>j,wG:()=>O,wO:()=>J,w_:()=>_,yT:()=>Z}),r(7294);var n=r(4184),o=r(5472),i=r(4026),a=r(341),c=r(3246),u=r(9292),l=r(8055),s=r(2440),f=r(5951),d=r(5893);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r,n,o,a,c,u){var s=e&&Math.random()<1/3;if(t!==i.Lx.FREQUENCY&&s&&r.length>0){var f=r.filter((function(e){return(0,l.Gd)(o[e].d)>r.length})),d=f.length,v=Math.floor(Math.random()*(d-0)+0),p=n.find((function(e){return f[v]===e.uid}));if(p&&a!==p.uid)return void c(p.uid)}u()}function j(e,t,r){var n;if(!(n=t?r[t[e]]:r[e]))throw new Error("No term found");return n.uid}function w(e,t){var r=t.find((function(t){return e===t.uid}));if(!r)throw new Error("No term found");return r}function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=t;if(e===i.Lx.FREQUENCY){if(!r)throw new TypeError("Filter type requires frequencyList");if(!o)throw new TypeError("Filter type requires toggleFilterType");r.length>0?a=n.length>0?t.filter((function(e){return r.includes(e.uid)&&S(n,e)})):t.filter((function(e){return r.includes(e.uid)})):o(i.Lx.GROUP)}else e===i.Lx.TAGS?n.length>0&&(a=t.filter((function(e){return e.tag&&e.tag.some((function(e){return n.includes(e)}))}))):n.length>0&&(a=t.filter((function(e){return S(n,e)})));return a}function S(e,t){return t.grp&&e.includes(t.grp)||e.includes(t.grp+"."+t.subGrp)||void 0===t.grp&&(e.includes("undefined")||e.includes("undefined."+t.subGrp))}function O(e,t){var r=Object.keys(e).reduce((function(t,r){return[].concat(m(t),[r],m(e[r].map((function(e){return r+"."+e}))))}),[]);return t.reduce((function(e,t){return r.includes(t)||(e=[].concat(m(e),[t])),e}),[])}function k(e,t,r){var n=new Set(Object.keys({d:null,difficulty:null,nextReview:null,vC:null,f:null,rein:null,pron:null,tpPc:null,tpAcc:null,tpCAvg:null})),o=new Set,i=[];return Object.keys(e).forEach((function(a){Object.keys(e[a]).forEach((function(e){var c;if(!n.has(e)){var u;try{u=w(a,t)}catch(e){u={english:r}}c={key:e,uid:a,english:u.english}}void 0!==c&&(o.add(e),i=[].concat(m(i),[c]))}))})),{keys:o,list:i}}function P(e){return~~(Date.now()-e)>1500}function A(e){return~~(Date.now()-e)>300}function E(e,t){var r=[],n=[],i=[],a=[],c=[];for(var u in e){var l=e[u].uid,s=t[l];if(void 0!==s){if(void 0===s.tpAcc)a=[].concat(m(a),[{date:s.d,views:s.vC,uid:l,index:Number(u)}]);else if(!0===s.pron){var f=N(s.d,s.tpAcc,s.vC),d=T(s.tpPc,s.tpCAvg);n=[].concat(m(n),[{staleness:f,correctness:d,uid:l,index:Number(u)}])}else if(s.tpAcc>=.65){var v=N(s.d,s.tpAcc,s.vC),p=T(s.tpPc,s.tpCAvg);c=[].concat(m(c),[{staleness:v,correctness:p,uid:l,index:Number(u)}])}else if(s.tpAcc<.65){var h=N(s.d,s.tpAcc,s.vC),y=T(s.tpPc,s.tpCAvg);r=[].concat(m(r),[{staleness:h,correctness:y,uid:l,index:Number(u)}])}}else i=[].concat(m(i),[Number(u)])}var b=o(r,["staleness","correctness","uid"],["desc","asc","asc"]),g=o(n,["staleness","correctness","uid"],["desc","asc","asc"]),j=o(a,["date","views","uid"],["asc","asc","asc"]),w=o(c,["staleness","correctness","uid"],["desc","asc","asc"]),x=b.map((function(e){return e.index})),S=g.map((function(e){return e.index})),O=j.map((function(e){return e.index})),k=w.map((function(e){return e.index}));return[].concat(m(x),m(S),m(i),m(O),m(k))}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=Number.MAX_SAFE_INTEGER;return void 0!==e&&t>0&&r>0&&(n=(0,l.O5)(e)*(1/t)*(1/r)),n}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Number.MIN_SAFE_INTEGER;return e>0&&t>0&&(r=e*(1/t)),r}function L(e,t){var r=[],n=[];for(var i in e){var a=e[i].uid,c=t[a];void 0!==c&&void 0!==c.d?n=[].concat(m(n),[{date:c.d,uid:a,index:Number(i)}]):r=[].concat(m(r),[Number(i)])}var u=o(n,["date","uid"],["asc","asc"]).map((function(e){return e.index}));return[].concat(m(r),m(u))}var C=80,M=30;function I(e,t){var r=[],n=[],i=[];for(var a in e){var c=e[a].uid,u=t[c];if(void 0!==u&&void 0!==u.difficulty){var l=Number(u.difficulty);l<C?n=[].concat(m(n),[{difficulty:l,uid:c,index:Number(a)}]):i=[].concat(m(i),[Number(a)])}else r=[].concat(m(r),[Number(a)])}var s=o(n,["difficulty","uid"],["asc","asc"]).map((function(e){return e.index}));return[].concat(m(s),m(r),m(i))}function R(e){var t={},r=[];e.forEach((function(e,n){t[e.uid]=n,r=[].concat(m(r),[{uid:e.uid,japanese:e.japanese,english:e.english}])}));var n=[],i=[],a=[];return(r=o(r,["japanese"],["asc"])).forEach((function(e,r){n=[].concat(m(n),[t[e.uid]]),a=[].concat(m(a),[{uid:e.uid,label:c.TZ.parse(e).getPronunciation(),idx:-1}]),i=[].concat(m(i),[{uid:e.uid,label:e.english.toLowerCase(),idx:r}])})),(i=o(i,["label"],["asc"])).forEach((function(e,t){a[e.idx]=h(h({},a[e.idx]),{},{idx:t})})),{order:n,jOrder:a,eOrder:i}}function D(e){var t=e.map((function(e,t){return t}));return(0,a.Sy)(t),t}function _(e,t){return t[e]}function F(e,t){return e+1<t.length?e+1:0}function G(e,t){var r,n,o,i,a,c,l,s,f,d,v,p,h={dictionary:void 0===e?void 0:u.R.parse(e)},y=[{name:"-masu",value:null===(r=h.dictionary)||void 0===r?void 0:r.masuForm()},{name:"-mashou",value:null===(n=h.dictionary)||void 0===n?void 0:n.mashouForm()},{name:"dictionary",value:h.dictionary},{name:"-nai",value:null===(o=h.dictionary)||void 0===o?void 0:o.naiForm()},{name:"-saseru",value:null===(i=h.dictionary)||void 0===i?void 0:i.saseruForm()},{name:"-te",value:null===(a=h.dictionary)||void 0===a?void 0:a.teForm()},{name:"-ta",value:null===(c=h.dictionary)||void 0===c?void 0:c.taForm()}].concat(m(null!==(null===(l=h.dictionary)||void 0===l?void 0:l.chattaForm())?[{name:"-chatta",value:null===(s=h.dictionary)||void 0===s?void 0:s.chattaForm()}]:[]),m(null!==(null===(f=h.dictionary)||void 0===f?void 0:f.reruForm())?[{name:"-reru",value:null===(d=h.dictionary)||void 0===d?void 0:d.reruForm()}]:[]));return t&&t.length>0&&(p=t.reduce((function(e,t){var r=y.find((function(e){return e.name===t}));return void 0!==r&&(e=[].concat(m(e),[r])),e}),[])),null!==(v=p)&&void 0!==v?v:y}function q(e,t){var r=G(e).find((function(e){return e.name===t}));if(!r)throw new Error("Invalid targetForm");return r.value}function U(e,t,r,o){var i,a=!e,c=[],l=!1,s=!1;t.constructor.name===u.R.name&&"isExceptionVerb"in t&&(l=t.isExceptionVerb()||3===t.getVerbClass(),s=t.isIntransitive(),i=t.getTransitivePair()||t.getIntransitivePair());var f=t.isNaAdj(),v=t.isSlang(),p=t.isKeigo();return a&&(s||i)&&(c=[].concat(m(c),[(0,d.jsx)("span",{className:n({clickable:i,"question-color":i}),onClick:i&&o?function(){o(i)}:void 0,children:s?"intr":"trans"},c.length+1)])),a&&v&&(c=[].concat(m(c),[(0,d.jsx)("span",{children:"slang"},c.length+1)])),a&&p&&(c=[].concat(m(c),[(0,d.jsx)("span",{children:"keigo"},c.length+1)])),l&&c.length>0&&(c=[(0,d.jsx)("span",{children:"*"},c.length+1)].concat(m(c))),c.length>0?(0,d.jsxs)("span",{children:[r,f&&(0,d.jsxs)("span",{className:"opacity-25",children:[" ","な"]}),(0,d.jsxs)("span",{className:"fs-5",children:[(0,d.jsx)("span",{children:" ("}),c.reduce((function(e,t,r){return r>0&&r<c.length?[].concat(m(e),[(0,d.jsx)("span",{children:" , "},c.length+r),t]):[].concat(m(e),[t])}),[]),(0,d.jsx)("span",{children:")"})]})]}):l?(0,d.jsxs)("span",{children:[r,(0,d.jsxs)("span",{children:[" ","*"]})]}):f?(0,d.jsxs)("span",{children:[r,(0,d.jsxs)("span",{className:"opacity-25",children:[" ","な"]})]}):r}function Z(e,t,r,o){var i,a=[],c=!1;t.constructor.name===u.R.name&&"isExceptionVerb"in t&&(c=t.isIntransitive(),i=t.getTransitivePair()||t.getIntransitivePair());var l=t.isSlang(),s=t.isKeigo();return e&&(c||i)&&(a=[].concat(m(a),[(0,d.jsx)("span",{className:n({clickable:i,"question-color":i}),onClick:i&&o?function(){o(i)}:void 0,children:c?"intr":"trans"},a.length+1)])),e&&l&&(a=[].concat(m(a),[(0,d.jsx)("span",{children:"slang"},a.length+1)])),e&&s&&(a=[].concat(m(a),[(0,d.jsx)("span",{children:"keigo"},a.length+1)])),a.length>0?(0,d.jsxs)("span",{children:[r,(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{children:" ("}),a.reduce((function(e,t,r){return r>0&&r<a.length?[].concat(m(e),[(0,d.jsx)("span",{children:" , "},a.length+r),t]):[].concat(m(e),[t])}),[]),(0,d.jsx)("span",{children:")"})]})]}):r}function W(e,t,r,n,o){var i,a,c,u;return e?(i=t,a=r,c=n,u=o):(i=r,a=t,c=o,u=n),{topValue:i,topLabel:c,bottomValue:a,bottomLabel:u}}function V(e){return e.grp&&""!==e.grp?(0,d.jsx)("span",{className:"hint",children:e.grp+(e.subGrp?", "+e.subGrp:"")}):void 0}function z(e){var t=e.getPronunciation().slice(1,2);return(0,s.BM)(t)?e.getHint(s.Ot,f.AG,3,2):e.getHint(s.Ot,f.AG,3,1)}function K(e){var t=e.uid;if(!t)throw console.warn(JSON.stringify(e)),new Error("Missing uid");return e.form&&(t+="dictionary"!==e.form?e.form.replace("-","."):""),t}function H(e,t,r,n){return{furigana:{show:!(t&&t[e]&&!1===t[e].f),toggle:!1===r&&n&&function(){n(e)}||void 0}}}function J(e,t,r){var n=t.signal;return new Promise((function(t,o){var i=function(){clearTimeout(c),clearInterval(a),o(new Error("Aborted"))},a="function"==typeof r?setInterval(r,200,200,e):-1,c=setTimeout((function(){null==n||n.removeEventListener("abort",i),clearInterval(a),t()}),e);null!=n&&n.aborted&&i(),null==n||n.addEventListener("abort",i)}))}function Y(e,t,r,n){var o=n.signal;return new Promise((function(n,i){var a=function(){clearTimeout(c);var e=new Error("User interrupted loop.",{cause:{code:"UserAborted"}});i(e)},c=setTimeout((function(){e>0?t().then((function(){return Y(e-1,t,r,{signal:o}).then((function(){null==o||o.removeEventListener("abort",a),n()}))})).catch((function(e){i(e)})):(null==o||o.removeEventListener("abort",a),n())}),r);null!=o&&o.aborted&&a(),null==o||o.addEventListener("abort",a)}))}function $(e,t,r){var n,o,i=null===(n=e.acceleration)||void 0===n?void 0:n.y,a=null===(o=e.acceleration)||void 0===o?void 0:o.z;if(null==i||null==a)throw new Error("Device does not support DeviceMotionEvent",{cause:{code:"DeviceMotionEvent"}});var c=Math.sqrt(i*i+a*a);c>t&&"function"==typeof r&&r(c)}function B(e,t){"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(t){"granted"===t&&e()})).catch(t):e()}},2440:(e,t,r)=>{r.d(t,{AF:()=>i,BE:()=>s,BM:()=>u,C5:()=>d,F8:()=>v,IE:()=>l,Ot:()=>h,Vj:()=>f,dv:()=>p,f_:()=>a,xn:()=>c}),r(7294);var n=r(6954),o=r(5893);function i(e){return new RegExp("[一-龯㐀-䶿々]").test(e)}function a(e){return new RegExp("[ぁ-ゟ]").test(e)}function c(e){return new RegExp("[゠-ヿ]").test(e)}function u(e){return new RegExp("^[ゃャゅュょョ]$").test(e)}function l(e){return new RegExp("[０-９]").test(e)}function s(e){return new RegExp("[　-〄〆-〿｡-･！-／：-＠［-｀｛-～]").test(e)}function f(e){var t=e;if(a(e)){var r=e.codePointAt(0);if(r){var n=r+96;t=String.fromCharCode(n)}}else if(c(e)){var o=e.codePointAt(0);if(o){var i=o-96;t=String.fromCharCode(i)}}return t}function d(e){var t;switch(e){case"は":t="wa";break;case"には":t="niwa";break;case"を":t="o";break;case"って":t="tte";break;default:t=e.split("").map((function(e){return function(e){var t=e;if(a(e)){var r=p(e),o=r.iConsonant,i=r.iVowel;t=n.sH[o]+n.Be[i]}else if(c(e)){var u=e.codePointAt(0);if(u){var l=u-96,s=p(String.fromCharCode(l)),f=s.iConsonant,d=s.iVowel;t=n.sH[f]+n.Be[d]}}return t}(e)})).join("")}return t}function v(e){var t=Number.NaN;if(l(e)){var r=e.codePointAt(0);if(r){var n=r-65249;t=Number.parseInt(String.fromCharCode(n))}}return t}function p(e){var t=n.Bw,r=t[0].length,o=t.length,i=-1,a=-1;if(" "===e||""===e)return{iConsonant:i,iVowel:a};if("ん"===e)return{iConsonant:15,iVowel:a};for(var c=0;c<r&&i<0;c++)for(var u=0;u<o;u++)if(t[u][c]===e){i=u,a=c;break}return{iConsonant:i,iVowel:a}}function h(e,t,r){return(0,o.jsxs)("span",{className:"hint",children:[(0,o.jsx)("span",{className:e.shown,children:t.slice(0,r)}),(0,o.jsx)("span",{className:e.hidden,children:t.slice(r)})]})}},5951:(e,t,r)=>{r.d(t,{AG:()=>c,je:()=>u,re:()=>s,tn:()=>l,v5:()=>f});var n=r(4184),o=(r(7294),r(5893));function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a){var c=function(e,t){var r,n,o=e.kanjis,a=e.furiganas,c=e.okuriganas,u=e.startsWKana,l=t;return a.length>c.length?c=[].concat(i(c),[""]):a.length<c.length&&(o=[].concat(i(o),[""]),a=[].concat(i(a),[""])),a.reduce((function(e,t,s){var f=Math.trunc(a[s].length/o[s].length);if(l>0)if(u)if(r=c[s],n=a[s],r.length<=l){var d,v=l-=r.length;n.length<=l?(l-=n.length,d=o[s].length,v=n.length):(d=Math.ceil(l/f),l=0),e=[].concat(i(e),[{k:d,f:v,o:r.length}])}else e=[].concat(i(e),[{k:0,f:0,o:l}]),l=0;else if(r=a[s],n=c[s],r.length<=l){var p;l-=r.length,n.length<l?(l-=n.length,p=n.length):(p=l,l=0),e=[].concat(i(e),[{k:o[s].length,f:r.length,o:p}])}else{var h=Math.ceil(l/f);e=[].concat(i(e),[{k:h,f:l,o:0}]),l=0}else e=[].concat(i(e),[{k:0,f:0,o:0}]);return e}),[])}({kanjis:t,furiganas:r,okuriganas:n,startsWKana:a},arguments.length>5&&void 0!==arguments[5]?arguments[5]:1);r.length>n.length?n=[].concat(i(n),[""]):r.length<n.length&&(t=[].concat(i(t),[""]),r=[].concat(i(r),[""]));var u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t?[(0,o.jsx)("span",{className:e,children:t},r)]:[]},l=c.map((function(o,i){return f(i,{sk:o.k>0?u(e.shown,t[i].slice(0,o.k)):[],hk:o.k<t[i].length?u(e.hidden,t[i].slice(o.k)):[]},{sf:o.f>0?u(e.shown,r[i].slice(0,o.f)):[],hf:o.f<r[i].length?u(e.hidden,r[i].slice(o.f)):[]},{so:o.o>0?u(e.shown,n[i].slice(0,o.o)):[],ho:o.o<n[i].length?u(e.hidden,n[i].slice(o.o)):[]},a)}));return(0,o.jsx)("span",{className:"hint",children:l})}function u(e){var t=e.kanjis,r=e.furiganas,n=e.okuriganas;return r.length>n.length?n=[].concat(i(n),[""]):r.length<n.length&&(t=[].concat(i(t),[""]),r=[].concat(i(r),[""])),r.map((function(e,o){return{k:t[o].length,f:r[o].length,o:n[o].length}}))}function l(e,t,r){var n=e.kanjis,a=e.furiganas,c=e.okuriganas,l=e.startsWKana,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r+1,d=t.shown,v=t.hidden,p=function(e,t){var r=e.kanjis,n=e.furiganas,o=e.okuriganas,a=e.startsWKana,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+1,l=c-t;n.length>o.length?o=[].concat(i(o),[""]):n.length<o.length&&(r=[].concat(i(r),[""]),n=[].concat(i(n),[""]));var s=u({kanjis:r,furiganas:n,okuriganas:o,startsWKana:a}),f=[0];return s.map((function(e,r){var n=e.k,o=e.o,u=0,s=0;if(f=[].concat(i(f),[f[r]+n+o]),a){if(f[r]+o>t)if(f[r]+o<c){var d=t-(f[r]+o);s=Math.min.apply(Math,[o,Math.abs(d)]),l-=s}else s=l,l=0;if(f[r]+o+n>t)if(f[r]+o+n<c){var v=t-(f[r]+o+n);u=Math.min.apply(Math,[n,Math.abs(v)]),l-=u}else u=l,l=0}else{if(f[r]+n>t)if(f[r]+n<c){var p=t-(f[r]+n);u=Math.min.apply(Math,[n,Math.abs(p)]),l-=u}else u=l,l=0;if(f[r]+n+o>t)if(f[r]+n+o<c){var h=t-(f[r]+n+o);s=Math.min.apply(Math,[o,Math.abs(h)]),l-=s}else s=l,l=0}return{k:u,f:0,o:s}}))}({kanjis:n,furiganas:a,okuriganas:c,startsWKana:l},r,s);a.length>c.length?c=[].concat(i(c),[""]):a.length<c.length&&(n=[].concat(i(n),[""]),a=[].concat(i(a),[""]));var h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t?[(0,o.jsx)("span",{className:e,children:t},r)]:[]},y=function(e,t,n,o){var a=[],c=[],u=e.length;if(u>0)if(0===t)c=h(d,e);else if(t===u)a=h(v,e),n-=u;else if(t<u)if(n<t)a=h(v,e.slice(0,t)),c=h(d,e.slice(t-u)),n=0;else if(n===t){var l=o,s=r-l,f=s+n,p=h(d,e.slice(0,s),l+1),y=h(v,e.slice(s,f),l+2),m=h(d,e.slice(f,u),l+3);c=[].concat(i(p),i(y),i(m)),n=0}else n>t&&(c=h(d,e.slice(0,t)),a=h(v,e.slice(t-u)),n-=t);return{s:c,h:a,spliceLen:n}},m=s-r,b=[0],g=p.map((function(e,t){var r,o,u=n[t].length,s=c[t].length;b=[].concat(i(b),[b[t]+s+u]);var v=y(n[t],e.k,m,b[t]+(l?s:0));r=v.s,o=v.h,m=v.spliceLen;var p,g,j=h(d,a[t]),w=y(c[t],e.o,m,b[t]+(l?0:u));return p=w.s,g=w.h,m=w.spliceLen,f(t,{sk:r,hk:o},{sf:j,hf:[]},{so:p,ho:g},l)}));return(0,o.jsx)("span",{className:"decorated",children:g})}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e?[(0,o.jsx)("span",{className:t,children:e},r)]:[]}function f(e,t,r,i,a){var c=t.sk,u=t.hk,l=r.sf,s=r.hf,f=i.so,d=i.ho,v=c.length>0||u.length>0,p=l.length>0||s.length>0,h=f.length>0||d.length>0,y=v&&p&&(0,o.jsxs)("ruby",{children:[c,u,(0,o.jsxs)("rt",{children:[l,s]})]})||void 0,m=h&&(0,o.jsxs)("span",{children:[f,d]})||void 0,b=a?m:y,g=a?y:m,j=n({"lh-furigana":v&&p})||void 0;return(b||g)&&(0,o.jsxs)("span",{className:j,children:[b,g]},e)||void 0}},7949:(e,t,r)=>{r.d(t,{xr:()=>y,JW:()=>h});var n=r(6777);function o(){return window.localStorage}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return function(e){if(Array.isArray(e))return e}(e)||d(e)||s(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e,t){if(1===t.length)return e[t[0]];var r=l(t),n=r[0],o=r.slice(1);return v(e[n],o)}function p(e,t,r){if(1===t.length){var n=t[0];return c(c({},e),{},u({},n,r))}var o=l(t),i=o[0],a=o.slice(1);return c(c({},e),{},u({},i,p(e[i]||{},a,r)))}function h(e,t,r,i,a){var u,l=y(n._)||{},h=[].concat(function(e){if(Array.isArray(e))return f(e)}(u=r.split("/").filter((function(e){return""!==e})))||d(u)||s(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]);void 0===a&&(a=!v(t,h));var m=p(c({},l),h,a),b=v(m,h);return function(e,t){try{o().setItem(e,JSON.stringify(t))}catch(e){console.log("setLocalStorage failed"),console.error(e)}}(n._,c(c({},m),{},{lastModified:e})),b}function y(e){var t;try{var r,n=o().getItem(e);try{n&&(r=JSON.parse(n))}catch(e){console.error("localStore parse failed"),console.error(e)}"object"!==i(r)||Array.isArray(r)||null===r||(t=r)}catch(e){console.error("localStore getItem failed"),console.error(e)}return t}},4597:(e,t,r)=>{function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Nmemonica App",r=arguments.length>2?arguments[2]:void 0;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t,album:r,artwork:[{src:"icon192.png",sizes:"192x192",type:"image/png"},{src:"icon512.png",sizes:"512x512",type:"image/png"}]}))}function a(e){if("mediaSession"in navigator){var t=navigator.mediaSession;try{t.playbackState=e}catch(e){console.error(e)}}else console.error("mediaSession not available")}function c(e){if("mediaSession"in navigator){var t=navigator.mediaSession;try{var r,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=(u=r.value,l=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(u,l)||n(u,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];try{t.setActionHandler(a,c)}catch(e){console.error(e)}}}catch(e){o.e(e)}finally{o.f()}}catch(e){console.error(e)}}else console.error("mediaSession not available");var u,l}function u(){if("mediaSession"in navigator){var e=navigator.mediaSession;try{e.metadata=null,e.playbackState="none",navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("stop",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null)}catch(e){console.error(e)}}else console.error("mediaSession not available")}r.d(t,{$T:()=>i,CU:()=>u,aw:()=>c,gI:()=>a})},976:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t={},r=Object.keys(e).map((function(r){var n=e[r].trans;return n&&(t[n]={intr:r,trans:e[r].trans}),c(c({},e[r]),{},{uid:r})}));return r.map((function(e){return t[e.uid]?c(c({},e),{},{intr:t[e.uid].intr}):e}))}function s(e){var t="grp",r="subGrp";return Object.values(e).reduce((function(e,n){return n[t]?e[n[t]]?n[r]&&!e[n[t]].includes(n[r])?c(c({},e),{},u({},n[t],[].concat(o(e[n[t]]),[n[r]]))):e:n[r]?c(c({},e),{},u({},n[t],[n[r]])):c(c({},e),{},u({},n[t],[])):c({},e)}),{})}function f(e){var t="tag",r=[];return Object.values(e).forEach((function(e){e[t]&&e[t].length>0&&(r=[].concat(o(r),o(e[t])))})),Array.from(new Set(r))}r.d(t,{MS:()=>l,by:()=>s,fh:()=>f})},9701:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=n(e.includes("?")?e.split("?"):[e,""],2),o=r[0],i=r[1],a=new URLSearchParams(i),c=0,u=Object.entries(t);c<u.length;c++){var l=n(u[c],2),s=l[0],f=l[1];void 0!==f&&a.append(s,f)}return[o,a.toString()].join("?")}r.d(t,{b1:()=>i})},5591:(e,t,r)=>{r.d(t,{cM:()=>l,iP:()=>c,kP:()=>u,oU:()=>a});var n=r(7294);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(){var e=o((0,n.useState)(!0),2),t=e[0],r=e[1];return function(){return r(!t)}}function c(){var e=o((0,n.useState)({width:void 0,height:void 0}),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}function u(e,t){return function(){(t||"function"==typeof t)&&e(t)}}function l(e,t,r){return function(n){e(r?t(r):n instanceof Object&&"_reactName"in n?t():n?t(n):t())}}},588:(e,t,r)=>{r.d(t,{R:()=>c});var n=r(7294),o=r(743);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){var e=i((0,o.v9)((function(e){return[e.global.swipeThreshold]}),o.wU),1)[0],t=(0,o.v9)((function(e){return e.kanji}),(function(e,t){return e.version===t.version})).value,r=(0,o.v9)((function(e){return e.vocabulary}),(function(e,t){return e.version===t.version})).value,a=(0,o.v9)((function(e){return e.kanji.setting}),(function(e,t){return e.repTID===t.repTID})).repetition,c=i((0,o.v9)((function(e){var t=e.kanji.setting;return[t.reinforce,t.filter,t.choiceN]}),o.wU),3),u=c[0],l=c[1],s=c[2],f=(0,o.v9)((function(e){return e.kanji.setting.activeTags}),o.wU),d=(0,n.useRef)(u);d.current=u;var v=(0,n.useRef)(l);return v.current=l,{repetition:a,swipeThreshold:e,kanjiList:t,vocabList:r,activeTags:f,choiceN:s,reinforce:d,filterType:v}}},4414:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(3072);function o(e){return function(t){var r=function(r){try{(0,n.Mm)(r,e,t)}catch(e){Error}};return{addDeviceMotionEvent:function(){e>0&&(0,n.HG)((function(){window.addEventListener("devicemotion",r)}),(function(){}))},removeDeviceMotionEvent:function(){e>0&&window.removeEventListener("devicemotion",r)}}}}},8876:(e,t,r)=>{r.d(t,{q:()=>i});var n=r(7294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){(0,n.useEffect)((function(){var n=function(e,t,r){return function(n){for(var i=function(){var t,i,u=(t=c[a],i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],s=u[1];if(l===n.key){var f=s;return" "!==l&&"function"==typeof r&&(f=r({ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"}[l]||"",(function(t){t?e(t):s()}))),f(),"break"}},a=0,c=[["ArrowRight",function(){return e("left")}],["ArrowLeft",function(){return e("right")}],["ArrowUp",function(){return e("up")}],["ArrowDown",function(){return e("down")}],[" ",t]];a<c.length&&"break"!==i();a++);}}(e,t,r);return document.addEventListener("keydown",n,!0),function(){document.removeEventListener("keydown",n,!0)}}),[e,t,r])}},1411:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7294),o=r(4597);function i(e,t,r,i,a){(0,n.useEffect)((function(){(0,o.$T)(e);var n=[["play",function(){t&&(r(),(0,o.gI)("playing"))}],["pause",function(){t&&(i(),(0,o.gI)("paused"))}],["stop",function(){t&&(i(),(0,o.gI)("paused"))}],["previoustrack",function(){t&&(i(),a("right"))}],["nexttrack",function(){t&&(i(),a("left"))}]];return(0,o.aw)(n),function(){(0,o.CU)()}}),[e,t,r,i,a])}},6278:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(7294),o=r(743),i=r(6771);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=(0,o.v9)((function(e){return e.global.swipeThreshold})),a=(0,n.useRef)({}),c=(0,n.useRef)(null);return(0,n.useEffect)((function(){var n=function(e,t){return function(r){t.current=(0,i.IY)(r,{verticalSwiping:!0,touchThreshold:e})}}(r,a),o=function(e){return function(t){e.current&&(e.current=(0,i.Si)(t,e.current))}}(a),l=function(e,t,r,n){return function(o){var a,c=r,l=o.target,s=Array.from(document.getElementsByClassName("loop-stop-btn")).some((function(e){return e.contains(l)})),f=Array.from(document.getElementsByClassName("loop-no-interrupt")).some((function(e){return e.contains(l)})),d=void 0===(null===(a=e.current.touchObject)||void 0===a?void 0:a.swipeLength)||e.current.touchObject.swipeLength<e.current.touchThreshold;if(!(s||f&&d)){var v=(0,i.Yg)(e.current.touchObject,!0);"function"==typeof n&&(c=n(v,r)),t(o,u(u({},e.current),{},{onSwipe:c}))}}}(a,i.Kd,e,t);c.current&&(c.current.addEventListener("touchstart",n),c.current.addEventListener("touchmove",o),c.current.addEventListener("touchend",l));var s=c.current;return function(){null==s||s.removeEventListener("touchstart",n),null==s||s.removeEventListener("touchmove",o),null==s||s.removeEventListener("touchend",l)}}),[a,r,e,t]),{HTMLDivElementSwipeRef:c}}},3545:(e,t,r)=>{r.d(t,{T:()=>A});var n=r(7294),o=r(4184),i=r.n(o),a=r(5697),c=r.n(a),u=r(5529),l=r(7625),s=r(6024),f=r(5893);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return e.visible?null:(0,f.jsxs)("div",{className:"loop-btn loop-setting-btn clickable","aria-label":"Loop repeat settings button",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},children:[(0,f.jsx)(u.reW,{className:i()({"rotate-135":!0,"disabled-color":!e.active}),size:"small"}),e.active&&(0,f.jsx)("span",{className:"notification",children:e.loop})]})}function m(e){var t=e.className;return e.visible?null:(0,f.jsxs)("div",{className:i()(p({"loop-btn loop-start-btn clickable":!0},t||{})),"aria-label":"Loop start button",children:[(0,f.jsx)(l.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:s.aQ}),null!=e.countDown&&(0,f.jsx)("span",{className:"notification",children:e.countDown})]})}function b(e){var t=e.className;return e.visible?null:(0,f.jsx)("div",{className:i()(p({"loop-btn loop-stop-btn clickable":!0},t||{})),"aria-label":"Loop stop button",children:(0,f.jsx)(l.G,{size:"sm",onClick:function(){e.onClick&&"function"==typeof e.onClick&&e.onClick()},icon:s.oD})})}y.propTypes={visible:c().bool,active:c().bool,loop:c().number,onClick:c().func},m.propTypes={visible:c().bool,onClick:c().func,className:c().object,countDown:c().number},b.propTypes={visible:c().bool,onClick:c().func,className:c().object};var g=r(3653),j=r(3072),w=r(4597),x=r(7713),S=r(5591);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=15e3;function A(e,t,r){var o=(0,n.useRef)(void 0),i=(0,n.useRef)(null),a=O((0,n.useState)(0),2),c=a[0],u=a[1],l=O((0,n.useState)(P/1e3),2),s=l[0],d=l[1],v=(0,n.useRef)(void 0),p=O((0,n.useState)(null),2),h=p[0],k=p[1],A=(0,n.useRef)(void 0),N=(0,n.useRef)(void 0),T=O((0,n.useState)(void 0),2),L=T[0],C=T[1];(0,n.useEffect)((function(){var e=o;return function(){var t;null===(t=e.current)||void 0===t||t.forEach((function(e){return e.abort()}))}}),[]);var M,I,R=(0,S.oU)();0===c?M=null:0===(null===(I=o.current)||void 0===I?void 0:I.length)?M=(0,f.jsx)(b,{}):void 0===o.current?M=(0,f.jsx)(m,{countDown:Array.isArray(i.current)?s:void 0,onClick:function(){if(Array.isArray(o.current));else{if(Array.isArray(i.current)){var e=O(i.current,1)[0];clearInterval(e),d(P/1e3)}v.current=void 0,C(void 0),o.current=[],setTimeout(_,100),R()}}}):void 0!==o.current&&(M=(0,f.jsx)(b,{onClick:function(){F(),U(),u(0)}}));var D=(0,f.jsx)(y,{active:c>0,loop:c,onClick:function(){var e=F();i.current=null,e&&E(h,k),u((function(e){var t=3===e;return v.current=t?void 0:v.current,t?0:e+1}))}});function _(){F();var e,n,i,a=new AbortController,l=new AbortController,s=new AbortController,f=new AbortController,d=new AbortController;if("function"==typeof r){var v=r((function(){void 0!==A&&(F(),U(),u(0))})),p=v.addDeviceMotionEvent,h=v.removeDeviceMotionEvent;p(),e=h}o.current=[a,l,s,f,d],t?(n=function(e){return G("down",e)},i=function(e){return(0,j.nD)(c,(function(){return G("up",e)}),1500,e)}):(n=function(e){return G("up",e)},i=function(e){return(0,j.nD)(c,(function(){return G("down",e)}),1500,e)});var y=function(e,t){k((function(r){return null===r||100-r<1?e/t*100:r+e/t*100}))};(0,j.wO)(700,a).then((function(){return A.current=Date.now(),n(l).catch((function(e){var t;if("UserAborted"===(null===(t=e.cause)||void 0===t?void 0:t.code))throw e}))})).then((function(){return(0,j.wO)(3e3,s,y)})).then((function(){return k(null),A.current=void 0,i(f).then((function(){return o.current=void 0,G("left")})).catch((function(e){var t;if("UserAborted"!==(null===(t=e.cause)||void 0===t?void 0:t.code))return o.current=void 0,G("left")}))})).then((function(){return(0,j.wO)(100,d)})).catch((function(){})).then((function(){"function"==typeof e&&e()}))}var F=(0,n.useCallback)((function(){var e,t=!1;return null===(e=o.current)||void 0===e||e.forEach((function(e){t=!0,e.abort()})),o.current=void 0,t}),[o]);function G(t,r){var n;return c>0&&(n=e(t,r)),n||Promise.reject("loop disabled")}function q(){var e;if(void 0!==A.current){var t=A.current;e=Math.abs(Date.now()-t)}return{tpElapsed:e}}function U(){var e,t=!1;return c>0&&void 0===o.current&&(null===(e=i.current)||void 0===e||e.forEach((function(e){clearTimeout(e)})),i.current=null,d(P/1e3),v.current=void 0,C(void 0),A.current=void 0,N.current=void 0,k(null),t=!0),t}return{beginLoop:_,abortLoop:F,looperSwipe:G,gradeTimedPlayEvent:function(e,t,r){var n;if(c>0&&void 0!==v.current)if("reset"===L)!0===(null===(n=r[t])||void 0===n?void 0:n.pron)&&void 0!==N.current&&e((0,x.Gy)(t,N.current,{pronunciation:void 0}));else if(!0===v.current)void 0!==N.current&&e((0,x.Gy)(t,N.current));else{var o={pronunciation:"pronunciation"===L||void 0};e((0,x.d1)(t,o))}},resetTimedPlay:U,loopSettingBtn:D,loopActionBtn:M,timedPlayVerifyBtn:function(e){return(0,f.jsx)(g.lh,{visible:void 0!==v.current,hover:L,prevMissPronu:e,onPronunciation:function(){e?(v.current=!1,C((function(e){return"reset"===e?void 0:"reset"}))):(v.current=!1,C((function(e){return"pronunciation"===e?void 0:"pronunciation"})))},onIncorrect:function(){v.current=!1,C((function(e){return"incorrect"===e?void 0:"incorrect"}))},onReset:function(){v.current=!1,C((function(e){return"reset"===e?void 0:"reset"}))}})},timedPlayAnswerHandlerWrapper:function(e,r){if(0===c)return r;var n=r;if("up"===e||"down"===e){var o=t?"up":"down";n=function(e){return r(o)}}var a=function(e,t,r,n,o,i,a,c,u,l,s,f){var d=t,v=function(){},p=function(){return E(n,o)};if(u()){var h=null===n&&void 0!==c.current,y=null!==n&&void 0!==c.current,m=null===n&&void 0===c.current;if("up"===e||"down"===e){var b=l();f.current=b.tpElapsed,s.current=!0,h?(p=v,s.current=void 0,setTimeout((function(){s.current=!0}),1500),o(0),setTimeout((function(){o(null)}),1500)):y||m&&(s.current=!1,d=v,p=v)}else{m&&(p=v);var g=function(e,t){var r=setInterval((function(){t((function(t){var n=1===t;return e((function(e){return n?0:e})),n&&clearTimeout(r),n?P/1e3:t-1}))}),1e3);return r}(r,i);a.current=[g]}p(),(0,w.gI)("paused")}return d}(e,n,u,h,k,d,i,A,F,q,v,N);return a},loop:c,setLoop:u,tpAnimation:h,tpAnswered:v}}function E(e,t){null!==e&&setTimeout((function(){t(0),setTimeout((function(){t((function(e){return 0===e?null:e}))}),1e3)}),1500)}},2104:(e,t,r)=>{var n=r(7294),o=r(745),i=r(743),a=r(9829),c=r(4320),u=r(2761),l=r(4724),s=r(4728),f=r(3827);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function y(){}var m={};u(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var u=s(e[n],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==d(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,c,"next",e)}function c(e){p(i,n,o,a,c,"throw",e)}a(void 0)}))}}var y=(0,a.hg)("version/getVersions",h(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(f.qe.databaseURL+"/lambda/cache.json").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)}))));const m=(0,a.oM)({name:"version",initialState:{vocabulary:void 0,phrases:void 0,kanji:void 0,opposites:void 0,particles:void 0,suffixes:void 0},reducers:{},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){return t.payload}))}}).reducer;var b=r(7713),g=r(9579);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function w(){w=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function v(){}function p(){}var h={};u(h,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var b=p.prototype=d.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var u=s(e[n],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==j(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:v,configurable:!0}),v.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function x(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){x(i,n,o,a,c,"next",e)}function c(e){x(i,n,o,a,c,"throw",e)}a(void 0)}))}}var O=(0,a.hg)("serviceWorker/serviceWorkerRegistered",S(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=4;break}return e.abrupt("return",navigator.serviceWorker.register("sw.js").then((function(e){var t;return null===(t=e.active)||void 0===t?void 0:t.state})));case 4:return e.abrupt("return",Promise.reject("No Service Worker"));case 5:case"end":return e.stop()}}),e)})))),k=(0,a.oM)({name:"serviceWorker",initialState:{registered:!1},reducers:{serviceWorkerNewTermsAdded:function(e,t){var r=t.payload.newestWords;for(var n in r){var o=r[n],i=o.freq;o.dic,g.jP,"phrases"===n&&g.kh,console.warn("serviceWorkerNewTermsAdded Disabled"),console.warn(i.length+" new "+n)}}},extraReducers:function(e){e.addCase(O.fulfilled,(function(e){e.registered=!0}))}});k.actions.serviceWorkerNewTermsAdded;const P=k.reducer;var A=r(8681),E=r(3999),N=(0,a.xC)({reducer:{global:E.ZP,sw:P,version:m,kana:c.ZP,vocabulary:b.ZP,opposite:l.ZP,phrases:s.ZP,kanji:u.ZP,particle:A.ZP}}),T=r(4184),L=r.n(T),C=r(9655),M=r(6335),I=r(5231),R=r(3151),D=r(1949),_=r(2917),F=r(3494),G=r(1436),q=r(7625),U=r(3072),Z=r(5591),W=r(663),V=r(5649),z=r(2387),K=r(6627),H=r(726),J=r(5893);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.kana.setting})).charSet,r=X((0,n.useState)(!0),2),o=r[0],a=r[1],u=X((0,n.useState)(0),2),l=u[0],s=u[1],f=X((0,n.useState)(0),2),d=f[0],v=f[1],p=(0,n.useCallback)((function(){o?(a(!1),document.body.classList.add("no-scroll"),window.scrollTo(0,0)):(a(!0),document.body.classList.remove("no-scroll"))}),[o]),h=(0,n.useCallback)((function(e){if(e.target){var t=e.target;if(Array.from(document.getElementsByClassName("force-collapse")).includes(t))p();else if(!Array.from(document.getElementsByClassName("prevent-collapse")).includes(t))return p(),!1}}),[p]),y=(0,n.useMemo)((function(){return[{meta:B(B({},W.KanaGameMeta),{},{label:(0,U.w_)(t,W.KanaGameMeta.label)}),icon:(0,J.jsx)("div",{className:"not-a-real-icon",children:(0,U.w_)(t,["あ","ア","*"])}),wrap:function(t){return(0,J.jsx)("div",{className:"clickable prevent-collapse",onClick:(0,Z.cM)(e,c.I_),children:t})}},{meta:_.OppositesGameMeta,icon:(0,J.jsx)(q.G,{icon:G.ejD,size:"2x"})},{meta:[H.VocabularyMeta,z.PhrasesMeta][l],icon:(0,J.jsx)(q.G,{icon:G.yGG,size:"2x"}),wrap:function(e){return(0,J.jsx)("div",{className:"clickable prevent-collapse",onClick:(0,Z.kP)(s,(function(e){return(0,U.II)(e,["Vocab","Phrases"])})),children:e})}},{meta:F.ParticlesGameMeta,icon:(0,J.jsx)(q.G,{icon:G._zQ,size:"2x"})},{meta:[V.KanjiMeta,R.KanjiGameMeta][d],icon:(0,J.jsx)("div",{className:"not-a-real-icon",children:(0,U.w_)(d,["漢","G"])}),wrap:function(e){return(0,J.jsx)("div",{className:"clickable prevent-collapse",onClick:(0,Z.kP)(v,(function(e){return(0,U.II)(e,["Kanji","KanjiGame"])})),children:e})}},{meta:K.SettingsMeta,icon:(0,J.jsx)(q.G,{icon:G.klh,size:"2x"})}]}),[e,t,d,l]);return(0,J.jsx)("div",{className:"navigation",children:(0,J.jsxs)("nav",{className:"my-navbar",children:[(0,J.jsx)(C.rU,{"aria-label":"Home",to:"/"}),(0,J.jsx)("div",{className:"button d-lg-none mt-2 me-2",onClick:p,children:(0,J.jsxs)("button",{className:L()({"nav-menu-btn":!0,collapsed:o}),type:"button","aria-controls":"nav-menu-mobile","aria-expanded":"false","aria-label":"Toggle mobile navigation",children:[(0,J.jsx)("span",{className:"nav-btn-line"}),(0,J.jsx)("span",{className:"nav-btn-line"}),(0,J.jsx)("span",{className:"nav-btn-line"})]})}),(0,J.jsx)("div",{className:L()({"mobile d-lg-none":!0,collapse:o}),id:"nav-menu-mobile",onClick:h,children:(0,J.jsx)("ul",{className:"w-100 d-flex justify-content-evenly flex-wrap p-4",children:y.map((function(e,t){return(0,J.jsxs)("li",{className:"w-25 text-center m-3",children:[(0,J.jsx)(C.rU,{to:e.meta.location,children:(0,J.jsx)("div",{className:"icon force-collapse mb-2",children:e.icon})}),(0,J.jsx)("div",{className:"caption",children:e.wrap?e.wrap(e.meta.label):e.meta.label})]},t)}))})}),(0,J.jsx)("div",{className:"desktop d-none d-lg-block pt-2 pe-2",children:(0,J.jsx)("ul",{className:"d-flex",children:y.map((function(e,t){return(0,J.jsx)("li",{children:(0,J.jsx)(C.rU,{className:"desktop-link",to:e.meta.location,children:e.wrap?e.wrap(e.meta.label):e.meta.label})},t)}))})})]})})}var re=(0,n.lazy)((function(){return r.e(236).then(r.bind(r,1236))})),ne=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,2387))})),oe=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,726))})),ie=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,2917))})),ae=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,663))})),ce=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,5649))})),ue=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,3151))})),le=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,1949))})),se=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,3494))})),fe=(0,n.lazy)((function(){return Promise.resolve().then(r.bind(r,6627))}));function de(){var e=(0,i.I0)();(0,n.useEffect)((function(){e(y()),e((0,E.gK)()),e(O()).then((function(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(t){t.data.type===g.L6&&e((0,E.kg)(t.data.msg,t.data.lvl,g.L6))}))}))}),[]);var t=(0,i.v9)((function(e){return e.global})).darkMode,r=T({"d-flex flex-column":!0,"dark-mode":t});return(0,J.jsx)(C.UT,{basename:"/",children:(0,J.jsxs)("div",{id:"page-content",className:r,children:[(0,J.jsx)(I.Z,{connected:!0}),(0,J.jsx)(te,{}),(0,J.jsx)(n.Suspense,{fallback:(0,J.jsx)("div",{}),children:(0,J.jsxs)(M.Z5,{children:[(0,J.jsx)(M.AW,{path:"/",element:(0,J.jsx)(oe,{})}),(0,J.jsx)(M.AW,{path:z.PhrasesMeta.location,element:(0,J.jsx)(ne,{})}),(0,J.jsx)(M.AW,{path:H.VocabularyMeta.location,element:(0,J.jsx)(oe,{})}),(0,J.jsx)(M.AW,{path:_.OppositesGameMeta.location,element:(0,J.jsx)(ie,{})}),(0,J.jsx)(M.AW,{path:W.KanaGameMeta.location,element:(0,J.jsx)(ae,{})}),(0,J.jsx)(M.AW,{path:V.KanjiMeta.location,element:(0,J.jsx)(ce,{})}),(0,J.jsx)(M.AW,{path:R.KanjiGameMeta.location,element:(0,J.jsx)(ue,{})}),(0,J.jsx)(M.AW,{path:D.KanjiGridMeta.location,element:(0,J.jsx)(le,{})}),(0,J.jsx)(M.AW,{path:F.ParticlesGameMeta.location,element:(0,J.jsx)(se,{})}),(0,J.jsx)(M.AW,{path:K.SettingsMeta.location,element:(0,J.jsx)(fe,{})}),(0,J.jsx)(M.AW,{path:"*",element:(0,J.jsx)(re,{})})]})})]})})}var ve=document.querySelector("#app-container");(0,o.s)(ve).render((0,J.jsx)(n.StrictMode,{children:(0,J.jsx)(i.zt,{store:N,children:(0,J.jsx)(de,{})})}))},3999:(e,t,r)=>{r.d(t,{zA:()=>R,ZP:()=>_,M4:()=>A,gK:()=>N,kg:()=>D,cv:()=>M,TJ:()=>E,nh:()=>I,In:()=>C});var n=r(9829),o=r(4613),i=r(6777),a=r(7949),c=r(4026);function u(){if("storage"in navigator&&"persist"in navigator.storage)return navigator.storage.persisted().then((function(e){return s().then((function(t){return{quota:t.quota,usage:t.usage,persistent:e}}))}));var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return Promise.reject(e)}function l(){var e=new Error("Browser does not support persistent storage",{cause:{code:"PersistentStorageUnsupported"}});return"storage"in navigator&&"persist"in navigator.storage?navigator.storage.persisted().then((function(t){return t?s().then((function(e){return{quota:e.quota,usage:e.usage,persistent:t,warning:void 0}})):navigator.storage.persist().then((function(t){return t?("Storage will not be cleared except by explicit user action",s().then((function(e){return{quota:e.quota,usage:e.usage,persistent:t,warning:"Storage will not be cleared except by explicit user action"}}))):Promise.reject(e)}))})):Promise.reject(e)}function s(){return new Promise((function(e,t){"webkitTemporaryStorage"in navigator?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,r){e({quota:r,usage:t})}),t):null!=navigator.storage&&null!=navigator.storage.estimate?navigator.storage.estimate().then(e).catch(t):t(new Error("Quota info unsupported",{cause:{code:"QuotaInfoUnsupported"}}))}))}var f=r(4728),d=r(2761),v=r(4320),p=r(4724),h=r(8681),y=r(7713),m=r(9579);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function v(){}function p(){}var h={};u(h,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var g=p.prototype=d.prototype=Object.create(h);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,c){var u=s(e[n],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==b(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:v,configurable:!0}),v.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function O(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){O(i,n,o,a,c,"next",e)}function c(e){O(i,n,o,a,c,"throw",e)}a(void 0)}))}}var P={darkMode:!1,memory:{quota:0,usage:0,persistent:!1},debug:0,console:[],swipeThreshold:0,motionThreshold:0},A=(0,n.hg)("setting/getMemoryStorageStatus",function(){var e=k(S().mark((function e(t,r){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().catch((function(e){throw r.dispatch(D("Could not get memory storage status",c.x6.WARN)),r.dispatch(D(e.message,c.x6.WARN)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),E=(0,n.hg)("setting/setPersistentStorage",function(){var e=k(S().mark((function e(t,r){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l().catch((function(e){throw r.dispatch(D("Could not set persistent storage",c.x6.WARN)),r.dispatch(D(e.message,c.x6.WARN)),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),N=(0,n.hg)("setting/localStorageSettingsInitialized",function(){var e=k(S().mark((function e(t,r){var n,c;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.xr)(i._),r.dispatch((0,p.DA)(n.opposite)),r.dispatch((0,f.fN)(n.phrases)),r.dispatch((0,d.QJ)(n.kanji)),r.dispatch((0,v.z7)(n.kana)),r.dispatch((0,h.ok)(n.particle)),r.dispatch((0,y.az)(n.vocabulary)),c=o(P,w({},n.global)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),T=(0,n.oM)({name:"setting",initialState:P,reducers:{toggleDarkMode:function(e){var t=new Date;(0,a.JW)(t,{global:e},"/global/","darkMode",!e.darkMode),e.darkMode=!e.darkMode},setSwipeThreshold:function(e,t){var r=t.payload,n=new Date;e.swipeThreshold=(0,a.JW)(n,{global:e},"/global/","swipeThreshold",r)},setMotionThreshold:function(e,t){var r=t.payload,n=new Date;e.motionThreshold=(0,a.JW)(n,{global:e},"/global/","motionThreshold",r)},debugToggled:{reducer:function(e,t){var r=t.payload,n=(0,c.P_)(e.debug+1,Object.values(c.x6),r);e.debug=(0,a.JW)(new Date,{global:e},"/global/","debug",n)},prepare:function(e){return{payload:e}}},logger:{reducer:function(e,t){var r,n,o=e.debug,i=t.payload,a=i.msg,c=i.lvl,u=i.type;0!==o&&c<=o&&(r=u===m.L6?"SW: "+a:"UI: "+a,e.console=[].concat(function(e){if(Array.isArray(e))return g(e)}(n=e.console)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{msg:r,lvl:c}]))},prepare:function(e){return{payload:{msg:e,lvl:arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.x6.DEBUG,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ui_logger_msg"}}}}},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){return w({},t.payload)})),e.addCase(A.fulfilled,(function(e,t){var r=t.payload,n=r.quota,o=r.usage,i=r.persistent;e.memory={quota:n,usage:o,persistent:i}})),e.addCase(E.fulfilled,(function(e,t){var r=t.payload,n=r.quota,o=r.usage,i=r.persistent,a=r.warning;a&&console.warn(a),e.memory={quota:n,usage:o,persistent:i}}))}}),L=T.actions,C=L.toggleDarkMode,M=L.setMotionThreshold,I=L.setSwipeThreshold,R=L.debugToggled,D=L.logger;const _=T.reducer},4320:(e,t,r)=>{r.d(t,{Bs:()=>g,I_:()=>b,PD:()=>w,ZP:()=>x,_S:()=>j,z7:()=>p});var n=r(9829),o=r(4613),i=r(6954),a=r(7949),c=r(4026);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var v={};function p(){}function h(){}function y(){}var m={};l(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var l=f(e[n],e,i);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==u(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),l(j,c,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}function v(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}var p=(0,n.hg)("kana/kanaFromLocalStorage",function(){var e,t=(e=d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,c,"next",e)}function c(e){v(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),h={hiragana:i.Bw,katakana:i.TU,vowels:i.Be,consonants:i.sH,sounds:i.jX,setting:{choiceN:16,wideMode:!1,easyMode:!1,charSet:0}},y=(0,n.oM)({name:"kana",initialState:h,reducers:{toggleKana:function(e){var t=e.setting.charSet,r=t+1<Object.keys(c.kS).length?t+1:c.kS.HIRAGANA;e.setting.charSet=(0,a.JW)(new Date,{kana:e.setting},"/kana/","charSet",r)},setKanaBtnN:function(e,t){var r=t.payload;e.setting.choiceN=(0,a.JW)(new Date,{kana:e.setting},"/kana/","choiceN",r)},toggleKanaEasyMode:function(e){e.setting.easyMode=(0,a.JW)(new Date,{kana:e.setting},"/kana/","easyMode")},toggleKanaGameWideMode:function(e){e.setting.wideMode=(0,a.JW)(new Date,{kana:e.setting},"/kana/","wideMode")}},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,t){var r=t.payload,n=o(h.setting,r);return s(s({},e),{},{setting:s({},n)})}))}}),m=y.actions,b=m.toggleKana,g=m.setKanaBtnN,j=m.toggleKanaEasyMode,w=m.toggleKanaGameWideMode;const x=y.reducer},2761:(e,t,r)=>{r.d(t,{LD:()=>S,Mh:()=>O,QJ:()=>b,SI:()=>k,X8:()=>x,ZP:()=>N,cy:()=>A,ow:()=>P,tk:()=>m,vT:()=>E});var n=r(9829),o=r(4613),i=r(3827),a=r(976),c=r(4026),u=r(7949);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function v(){}function h(){}function y(){}var m={};u(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=v.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var u=f(e[n],e,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==l(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function h(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,c,"next",e)}function c(e){h(i,n,o,a,c,"throw",e)}a(void 0)}))}}var m=(0,n.hg)("kanji/getKanji",function(){var e=y(p().mark((function e(t,r){var n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.kanji||"0")&&console.error("fetching kanji: 0"),e.abrupt("return",fetch(i.qe.databaseURL+"/lambda/kanji.json",{headers:{"Data-Version":o}}).then((function(e){return e.json().then((function(e){return{value:e,version:o}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("kanji/kanjiFromLocalStorage",function(){var e=y(p().mark((function e(t){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g={value:[],version:"",tagObj:[],setting:{choiceN:32,filter:2,reinforce:!1,repTID:-1,repetition:{},activeGroup:[],activeTags:[]}},j=(0,n.oM)({name:"kanji",initialState:g,reducers:{toggleKanjiActiveTag:function(e,t){var r,n,o=t.payload,i=e.setting.activeTags;r=i.includes(o)?i.filter((function(e){return e!==o})):[].concat(function(e){if(Array.isArray(e))return v(e)}(n=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]),e.setting.activeTags=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","activeTags",r)},toggleKanjiActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,c.c0)(o,n);e.setting.activeGroup=(0,u.JW)(new Date,{kaji:e.setting},"/kanji/","activeGroup",i)},addFrequencyKanji:function(e,t){var r=t.payload,n=(0,c.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",n)},removeFrequencyKanji:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,c.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","repetition",i),i&&(e.setting.repTID=Date.now(),e.setting.repetition=i)}},setKanjiBtnN:function(e,t){var r=t.payload;e.setting.choiceN=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","choiceN",r)},toggleKanjiFilter:function(e,t){var r=t.payload,n=e.setting,o=n.filter,i=n.reinforce,a=(0,c.P_)(o+1,[c.Lx.FREQUENCY,c.Lx.TAGS],r);e.setting.filter=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","filter",a),0!==a&&i&&(e.setting.reinforce=!1)},toggleKanjiReinforcement:function(e){e.setting.reinforce=(0,u.JW)(new Date,{kanji:e.setting},"/kanji/","reinforce")}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version,i=Object.keys(n).map((function(e){return f(f({},n[e]),{},{uid:e,tag:void 0===n[e].tag?[]:n[e].tag})}));e.tagObj=(0,a.fh)(n),e.value=i,e.version=o})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload,n=o(g.setting,r);return f(f({},e),{},{setting:f(f({},n),{},{repTID:Date.now()})})}))}}),w=j.actions,x=w.toggleKanjiActiveTag,S=w.toggleKanjiActiveGrp,O=w.addFrequencyKanji,k=w.removeFrequencyKanji,P=w.setKanjiBtnN,A=w.toggleKanjiFilter,E=w.toggleKanjiReinforcement;const N=j.reducer},4724:(e,t,r)=>{r.d(t,{CO:()=>m,Cz:()=>b,DA:()=>p,ZP:()=>g,bt:()=>v});var n=r(9829),o=r(3827),i=r(7949);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var v={};function p(){}function h(){}function y(){}var m={};l(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,c,u){var l=d(e[n],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,c,u)}),(function(e){o("throw",e,c,u)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return o("throw",e,c,u)}))}u(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=l(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}function f(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,c,"next",e)}function c(e){f(i,n,o,a,c,"throw",e)}a(void 0)}))}}var v=(0,n.hg)("opposite/getOpposite",function(){var e=d(s().mark((function e(t,r){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(i=n.version.phrases||"0")&&console.error("fetching opposite: 0"),e.abrupt("return",fetch(o.qe.databaseURL+"/lambda/opposites.json",{headers:{"Data-Version":i}}).then((function(e){return e.json().then((function(e){return{value:e,version:i}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=(0,n.hg)("opposite/oppositeFromLocalStorage",function(){var e=d(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,n.oM)({name:"opposite",initialState:{value:[],version:"",aRomaji:!1,qRomaji:!1},reducers:{setOppositesARomaji:function(e){var t=new Date,r={opposite:e};e.aRomaji=(0,i.JW)(t,r,"/opposite/","aRomaji")},setOppositesQRomaji:function(e){var t=new Date,r={opposite:e};(0,i.JW)(t,r,"/opposite/","qRomaji",!e.qRomaji),e.qRomaji=!e.qRomaji}},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version;e.value=n,e.version=o})),e.addCase(p.fulfilled,(function(e,t){var r=t.payload;return u(u({},e),r)}))}}),y=h.actions,m=y.setOppositesARomaji,b=y.setOppositesQRomaji;const g=h.reducer},8681:(e,t,r)=>{r.d(t,{ZP:()=>O,aq:()=>b,ok:()=>g,ro:()=>S});var n=r(9829),o=r(4613),i=r(2440),a=r(3246),c=r(7949),u=r(4728);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function v(){}function p(){}function y(){}var m={};u(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=v.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var u=f(e[n],e,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==l(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:p,configurable:!0}),p.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,c,"next",e)}function c(e){y(i,n,o,a,c,"throw",e)}a(void 0)}))}}var b=(0,n.hg)("particle/getParticleGame",function(){var e=m(h().mark((function e(t,r){var n,o,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState().particle,!((o=r.getState().phrases.value).length>0)){e.next=9;break}return i=0===n.particleGame.phrases.length,a=void 0,i&&(a=j(o)),e.abrupt("return",{game:a});case 9:return e.abrupt("return",r.dispatch((0,u.cC)()).then((function(e){var t=e.payload.value,r=(0,u.Y1)(t);return{phrase:r,game:j(r)}})));case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),g=(0,n.hg)("particleGame/particleFromLocalStorage",function(){var e=m(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function j(e){var t=[],r={},n=e.reduce((function(e,n){var o;if(n.particles&&(null===(o=n.particles)||void 0===o?void 0:o.length)>0){var c=a.TZ.parse(n).getSpelling();n.particles.forEach((function(o){if(2===c.split(o).length){var a=(0,i.C5)(o),u=c.indexOf(o),l={japanese:o,romaji:a,html:o},s={japanese:o,romaji:a,start:u,end:u+o.length,html:o};t=[].concat(v(t),[l]),e=[].concat(v(e),[{answer:s,question:n,english:n.english,literal:n.lit}])}else r=f(f({},r),{},d({},n.english,{japanese:c,particle:o,times:c.split(o).length}))}))}return e}),[]);return console.error("More than one match "+Object.keys(r).length),console.table(r),{phrases:n,particles:t}}var w={particleGame:{phrases:[],particles:[]},setting:{aRomaji:!1}},x=(0,n.oM)({name:"particleGame",initialState:w,reducers:{setParticlesARomaji:function(e){e.setting.aRomaji=(0,c.JW)(new Date,{particle:e.setting},"/particle/","aRomaji")}},extraReducers:function(e){e.addCase(b.fulfilled,(function(e,t){var r=t.payload.game;r&&(e.particleGame=r)})),e.addCase(g.fulfilled,(function(e,t){var r=t.payload,n=o(w.setting,r);return f(f({},e),{},{setting:f({},n)})}))}}),S=x.actions.setParticlesARomaji;const O=x.reducer},4728:(e,t,r)=>{r.d(t,{Lp:()=>E,OJ:()=>O,Y1:()=>y,ZP:()=>L,cC:()=>m,cz:()=>P,d1:()=>S,f6:()=>k,fN:()=>b,gP:()=>N,mW:()=>T,s5:()=>g,vy:()=>A});var n=r(9829),o=r(4613),i=r(3827),a=r(976),c=r(7949),u=r(4026);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var v={};function p(){}function h(){}function y(){}var m={};u(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var u=d(e[n],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},e}function f(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,c,"next",e)}function c(e){f(i,n,o,a,c,"throw",e)}a(void 0)}))}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){return Object.keys(e).map((function(t){return p(p({},e[t]),{},{uid:t})}))},m=(0,n.hg)("phrase/getPhrase",function(){var e=d(s().mark((function e(t,r){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.phrases||"0")&&console.error("fetching phrase: 0"),e.abrupt("return",fetch(i.qe.databaseURL+"/lambda/phrases.json",{headers:{"Data-Version":o}}).then((function(e){return e.json().then((function(e){return{value:e,version:o}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("phrase/phraseFromLocalStorage",function(){var e=d(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=(0,n.hg)("phrase/updateSpaceRepPhrase",function(){var e=d(s().mark((function e(t,r){var n,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,o=t.shouldIncrement,i=r.getState().phrases,a=i.setting.repetition,e.abrupt("return",(0,u.pg)(n,a,{count:o,date:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),j={value:[],version:"",grpObj:{},setting:{ordered:0,practiceSide:!1,romaji:!1,reinforce:!1,repTID:-1,repetition:{},frequency:{uid:void 0,count:0},activeGroup:[],filter:0}},w=(0,n.oM)({name:"phrase",initialState:j,reducers:{togglePhrasesFilter:function(e,t){var r=t.payload,n=[u.Lx.FREQUENCY,u.Lx.GROUP],o=e.setting,i=o.filter,a=o.reinforce,l=(0,u.P_)(i+1,n,r);e.setting.filter=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","filter",l),l!==u.Lx.GROUP&&a&&(e.setting.reinforce=!1)},togglePhraseActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,u.c0)(o,n);e.setting.activeGroup=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","activeGroup",i)},togglePhrasesReinforcement:function(e){e.setting.reinforce=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","reinforce")},addFrequencyPhrase:function(e,t){var r=t.payload,n=(0,u.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",n);var o={uid:r,count:e.setting.frequency.count+1};e.setting.frequency=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",o)},removeFrequencyPhrase:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,u.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",i);var a={uid:n,count:e.setting.frequency.count-1};e.setting.frequency=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","frequency",a)}},flipPhrasesPracticeSide:function(e){e.setting.practiceSide=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","practiceSide")},togglePhrasesRomaji:function(e){e.setting.romaji=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","romaji")},togglePhrasesOrdering:function(e){var t=[u.vl.RANDOM,u.vl.VIEW_DATE],r=e.setting.ordered,n=(0,u.P_)(r+1,t);e.setting.ordered=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","ordered",n)}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version;e.grpObj=(0,a.by)(n),e.value=y(n),e.version=o})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload,n=o(j.setting,r),i=Object.keys(n.repetition).filter((function(e){var t;return!0===(null===(t=n.repetition[e])||void 0===t?void 0:t.rein)}));return n.frequency={uid:void 0,count:i.length},p(p({},e),{},{setting:p(p({},n),{},{repTID:Date.now()})})})),e.addCase(g.fulfilled,(function(e,t){var r=t.payload.value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{phrases:e.setting},"/phrases/","repetition",r)}))}}),x=w.actions,S=x.flipPhrasesPracticeSide,O=x.togglePhrasesRomaji,k=x.togglePhrasesFilter,P=x.togglePhraseActiveGrp,A=x.togglePhrasesReinforcement,E=x.addFrequencyPhrase,N=x.removeFrequencyPhrase,T=x.togglePhrasesOrdering;const L=w.reducer},4026:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Lx:()=>s,P_:()=>p,c0:()=>h,iU:()=>v,kS:()=>d,pg:()=>y,vl:()=>f,x6:()=>l});var l=Object.freeze({OFF:0,ERROR:1,WARN:2,DEBUG:3}),s=Object.freeze({GROUP:0,FREQUENCY:1,TAGS:2}),f=Object.freeze({RANDOM:0,ALPHABETIC:1,VIEW_DATE:2,GAME:3,DIFFICULTY:4}),d=Object.freeze({HIRAGANA:0,KATAKANA:1,MIXED:2}),v=["Randomized","Alphabetic","Staleness","Space Rep","Difficulty"];function p(e,t,r){var n=Math.max.apply(Math,c(t)),o=e;if(void 0!==r&&t.includes(r))o=r;else for(;!t.includes(o)||o>n;)o=o+1>n?0:o+1;return o}function h(e,t){var r=[],n=c(new Set(e)),o=c(new Set(t));return n.forEach((function(e){var t=-1===e.indexOf(".");r=t?o.some((function(t){return-1!==t.indexOf(e+".")}))?[].concat(c(o.filter((function(t){return-1===t.indexOf(e+".")}))),[e]):o.includes(e)?c(o.filter((function(t){return t!==e}))):[].concat(c(o),[e]):o.includes(e)?o.filter((function(t){return t!==e})):[].concat(c(o),[e])})),r}function y(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{count:!0,date:!0},c=arguments.length>3?arguments[3]:void 0,u=void 0===t[e]?void 0:a({},e,t[e]);n=t[e]&&t[e].vC>0&&!0===o.count?t[e].vC+1:t[e]&&t[e].vC>0&&!1===o.count?t[e].vC:1;var l={};if(void 0!==c){if(c.toggle){var s=c.toggle.reduce((function(r,n){var o;return o=["f"].includes(n)?!(t[e]&&!1===t[e][n]):t[e]&&t[e][n],i(i({},r),{},a({},n,!o))}),{});l=i(i({},l),s)}if(void 0!==c.set){var f=Object.keys(c.set).reduce((function(e,t){return void 0!==c.set&&void 0!==c.set[t]&&(e=null===c.set[t]?i(i({},e),{},a({},t,void 0)):i(i({},e),{},a({},t,c.set[t]))),e}),{});l=i(i({},l),f)}}var d=void 0!==(null===(r=t[e])||void 0===r?void 0:r.d)&&!1===o.date?t[e].d:(new Date).toJSON(),v=i(i({},t[e]||{}),{},{vC:n,d},l),p=a({},e,v);return{map:p,prevMap:u=void 0===u?i({},p):u,value:i(i({},t),p)}}},7713:(e,t,r)=>{r.d(t,{$u:()=>D,E3:()=>j,Gy:()=>q,Hi:()=>P,Rz:()=>m,S5:()=>_,Tn:()=>L,VX:()=>M,Vb:()=>R,Wo:()=>b,ZP:()=>Z,ZZ:()=>T,_4:()=>G,_n:()=>O,az:()=>g,d1:()=>U,eK:()=>N,gl:()=>C,kn:()=>F,oG:()=>I,rZ:()=>S,sG:()=>E,wf:()=>A,xz:()=>k});var n=r(9829),o=r(4613),i=r(3827),a=r(3072),c=r(7949),u=r(976),l=r(4026);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new A(o||[]);return n(a,"_invoke",{value:S(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function v(){}function h(){}function y(){}var m={};u(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&r.call(g,i)&&(m=g);var j=y.prototype=v.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(n,i,a,c){var u=f(e[n],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==s(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(j,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function h(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,c,"next",e)}function c(e){h(i,n,o,a,c,"throw",e)}a(void 0)}))}}var m=(0,n.hg)("vocabulary/getVocabulary",function(){var e=y(p().mark((function e(t,r){var n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),"0"===(o=n.version.vocabulary||"0")&&console.error("fetching vocabulary: 0"),e.abrupt("return",fetch(i.qe.databaseURL+"/lambda/vocabulary.json",{headers:{"Data-Version":o}}).then((function(e){return e.json().then((function(e){return{value:e,version:o}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=(0,n.hg)("vocabulary/updateSpaceRepWord",function(){var e=y(p().mark((function e(t,r){var n,o,i,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,o=t.shouldIncrement,i=r.getState().vocabulary,a=i.setting.repetition,e.abrupt("return",(0,l.pg)(n,a,{count:o,date:!0}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),g=(0,n.hg)("vocabulary/vocabularyFromLocalStorage",function(){var e=y(p().mark((function e(t){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j={value:[],version:"",grpObj:{},verbForm:"dictionary",setting:{ordered:0,practiceSide:!1,romaji:!1,bareKanji:!1,hintEnabled:!1,filter:0,memoThreshold:a.YZ,reinforce:!1,repTID:-1,repetition:{},activeGroup:[],autoVerbView:!1,verbColSplit:0,verbFormsOrder:(0,a.kf)().map((function(e){return e.name}))}},w=(0,n.oM)({name:"vocabulary",initialState:j,reducers:{verbFormChanged:function(e,t){return d(d({},e),{},{verbForm:t.payload})},toggleVocabularyActiveGrp:function(e,t){var r=t.payload,n=e.setting.activeGroup,o=Array.isArray(r)?r:[r],i=(0,l.c0)(o,n);e.setting.activeGroup=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","activeGroup",i)},furiganaToggled:function(e,t){var r=t.payload,n=(0,l.pg)(r,e.setting.repetition,{count:!1,date:!1},{toggle:["f"]}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",n)},toggleVocabularyReinforcement:function(e){e.setting.reinforce=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","reinforce")},toggleVocabularyOrdering:function(e,t){var r=e.setting.ordered,n=t.payload,o=[l.vl.ALPHABETIC,l.vl.DIFFICULTY,l.vl.GAME,l.vl.RANDOM,l.vl.VIEW_DATE],i=(0,l.P_)(r+1,o,n);e.setting.ordered=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","ordered",i)},flipVocabularyPracticeSide:function(e){e.setting.practiceSide=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","practiceSide")},toggleVocabularyRomaji:function(e){e.setting.romaji=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","romaji")},toggleVocabularyBareKanji:function(e){e.setting.bareKanji=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","bareKanji")},toggleVocabularyHint:function(e){e.setting.hintEnabled=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","hintEnabled")},toggleVocabularyFilter:function(e,t){var r=[l.Lx.FREQUENCY,l.Lx.GROUP],n=t.payload,o=e.setting,i=o.filter,a=o.reinforce,u=(0,l.P_)(i+1,r,n);e.setting.filter=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","filter",u),0!==u&&a&&(e.setting.reinforce=!1)},setVerbFormsOrder:function(e,t){var r=t.payload;e.setting.verbFormsOrder=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbFormsOrder",r)},toggleAutoVerbView:function(e){e.setting.autoVerbView=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","autoVerbView")},updateVerbColSplit:function(e,t){var r=t.payload;e.setting.verbColSplit=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","verbColSplit",r)},addFrequencyWord:function(e,t){var r=t.payload,n=(0,l.pg)(r,e.setting.repetition,{count:!1,date:!1},{set:{rein:!0}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",n)},removeFrequencyWord:function(e,t){var r,n=t.payload,o=e.setting.repetition;if(!0===(null===(r=o[n])||void 0===r?void 0:r.rein)){var i=(0,l.pg)(n,o,{count:!1,date:!1},{set:{rein:null}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",i)}},setMemorizedThreshold:function(e,t){var r=t.payload;e.setting.memoThreshold=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","memoThreshold",r)},setWordDifficulty:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.value,i=(0,l.pg)(n,e.setting.repetition,{count:!1,date:!1},{set:{difficulty:o}}).value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",i)},prepare:function(e,t){return{payload:{uid:e,value:t}}}},setWordTPCorrect:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.tpElapsed,i=r.pronunciation,a=e.setting.repetition,u=1,l=1,s=o;if(a[n]){var f=a[n].tpPc,p=a[n].tpAcc,h=a[n].tpCAvg||0;if(void 0!==f&&null!=p){var y=f*p;l=(y+1)/(u=f+1),s=(h*y+o)/(y+1)}}var m=d(d({},a[n]||{}),{},{pron:null===i||void 0===a[n]?void 0:a[n].pron,tpPc:u,tpAcc:l,tpCAvg:s}),b=d(d({},a),{},v({},n,m));e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",b)},prepare:function(e,t){return{payload:{uid:e,tpElapsed:t,pronunciation:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).pronunciation}}}},setWordTPIncorrect:{reducer:function(e,t){var r=t.payload,n=r.uid,o=r.pronunciation,i=e.setting.repetition,a=1,u=0;if(i[n]){var l=i[n].tpPc,s=i[n].tpAcc;void 0!==l&&null!=s&&(u=(l*s+0)/(a=l+1))}var f=d(d({},i[n]||{}),{},{tpPc:a,tpAcc:u,pron:!0===o||void 0}),p=d(d({},i),{},v({},n,f));e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",p)},prepare:function(e){return{payload:{uid:e,pronunciation:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).pronunciation}}}}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){var r=t.payload,n=o(j.setting,r);return d(d({},e),{},{setting:d(d({},n),{},{repTID:Date.now()})})})),e.addCase(m.fulfilled,(function(e,t){var r=t.payload,n=r.value,o=r.version;e.grpObj=(0,u.by)(n),e.value=(0,u.MS)(n),e.version=o})),e.addCase(b.fulfilled,(function(e,t){var r=t.payload.value;e.setting.repTID=Date.now(),e.setting.repetition=(0,c.JW)(new Date,{vocabulary:e.setting},"/vocabulary/","repetition",r)}))}}),x=w.actions,S=x.verbFormChanged,O=x.furiganaToggled,k=x.removeFrequencyWord,P=x.setVerbFormsOrder,A=x.toggleVocabularyOrdering,E=x.toggleVocabularyActiveGrp,N=x.toggleAutoVerbView,T=x.toggleVocabularyFilter,L=x.toggleVocabularyHint,C=x.toggleVocabularyReinforcement,M=x.toggleVocabularyRomaji,I=x.updateVerbColSplit,R=x.toggleVocabularyBareKanji,D=x.flipVocabularyPracticeSide,_=x.addFrequencyWord,F=x.setWordDifficulty,G=x.setMemorizedThreshold,q=x.setWordTPCorrect,U=x.setWordTPIncorrect;const Z=w.reducer},6954:e=>{e.exports=JSON.parse('{"Be":["a","i","u","e","o"],"sH":["","k","g","s","z","t","d","n","h","b","p","m","y","r","w","N"],"Bw":[["あ","い","う","え","お"],["か","き","く","け","こ"],["が","ぎ","ぐ","げ","ご"],["さ","し","す","せ","そ"],["ざ","じ","ず","ぜ","ぞ"],["た","ち","つ","て","と"],["だ","ぢ","づ","で","ど"],["な","に","ぬ","ね","の"],["は","ひ","ふ","へ","ほ"],["ば","び","ぶ","べ","ぼ"],["ぱ","ぴ","ぷ","ぺ","ぽ"],["ま","み","む","め","も"],["や"," ","ゆ"," ","よ"],["ら","り","る","れ","ろ"],["わ","ゐ"," ","ゑ","を"],["ん"," "," "," "," "]],"TU":[["ア","イ","ウ","エ","オ"],["カ","キ","ク","ケ","コ"],["ガ","ギ","グ","ゲ","ゴ"],["サ","シ","ス","セ","ソ"],["ザ","ジ","ズ","ゼ","ゾ"],["タ","チ","ツ","テ","ト"],["ダ","ヂ","ヅ","デ","ド"],["ナ","ニ","ヌ","ネ","ノ"],["ハ","ヒ","フ","ヘ","ホ"],["バ","ビ","ブ","ベ","ボ"],["パ","ピ","プ","ペ","ポ"],["マ","ミ","ム","メ","モ"],["ヤ"," ","ユ"," ","ヨ"],["ラ","リ","ル","レ","ロ"],["ワ","ヰ"," ","ヱ","ヲ"],["ン"," "," "," "," "]],"jX":{"si":"shi","ti":"chi","tu":"tsu","hu":"fu","zi":"ji","di":"dji","du":"dzu","Na":"n"}}')}},e=>{e.O(0,[913,816,794,931,612,697,555,774,25,104,105,418,642,995,86,220,183,323,593,623,617,216,810,260,303,979,655],(()=>(2104,e(e.s=2104)))),e.O()}]);